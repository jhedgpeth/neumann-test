{"version":3,"sources":["HelperConst.js","Space.js","ComputeFunc.js","Business.js","Income.js","Probe.js","objInit/BusinessInit.js","objInit/UpgradeInit.js","Sliders.js","objInit/NeumannInit.js","Upgrades.js","Announce.js","Settings.js","Logs.js","Prestige.js","objInit/ToolTips.js","ToolTip.js","MyModal.js","Neumann.js","index.js"],"names":["Decimal","require","numberformat","HelperConst","react_default","a","createElement","className","this","moneySymbol","knowledgeSymbol","prestigeSymbol","multiplySymbol","concentrateSymbol","myId","checked","onClick","type","name","id","onChange","htmlFor","DEBUG","console","log","apply","arguments","num","myFormatterNum","format","toLowerCase","myFormatterInt","backend","sigfigs","maxSmall","myNumFormat","Formatter","myNumCfg","myIntFormat","myIntCfg","duration","moneyGain","probeDistGain","days","hours","minutes","seconds","moneySymbolSpan","showNum","thumbsUpSymbol","purchaseOpts","purchaseOptsNum","filter","item","match","purchaseOptsSpecial","busBuyMilestones","vonNeumannWiki","href","mylog","DebugLog","Space","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","centerCanvas","x","y","pulseRadius","centerRadius","innerRadius","outerRadius","moonLocation","probeCount","probeStatus","conv","convertDistanceToSpace","probe","distance","mapDistance","dist","zoomLevel","idx","zoomName","planetColors","earth","sun","sunsmall","setPlanetSize","zoomDuration","zoomShown","pulseColor","pulseColorCt","starClass","planetRadius","planetColorStops","outerEllipseRef","setAttrs","radiusX","radiusY","innerEllipseRef","centerEllipseRef","pulsePause","outerEllipseMoving","innerEllipseMoving","resetProbeZoom","pulseFactor","div","xRadius","times","floor","toNumber","yRadius","_this2","eq","plus","getDistPerTick","timeMultiplier","pulseRef","probeRadius","calcProbePulseRadius","Math","sin","toFixed","toOuterRadX","toOuterRadY","toInnerRadX","toInnerRadY","toCenterRadX","toCenterRadY","to","onFinish","probeOuterZoomFinished","probeInnerZoomFinished","centerPlanetRef","radius","getSpaceInfoForIndex","_this3","rows","push","ReactKonva","key","stroke","fill","ref","node","fillRadialGradientStartPoint","fillRadialGradientStartRadius","fillRadialGradientEndPoint","fillRadialGradientEndRadius","fillRadialGradientColorStops","onMouseOver","data-tip","dash","Fragment","points","strokeWidth","qualityLoss","gt","width","text","showInt","fontSize","fontFamily","align","combatLoss","processSpaceMap","generateSpaceRender","statusRows","generateStatusText","probeDivRef","height","hitGraphEnabled","fontStyle","getLiveNumber","number","definedLevels","spaceZoomLevels","length","spaceZoomLevelNames","baseE9","diff","pow","d","n","newDist","React","Component","ComputeFunc","value","pct","numType","owned","max","maxPoss","maxCheck","retIdx","forEach","milestone","num100s","hardcodeMax","fromIdx","toIdx","milestones","c","getTotalMilestone","fromCt","toCt","from25s","to25s","from100s","to100s","retArr","resource","timeAdj","timeCounter","revenue","timeInterval","totalRevenue","learned","busStat","purchaseAmt","maxbuys","maxBuy","numBuy","parseInt","cost","costBase","costCoef","itemStat","maxUpg","availMaxUpgrade","maxOcd","primes","primeFactors","primeTime","myMaxPrime","Max","Max OCD","Max Upg","PrimeTime","primesFwd","time","i","j","store","timeEnd","milliseconds","day","hour","minute","showWith0","concat","w","h","radians","random","PI","rho","sqrt","cos","Business","domRefs","findIndex","domRef","bus","overlays","map","o","ovClass","curLeft","getDomRef","current","offsetLeft","curTop","offsetTop","counter","expire","topChg","leftChg","ovType","react_motion","defaultStyle","top","left","opacity","style","spring","yTarget","xTarget","stiffness","damping","sources","businesses","reduce","result","userSettings","busStats","revealed","totalEarningPerSec","computeTotalEarningPerSec","concentrate","b","myCost","getCost","money","nextPayout","computeNextPayoutValue","buyPctStyle","buyPct","earnPctStyle","earnPct","buttonClass","costClass","buttonDisabled","gte","myEarningPerSec","computeEarningPerSec","curPayout","myPayout","myEarningPct","getEarningPct","overlayItems","genOverlays","disabled","multiplySymbolSpan","buyNum","nextOwned","num25s","mult25","mult100","prestigeMultiplier","prestige","val","incomeBase","payoutAdj","mult","items","payout","_this4","getPayout","update","upgradeMult","$set","milestoneIdx","timeBase","reactRef","ReactDOM","findDOMNode","getBoundingClientRect","overlayCt","Income","learning","getLearningPerSec","rowsLeft","rowsRight","prestigeNext","prestigeSymbolSpan","featureEnabled","knowledgeSymbolSpan","knowledge","getDistPerSec","data-text","Probe","pSpeed","pQuality","pCombat","speed","quality","combat","lt","minus","losses","distPerSec","speedQ","ln","createSliderWithTooltip","Slider","MyRange","Range","MySlider","Sliders","probeSpendPct","rangeCt","distribRange","handleStyle","backgroundColor","border","trackStyle","railStyle","sliderCallback","min","marks","sliderMarks","step","defaultValue","dotStyle","activeDotStyle","allowCross","tipFormatter","tipProps","placement","rangeCallback","count","rangeSettings","pushable","0","fontWeight","color","label","25","50","75","100","NeumannInit","freshState","desc","incomeType","costType","initialVisible","upgrades","watchType","watchValue","costValue","rewardType","rewardTarget","rewardValue","watchTarget","announcements","modals","version","concentrateClass","tipText","lifetimeEarnings","lifetimeLearning","lifetimeDistance","curMaxMoney","curTotalClicks","buyMilestone","upgStats","toggles","sliderInfo","getRangeValues","probePcts","Upgrades","u","purchased","rewardInfo","buyClass","bgClass","costSymbol","clickAction","enableFeature","bgAnim","rsc_esm","permanentTrackY","Announce","index","annClass","ack","Settings","onoffswitch","toggleOverlay","Logs","Prestige","tipTextLookup","title","title-wrapper","tooltip","concentrate-container","purchaseAmts","business-owned","business-pct","business-cost","business-revenue","businessInfo","strings","undefined","ToolTip","t","p","input","_templateObject","_templateObject2","ToolTips","MyModal","Modal","setAppElement","lib_default","isOpen","onRequestClose","contentLabel","shouldCloseOnOverlayClick","overlayClassName","remaining","onRequestNext","Neumann","state","objectSpread","helpModalIsOpen","modalTexts","modalTitle","modalText","timerRunning","pauseClass","lastLoop","Date","now","gameSavedHide","gameSavedNotify","gameSavedCountdown","gameSavedObj","content","countdown","announceCt","modalCt","gameIntervalId","prestigeIntervalId","gameSaveIntervalId","tabIndex","populateBusDomRefs","populateInitVals","bind","assertThisInitialized","restart","resetAll","pause","resume","loadGame","saveGame","decrementSavedGameObj","updatePrestigeEarned","updateGame","clickBusiness","clickUpgrade","clickAnnouncement","purchaseAmtDropDownHandler","announce","showModal","nextModal","sliderChange","rangeChange","purchaseProbe","getSettingsTab","clickConcentrate","decrementConcentrate","updateConcentrate","openHelpModal","closeHelpModal","afterOpenHelpModal","prestigeCheat","moneyCheat","cheatPrestigeVal","setState","isLoaded","clearInterval","document","createRef","setInterval","pulseMoving","stopSaveGameInterval","startSaveGameInterval","ls","SecureLS","encodingType","saveString","get","decimalKeys","JSON","parse","includes","tempProbe","saveTime","deltaMillis","convertMillis","moneyGained","probeDistGained","goFarther","welcomeBack","saveStringText","stringify","set","concButtonClass","newVal","newPrestigeNext","calcPrestigeEarnedFromLearning","newPrestige","amt","updatePurchaseAmt","indexOf","changed","newBusinesses","addVal","newItem","numPayouts","activeOverlays","oldDist","addDist","newLearning","getLearned","updateNumber","_this5","newAnnouncements","fadeout","newAnn","_this6","busCost","newB","bonusArr","ownedMilestones","getOwnedMilestonesAttained","busMult","genOverlayObj","genOverlayArr","curIdx","getTotalMilestoneIdx","newLowest","keys","Number","MAX_SAFE_INTEGER","newIdx","getAdjustedTimeBase","getTotalMilestonesAttained","feature","reportRangePcts","upg","addOverlay","atest","defineProperty","_this7","today","getHours","getMinutes","getSeconds","getMilliseconds","toConsumableArray","createTime","_this8","xAdj","yAdj","origOverlay","slice","busIdx","_this9","pSpeedPct","pQualityPct","pCombatPct","pCost","getPct","pcts","esm","probebutton","probeattribs","sliderattribs","offlinetext","currentProbe","sliderText","getSlider","getRange","ToolTip_ToolTip","Space_Space","event","target","Settings_Settings","Logs_Logs","Prestige_Prestige","e","dataset","tip","newText","String","relatedTarget","modalPop","shift","_this10","dt","fpsPct","incrementBusinessCounters","updateProbe","incrementAnnouncementCounters","payoutMoneyThisTick","getAllPayouts","payoutKnowledgeThisTick","lte","setTitle","debugButtons","_this11","Income_Income","selectedIndex","onSelect","changeTabs","getTabList","Upgrades_Upgrades","dist_default","options","placeholder","abs","ceil","Business_Business","getSpaceTab","getPrestigeTab","getLogTab","Announce_Announce","MyModal_MyModal","render","Neumann_Neumann","getElementById"],"mappings":"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","file":"static/js/main.3490fd45.chunk.js","sourcesContent":["import React from 'react';\n// import { Decimal } from 'decimal.js';\nimport './styles/fonts.css';\nconst Decimal = require('decimal.js');\nconst numberformat = require('swarm-numberformat');\n\n// const DEBUG = true;\n\n\nexport default class HelperConst {\n    static DEBUG = true;\n\n    static moneySymbol = \"$\";\n    // static knowledgeSymbol = \"\";\n    static knowledgeSymbol = '\\u29a8';\n    // static knowledgeSymbol = \"&\";\n    static prestigeSymbol = '\\u039b';\n\n    // static rightarrow = '\\u2b95';\n\n    // static multiplySymbol = '\\u2718';\n    static multiplySymbol = '\\u2a2f';\n\n    static thumbsUpSymbol = '\\uD83D\\uDC4D\\uFE0E';\n    static concentrateSymbol = '\\uD83D\\uDE2C\\uFE0E';\n\n    static moneySymbolSpan() { return (<span className=\"moneySymbol\">{this.moneySymbol}</span>); };\n    static knowledgeSymbolSpan() { return (<span className=\"knowledgeSymbol\">{this.knowledgeSymbol}</span>); };\n    static prestigeSymbolSpan() { return (<span className=\"prestigeSymbol\">{this.prestigeSymbol}</span>); };\n    static multiplySymbolSpan() { return (<span className=\"multiplySymbol\">{this.multiplySymbol}</span>); };\n    static concentrateSymbolSpan() { return (<span className=\"concentrateSymbol\">{this.concentrateSymbol}</span>); };\n\n\n    /* https://proto.io/freebies/onoff/ */\n    static onoffswitch(myId, checked, onClick) {\n        if (myId)\n            return (\n                <div className=\"onoffswitch\">\n                    <input type=\"checkbox\" name=\"onoffswitch\" className=\"onoffswitch-checkbox\"\n                        id={\"toggle\" + myId}\n                        onChange={onClick}\n                        checked={checked}\n                    />\n                    <label className=\"onoffswitch-label\" htmlFor={\"toggle\" + myId}>\n                        <span className=\"onoffswitch-inner\"></span>\n                        <span className=\"onoffswitch-switch\"></span>\n                    </label>\n                </div>\n            )\n    }\n\n    static purchaseOpts = [\"1\", \"10\", \"25\", \"100\", \"Max\", \"Max OCD\", \"Max Upg\", \"PrimeTime\"];\n    static purchaseOptsNum = this.purchaseOpts.filter(item => item.match(/\\d/));\n    static purchaseOptsSpecial = this.purchaseOpts.filter(item => !item.match(/\\d/));\n\n    // set all-business milestones for time boost, including all 100's\n    static busBuyMilestones = [10, 25, 50];\n\n    // // in kilometers\n    // static spaceZoomLevels = [\n    //     new Decimal(\"384400\"),  // moon\n    //     new Decimal(\"2.8746e11\"), // solar system\n    //     new Decimal(\"9.5e17\"),  //  milky way (diameter)\n    //     new Decimal(\"1.11e20\"),  // NGC 4945\n    //     new Decimal(\"440e24\"),  // observable universe\n    //     // new Decimal(\"Infinity\"),\n    // ];\n    // static spaceZoomLevelNames = [\n    //     \"Moon\",\n    //     \"Solar System\",\n    //     \"Milky Way\",\n    //     \"Galaxy NGC 4945\",\n    //     \"Edge of Observable Universe\",\n    // ];\n\n    static DebugLog() {\n        if (HelperConst.DEBUG) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    static showNum(num) {\n        // this.DebugLog(\"num:\",num);\n        return HelperConst.myFormatterNum().format(num).toLowerCase();\n    }\n\n    static showInt(num) {\n        return HelperConst.myFormatterInt().format(num).toLowerCase();\n    }\n\n    static myNumCfg() {\n        return ({\n            backend: 'decimal.js',\n            sigfigs: 4,\n            maxSmall: 100,\n            format: 'engineering',\n            Decimal: Decimal\n        });\n    };\n\n    static myIntCfg() {\n        return ({\n            backend: 'decimal.js',\n            sigfigs: 4,\n            maxSmall: 0,\n            format: 'engineering',\n            Decimal: Decimal\n        });\n    };\n\n    static myFormatterNum() {\n        if (!this.myNumFormat) {\n            this.myNumFormat = new numberformat.Formatter(HelperConst.myNumCfg());\n        }\n        return this.myNumFormat;\n\n    }\n    static myFormatterInt() {\n        if (!this.myIntFormat) {\n            this.myIntFormat = new numberformat.Formatter(HelperConst.myIntCfg());\n        }\n        return this.myIntFormat;\n\n    }\n\n    static vonNeumannWiki = <a href=\"https://google.com\">google</a>;\n    \n    static modalHelp() {\n        return <p>\n            This is the help text.<br /><br />\n            You click businesses, earn money, and see where that can take you...<br /><br />\n\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n            </p>;\n    }\n\n    static welcomeBack(duration, moneyGain, probeDistGain) {\n        const { days, hours, minutes, seconds } = duration;\n        return <p>\n            You were gone for <b>{days}</b>d <b>{hours}</b>h <b>{minutes}</b>m <b>{seconds}</b>s<br />\n            You earned <b>{this.moneySymbolSpan()}{this.showNum(moneyGain)}</b><br />\n            Your probe(s) travelled <b>{this.showNum(probeDistGain)}</b> kilometers\n        </p>;\n    }\n}","import React from 'react';\n// import Konva from 'konva';\nimport { Stage, Layer, Circle, Ellipse, Line, Text } from 'react-konva';\n// import MyPortal from './MyPortal';\n// import ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\n// import ComputeFunc from './ComputeFunc';\nimport Decimal from 'decimal.js';\nconst mylog = HelperConst.DebugLog;\n\nexport default class Space extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.centerCanvas = {\n            x: 400,\n            y: 250,\n        };\n        this.pulseRadius = {\n            x: 0,\n            y: 0,\n        };\n        this.centerRadius = {\n            x: 0,\n            y: 0,\n        }\n        this.innerRadius = {\n            x: 300,\n            y: 150,\n        };\n        this.outerRadius = {\n            x: this.innerRadius.x * 3,\n            y: this.innerRadius.y * 3,\n        }\n        this.moonLocation = {\n            x: this.centerCanvas.x + 130,\n            y: this.centerCanvas.y - 135,\n        }\n        this.probeCount = {\n            x: 50,\n            y: 25,\n        }\n        this.probeStatus = {\n            x: 500,\n            y: 25,\n        }\n\n        const conv = Space.convertDistanceToSpace(this.props.probe.distance);\n        this.mapDistance = conv.dist;\n        this.zoomLevel = conv.idx;\n        this.zoomName = conv.name;\n\n        // this.planetColors = {\n        //     'earth': [0.4, '#1A8A09', 0.8, '#163bb5', 0.9, '#333'],\n        //     'sun': [0.4, '#fadf98', 0.8, '#B1954D', 1, '#333'],\n        // }\n        this.planetColors = {\n            'earth': [0.1, '#1A8A09', 0.65, '#163bb5', 0.75, '#333'],\n            'sun': [0.4, '#fadf98', 0.8, '#B1954D', 1, '#333'],\n            'sunsmall': [0.4, '#fadf98', 1, '#B1954D'],\n        }\n        this.setPlanetSize();\n\n\n        this.zoomDuration = 0.25;\n        this.zoomShown = this.zoomLevel;\n\n        this.pulseColor = \"#222\";\n        this.pulseColorCt = 0;\n\n        this.starClass = \"stars starpause\";\n\n        mylog(\"init mapDistance:\", this.mapDistance, \"zoomLevel:\", this.zoomLevel, \"zoomShown:\", this.zoomShown, \"zoomName:\", this.zoomName);\n    }\n\n    /* view DIAMETERS */\n    static spaceZoomLevels = [\n        new Decimal(\"768e3\"),  // moon\n        new Decimal(\"1.556e9\"),    // Jupiter\n        new Decimal(\"287.46e9\"), // solar system\n        new Decimal(\"15e12\"),    // Oort Cloud\n        new Decimal(\"950e15\"),  //  milky way (diameter)\n        new Decimal(\"111e18\"),  // NGC 4945\n        new Decimal(\"440e24\"),  // observable universe\n        // new Decimal(\"Infinity\"),\n    ];\n    static spaceZoomLevelNames = [\n        \"Moon\",\n        \"Jupiter\",\n        \"Solar System\",\n        \"Oort Cloud\",\n        \"Milky Way\",\n        \"Galaxy NGC 4945\",\n        \"Edge of Observable Universe\",\n    ];\n\n    static getSpaceInfoForIndex(idx) {\n        const definedLevels = Space.spaceZoomLevels.length;\n        if (idx < definedLevels) {\n            return { idx: idx, dist: Space.spaceZoomLevels[idx], name: Space.spaceZoomLevelNames[idx] };\n        } else {\n            const baseE9 = Space.spaceZoomLevels[definedLevels - 1].log(\"1e9\").floor().toNumber();\n            const diff = idx - definedLevels;\n            return { idx: idx, dist: new Decimal(\"1e9\").pow(baseE9 + diff + 1), name: \"Dark Unknown\" };\n        }\n    }\n\n    static convertDistanceToSpace(d) {\n        const definedLevels = Space.spaceZoomLevels.length;\n        for (let n = 0; n < definedLevels; n++) {\n            const dist = Space.spaceZoomLevels[n];\n            if (dist.gt(d)) return { idx: n, dist: dist, name: this.spaceZoomLevelNames[n] };\n        }\n        const baseE9 = Space.spaceZoomLevels[definedLevels - 1].log(\"1e9\").floor().toNumber();\n        const dFloor = d.log(\"1e9\").floor().toNumber();\n        const diff = dFloor - baseE9;\n        // const numE10 = definedLevels + dFloor.toNumber() - lvlE10;\n        // mylog(\"dFloor:\",dFloor,\"baseE9:\",baseE9);\n        const newDist = new Decimal(\"1e9\").pow(baseE9 + diff + 1);\n        mylog(\"newDist:\", HelperConst.showNum(newDist));\n\n        return { idx: definedLevels + diff, dist: new Decimal(\"1e9\").pow(baseE9 + diff + 1), name: \"Dark Unknown\" };\n    }\n\n    setPlanetSize() {\n        // set planet size\n        if (this.zoomLevel === 0) {\n            // Moon\n            this.planetRadius = 10;\n            this.planetColorStops = this.planetColors.earth;\n        } else if (this.zoomLevel === 1) {\n            // Jupiter\n            this.planetRadius = 10;\n            this.planetColorStops = this.planetColors.sun;\n        } else if (this.zoomLevel === 2) {\n            // Solar System\n            this.planetRadius = 3;\n            this.planetColorStops = this.planetColors.sunsmall;\n        } else {\n            this.planetRadius = 0;\n        }\n    }\n\n    resetProbeZoom() {\n        // const conv = ComputeFunc.getSpaceInfoForIndex(this.zoomShown);\n        // this.mapDistance = conv.dist;\n        // this.zoomLevel = conv.idx;\n        // this.zoomName = conv.name;\n        // mylog(\"reset mapDistance:\", this.mapDistance, \"zoomLevel:\", this.zoomLevel, \"zoomShown:\", this.zoomShown, \"zoomName:\", this.zoomName);\n\n        if (this.outerEllipseRef) this.outerEllipseRef.setAttrs({\n            'radiusX': this.outerRadius.x,\n            'radiusY': this.outerRadius.y,\n        })\n        if (this.innerEllipseRef) this.innerEllipseRef.setAttrs({\n            'radiusX': this.innerRadius.x,\n            'radiusY': this.innerRadius.y,\n        })\n        if (this.centerEllipseRef) this.centerEllipseRef.setAttrs({\n            'radiusX': this.centerRadius.x,\n            'radiusY': this.centerRadius.y,\n        })\n\n        this.setPlanetSize();\n\n        this.pulsePause = false;\n        this.starClass = \"stars starpause\";\n    }\n\n    probeOuterZoomFinished() {\n        this.outerEllipseMoving = false;\n        !this.innerEllipseMoving && this.resetProbeZoom();\n\n    }\n    probeInnerZoomFinished() {\n        this.innerEllipseMoving = false;\n        !this.outerEllipseMoving && this.resetProbeZoom();\n    }\n\n    calcProbePulseRadius() {\n        const pulseFactor = this.props.probe.distance\n            .div(this.mapDistance);\n\n        let xRadius = pulseFactor\n            .times(this.innerRadius.x)\n            .floor()\n            // .plus(this.planetRadius).plus(1)\n            .toNumber();\n        if (xRadius < (this.planetRadius + 2)) xRadius = this.planetRadius + 2;\n\n        let yRadius = pulseFactor\n            .times(this.innerRadius.y)\n            .floor()\n            // .plus(this.planetRadius).plus(1)\n            .toNumber();\n        if (yRadius < (this.planetRadius + 2)) yRadius = this.planetRadius + 2;\n\n        return { x: xRadius, y: yRadius };\n    }\n\n\n    processSpaceMap() {\n        if (this.props.probe.distance.eq(0)) {\n            this.zoomLevel = (Space.convertDistanceToSpace(\n                this.props.probe.distance.plus(this.props.probe.getDistPerTick(this.props.timeMultiplier)))\n            ).idx;\n        } else {\n            this.zoomLevel = Space.convertDistanceToSpace(this.props.probe.distance).idx;\n        }\n        // mylog(\"zoomLevel:\",this.zoomLevel, \"zoomShown:\",this.zoomShown);\n\n        /* set probe distance pulse */\n        if (this.pulseRef) {\n            const probeRadius = (\n                this.props.probe.distance.eq(0)\n                || (this.zoomLevel !== this.zoomShown)\n                || this.outerEllipseMoving\n                || this.innerEllipseMoving)\n                ? { x: 0, y: 0 }\n                : this.calcProbePulseRadius();\n            this.pulseRef.setAttrs({\n                'radiusX': probeRadius.x,\n                'radiusY': probeRadius.y,\n            })\n        }\n        /* set pulse color */\n        this.pulseColorCt = (this.pulseColorCt + this.props.timeMultiplier);\n        // this.pulseColor = this.pulseColors[Math.floor(this.pulseColorCt % this.pulseColors.length)];\n        this.pulseColor = \"rgba(85,85,0,\" + (((Math.sin(this.pulseColorCt) + 1) / 4) + 0.5).toFixed(1) + \")\"\n        // mylog(\"pulseColor:\",this.pulseColor);\n\n        // if ((this.zoomLevel === this.zoomShown)) {\n        //     this.resetProbeZoom();\n        // }\n\n        /* \"zoom\" space map if zoom level changes */\n        if ((this.zoomLevel !== this.zoomShown)\n            && this.outerEllipseRef\n            && this.innerEllipseRef\n            && this.centerEllipseRef\n            && !this.outerEllipseMoving\n            && !this.innerEllipseMoving) {\n\n            mylog(\"before reset.  zoomShown:\", this.zoomShown, \"zoomLevel:\", this.zoomLevel);\n            this.resetProbeZoom();\n\n            let toOuterRadX, toOuterRadY, toInnerRadX, toInnerRadY, toCenterRadX, toCenterRadY;\n            if (this.zoomLevel > this.zoomShown) {\n                // shrink ellipse\n                toOuterRadX = this.innerRadius.x;  // shrink\n                toOuterRadY = this.innerRadius.y;\n                toInnerRadX = 0;  // shrink\n                toInnerRadY = 0;\n                toCenterRadX = 0;  // stay\n                toCenterRadY = 0;\n                this.starClass = \"stars starzoom\";\n                this.zoomShown += 1;\n            } else {\n                // grow ellipse\n                toOuterRadX = this.outerRadius.x;  // stay\n                toOuterRadY = this.outerRadius.y;\n                toInnerRadX = this.outerRadius.x;  // grow\n                toInnerRadY = this.outerRadius.y;\n                toCenterRadX = this.innerRadius.x;  // grow\n                toCenterRadY = this.innerRadius.y;\n                this.starClass = \"stars starshrink\";\n                this.zoomShown -= 1;\n            }\n\n            this.setPlanetSize();\n\n\n            if (!this.outerEllipseMoving) {\n                mylog(\"ring anim starting\");\n                this.outerEllipseMoving = true;\n                this.outerEllipseRef.to({\n                    duration: this.zoomDuration,\n                    radiusX: toOuterRadX,\n                    radiusY: toOuterRadY,\n                    onFinish: () => {\n                        this.probeOuterZoomFinished();\n                    },\n                });\n                this.innerEllipseMoving = true;\n                this.innerEllipseRef.to({\n                    duration: this.zoomDuration,\n                    radiusX: toInnerRadX,\n                    radiusY: toInnerRadY,\n                    onFinish: () => {\n                        this.probeInnerZoomFinished();\n                    },\n                });\n                this.centerPlanetRef.to({\n                    duration: this.zoomDuration,\n                    radius: this.planetRadius\n                });\n                this.centerEllipseRef.to({\n                    duration: this.zoomDuration,\n                    radiusX: toCenterRadX,\n                    radiusY: toCenterRadY,\n                });\n            }\n\n            const conv = Space.getSpaceInfoForIndex(this.zoomShown);\n            this.mapDistance = conv.dist;\n            this.zoomName = conv.name;\n            // mylog(\"process mapDistance:\", this.mapDistance, \"zoomLevel:\", this.zoomLevel, \"zoomShown:\", this.zoomShown, \"zoomName:\", this.zoomName);\n            // mylog(\"starclass:\",this.starClass);\n        }\n    }\n\n    generateSpaceRender() {\n        let rows = [];\n        rows.push(\n            <Ellipse\n                key=\"pulse\"\n                id='pulse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.pulseRadius.x}\n                radiusY={this.pulseRadius.y}\n                stroke={this.pulseColor}\n                fill=\"rgba(85,85,85,0.2)\"\n                ref={node => {\n                    this.pulseRef = node;\n                }}\n            />\n        );\n        rows.push(\n            <Circle\n                key=\"centerPlanet\"\n                id='centerPlanet'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radius={this.planetRadius}\n                // fill=\"green\"\n                fillRadialGradientStartPoint={{\n                    x: -5,\n                    y: -5,\n                }}\n                fillRadialGradientStartRadius={1}\n                fillRadialGradientEndPoint={{\n                    x: -5,\n                    y: -5,\n                }}\n                fillRadialGradientEndRadius={this.planetRadius * 2}\n                fillRadialGradientColorStops={this.planetColorStops}\n                ref={node => {\n                    this.centerPlanetRef = node;\n                }}\n                onMouseOver={this.props.onMouseOver} data-tip=\"prestige-units\"\n            />\n        );\n        rows.push(\n            <Ellipse\n                key=\"centerEllipse\"\n                id='centerEllipse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.centerRadius.x}\n                radiusY={this.centerRadius.y}\n                stroke=\"#d55\"\n                dash={[5, 5]}\n                ref={node => {\n                    this.centerEllipseRef = node;\n                }}\n            />\n        );\n        rows.push(\n            <Ellipse\n                key=\"innerEllipse\"\n                id='innerEllipse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.innerRadius.x}\n                radiusY={this.innerRadius.y}\n                stroke=\"#d55\"\n                dash={[5, 5]}\n                ref={node => {\n                    this.innerEllipseRef = node;\n                }}\n            />\n        );\n        rows.push(\n            <Ellipse\n                key=\"outerEllipse\"\n                id='outerEllipse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.outerRadius.x}\n                radiusY={this.outerRadius.y}\n                stroke=\"#d55\"\n                dash={[5, 5]}\n                ref={node => {\n                    this.outerEllipseRef = node;\n                }}\n            />\n        );\n\n        if (this.zoomShown === 0) {\n            /* moon for closest zoom */\n            rows.push(\n                <Circle\n                    key=\"moon\"\n                    id='moon'\n                    x={this.moonLocation.x}\n                    y={this.moonLocation.y}\n                    radius={5}\n                    fillRadialGradientStartPoint={{\n                        x: -5,\n                        y: -5,\n                    }}\n                    fillRadialGradientStartRadius={1}\n                    fillRadialGradientEndPoint={{\n                        x: -5,\n                        y: -5,\n                    }}\n                    fillRadialGradientEndRadius={8}\n                    fillRadialGradientColorStops={[0.4, '#ddd', 0.9, '#aaa', 1, '#333']}\n                />\n            );\n        }\n        if (this.zoomShown > 2) {\n            /* reticle */\n            rows.push(\n                <React.Fragment key=\"crossHairFragment\">\n                    <Line\n                        key=\"crossHair1\"\n                        points={[this.centerCanvas.x - 5, this.centerCanvas.y, this.centerCanvas.x + 5, this.centerCanvas.y]}\n                        stroke=\"#d55\"\n                        strokeWidth={1}\n                    />\n                    <Line\n                        key=\"crossHair2\"\n                        points={[this.centerCanvas.x, this.centerCanvas.y - 5, this.centerCanvas.x, this.centerCanvas.y + 5]}\n                        stroke=\"#d55\"\n                        strokeWidth={1}\n                    />\n                </React.Fragment>\n            );\n        }\n\n        return rows;\n    }\n\n    generateStatusText() {\n        let rows = [];\n        if (this.props.probe.qualityLoss.gt(0)) {\n            rows.push(\n                <Text\n                    x={this.probeStatus.x}\n                    y={this.probeStatus.y}\n                    width={200}\n                    text={\"Probe failure\" + (this.props.probe.qualityLoss.gt(1) ? \"s: \" : \": \") + HelperConst.showInt(this.props.probe.qualityLoss)}\n                    fontSize={16}\n                    fontFamily={'Kodchasan'}\n                    align=\"center\"\n                    fill=\"gold\"\n                />\n            );\n        }\n        if (this.props.probe.combatLoss.gt(0)) {\n            rows.push(\n                <Text\n                    x={this.probeStatus.x}\n                    y={this.probeStatus.y + 16}\n                    width={200}\n                    text={\"Combat loss\" + (this.props.probe.combatLoss.gt(1) ? \"es: \" : \": \") + HelperConst.showInt(this.props.probe.combatLoss)}\n                    fontSize={16}\n                    fontFamily={'Kodchasan'}\n                    align=\"center\"\n                    fill=\"red\"\n                />\n            );\n        }\n    }\n\n\n    render() {\n        this.processSpaceMap();\n        const rows = this.generateSpaceRender();\n        const statusRows = this.generateStatusText();\n\n        return (\n            <div id=\"probecontent\" ref={this.probeDivRef}>\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n\n                <Stage width={794} height={538} className=\"dynamic-layer\" >\n\n                    <Layer hitGraphEnabled={false}>\n                        {rows}\n                    </Layer>\n                    <Layer className=\"static-layer\" hitGraphEnabled={false}>\n\n                        {/* verticals */}\n                        <Line\n                            points={[this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 10, this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 50]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Line\n                            points={[this.centerCanvas.x + 110, this.centerCanvas.y + this.innerRadius.y + 30, this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 30]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n\n                        {/* left and right */}\n                        <Line\n                            points={[this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 30, this.centerCanvas.x - 110, this.centerCanvas.y + this.innerRadius.y + 30]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Line\n                            points={[this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 10, this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 50]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n\n                        <Text\n                            x={this.centerCanvas.x - 100}\n                            y={this.centerCanvas.y + this.innerRadius.y + 24}\n                            width={200}\n                            text={\"Zoom #\" + this.zoomShown + \": \" + HelperConst.showInt(this.mapDistance) + \" km\"}\n                            fontSize={16}\n                            fontFamily={'Kodchasan'}\n                            fontStyle={'bold'}\n                            align=\"center\"\n                            fill=\"#1A8A09\"\n                        />\n                        <Text\n                            x={this.centerCanvas.x - 100}\n                            y={this.centerCanvas.y + this.innerRadius.y + 45}\n                            width={200}\n                            text={this.zoomName}\n                            fontSize={16}\n                            fontFamily={'Kodchasan'}\n                            align=\"center\"\n                            fill=\"#1A8A09\"\n                        />\n                        {/* <MyPortal>\n                            <button id=\"portal-button\" disabled={true}>{HelperConst.showNum(Space.spaceZoomLevels[this.zoomShown])}</button>\n                        </MyPortal> */}\n\n                    </Layer>\n\n                    <Layer className=\"status-layer\" hitGraphEnabled={false}>\n\n                        <Text\n                            x={this.probeCount.x}\n                            y={this.probeCount.y}\n                            width={200}\n                            text={\" Probe\" + (!this.props.probe.getLiveNumber().eq(1) ? \"s: \" : \": \") + HelperConst.showInt(this.props.probe.number)}\n                            fontSize={16}\n                            fontFamily={'Kodchasan'}\n                            align=\"left\"\n                            fill=\"white\"\n                        />\n\n                        {statusRows}\n\n                    </Layer>\n\n                </Stage>\n\n            </div>\n        )\n    }\n}","// import { Decimal } from 'decimal.js';\nimport './styles/fonts.css';\nimport HelperConst from './HelperConst';\n// import Space from './Space';\nconst Decimal = require('decimal.js');\nconst mylog = HelperConst.DebugLog;\n\nexport default class ComputeFunc {\n\n    static getPct(value, pct) {\n        const numType = typeof (value);\n        // mylog(\"Decimal:\",value instanceof Decimal);\n        // mylog(\"typeof value:\",numType);\n        if (value instanceof Decimal) {\n            return value.times(pct / 100).floor();\n        } else if (numType === \"number\") {\n            return Math.floor(value * (pct / 100));\n        }\n    }\n\n    static availMaxUpgrade(owned, max) {\n        const maxPoss = owned + max;\n        if (maxPoss >= 100) {\n            const maxCheck = Math.floor(maxPoss / 100) * 100;\n            return (maxCheck <= owned) ? maxCheck + 100 : maxCheck;\n        } else if (maxPoss >= 75) {\n            return (owned >= 75) ? 100 : 75;\n        } else if (maxPoss >= 50) {\n            return (owned >= 50) ? 75 : 50;\n        } else {\n            return (owned >= 25) ? 50 : 25;\n        }\n    }\n\n    static getTotalMilestoneIdx(num) {\n        // mylog(\"testing new milestone:\", num);\n        let retIdx = -1;\n        HelperConst.busBuyMilestones.forEach((milestone, idx) => {\n            // mylog(\"num:\",num,\" milestone:\",milestone);\n            if (num >= milestone) { retIdx = idx; }\n        });\n        const num100s = Math.floor(num / 100);\n        return (retIdx + num100s);\n    }\n\n    static getTotalMilestone(idx) {\n        const hardcodeMax = HelperConst.busBuyMilestones.length - 1;\n        if (idx <= hardcodeMax) { return HelperConst.busBuyMilestones[idx] };\n        const diff = (idx - hardcodeMax);\n        return (100 * diff);\n    }\n\n    static getTotalMilestonesAttained(fromIdx, toIdx) {\n        let milestones = [];\n        for (let c = fromIdx + 1; c <= toIdx; c++) {\n            milestones.push([this.getTotalMilestone(c)]);\n        }\n        return milestones;\n    }\n\n    static getOwnedMilestonesAttained(fromCt, toCt) {\n        const from25s = Math.floor(fromCt / 25) > 3 ? 3 : Math.floor(fromCt / 25);\n        const to25s = Math.floor(toCt / 25) > 3 ? 3 : Math.floor(toCt / 25);\n        const from100s = Math.floor(fromCt / 100);\n        const to100s = Math.floor(toCt / 100);\n        let retArr = [];\n        if (from25s < to25s) {\n            for (let n = from25s + 1; n <= to25s; n++) {\n                retArr.push(n * 25);\n            }\n        }\n        if (from100s < to100s) {\n            for (let n = from100s + 1; n <= to100s; n++) {\n                retArr.push(n * 100);\n            }\n        }\n        mylog(\"owned milestones:\", retArr);\n        return retArr;\n    }\n\n    static buyPct(num, resource) {\n        const pct = resource.div(num).times(100).toNumber()\n        return pct > 100 ? 100 : pct;\n    }\n\n    static earnPct(item, timeAdj) {\n        if (timeAdj < 0.2 || (timeAdj - item.timeCounter) < 0.1) {\n            return 100;\n        }\n        return (item.timeCounter / timeAdj) * 100;\n    }\n\n    static getEarningPerTick(revenue, timeInterval) {\n        return revenue.times(timeInterval / 1000);\n    }\n\n    static getEarningPct(revenue, totalRevenue) {\n        return revenue.div(totalRevenue).times(100).toFixed(2);\n    }\n\n    // static calcPrestigeEarned(revenue) {\n    //     return Decimal.sqrt(revenue.div(Math.pow(10, 9))).times(150).floor();\n    // }\n\n    static calcPrestigeEarnedFromLearning(learned) {\n        return learned.log(1.99).floor();\n    }\n\n    // static calcPrestigeEarnedFromMax(maxEarnings) {\n    //     return maxEarnings.div(Math.pow(10, 12)).times(8).plus(1).sqrt().minus(1).div(2);\n    // }\n\n    static getCost(item, busStat, purchaseAmt, resource) {\n\n        const maxbuys = this.maxBuy(item, busStat, resource);\n        // mylog(maxbuys);\n        let numBuy = 0;\n\n        switch (purchaseAmt) {\n            case \"Max\":\n            case \"Max OCD\":\n            case \"Max Upg\":\n            case \"PrimeTime\":\n                numBuy = maxbuys[purchaseAmt];\n                break;\n            default:\n                numBuy = purchaseAmt;\n                break;\n        }\n\n        return {\n            num: parseInt(numBuy, 10),\n            cost: item.costBase.times(\n                Math.pow(item.costCoef, busStat.owned) * (Math.pow(item.costCoef, numBuy) - 1)\n            ).div(item.costCoef - 1),\n        }\n    }\n\n    static maxBuy(item, itemStat, resource) {\n        // mylog(\"resource is \", typeof (resource), \", \", resource.times(1).toFixed());\n        const max = parseInt(new Decimal(\n            resource\n                .times(item.costCoef - 1)\n                .div(\n                    item.costBase.times(\n                        Math.pow(item.costCoef, itemStat.owned))\n                )\n        ).plus(1).log(item.costCoef).floor(), 10);\n\n        const maxUpg = this.availMaxUpgrade(itemStat.owned, max) - itemStat.owned;\n\n        let maxOcd = (Math.floor((max + itemStat.owned) / 25) * 25)\n            - itemStat.owned;\n        maxOcd = maxOcd > 0 ? maxOcd : 25 - (itemStat.owned % 25);\n        // mylog(\"maxOcd:\", maxOcd, \" owned remainder:\", (item.owned % 25));\n\n        const primes = this.primeFactors();\n        let primeTime = 0;\n\n        // console.time('primeidx');\n        const myMaxPrime = itemStat.owned + max;\n        for (const idx in primes) {\n            if (primes[idx] <= itemStat.owned) continue;\n            if (primes[idx] <= myMaxPrime) primeTime = primes[idx];\n            if (primes[idx] > myMaxPrime) {\n                if (primeTime === 0) primeTime = primes[idx];\n                break;\n            };\n        }\n        primeTime -= itemStat.owned;\n        // console.timeEnd('primeidx');\n\n        return ({\n            Max: max > 0 ? max : 1,\n            \"Max OCD\": maxOcd,\n            \"Max Upg\": maxUpg,\n            PrimeTime: primeTime,\n        });\n    }\n\n    static nextPrime(num) {\n        const primes = this.primeFactors();\n        for (const idx in primes) {\n            if (primes[idx] > num) {\n                return primes[idx];\n            }\n        }\n    }\n\n    static primeFactors() {\n        if (this.primes) {\n            return this.primes;\n        }\n        var max = 25000;\n        var primesFwd = [];\n        mylog(\"creating primes\");\n        console.time('prime creation');\n        var store = [], i, j;\n        for (i = 2; i <= max; ++i) {\n            if (!store[i]) {\n                primesFwd.push(i);\n                for (j = i << 1; j <= max; j += i) {\n                    store[j] = true;\n                }\n            }\n        }\n        // this.primes = primesFwd.reverse();\n        this.primes = primesFwd;\n        console.timeEnd('prime creation');\n        mylog(\"primes length: \" + this.primes.length);\n        return this.primes;\n    }\n\n    static convertMillis(milliseconds) {\n        let day, hour, minute, seconds;\n        const showWith0 = value => (value < 10 ? `0${value}` : value);\n        seconds = Math.floor(milliseconds / 1000);\n        minute = Math.floor(seconds / 60);\n        seconds = seconds % 60;\n        hour = Math.floor(minute / 60);\n        minute = minute % 60;\n        day = Math.floor(hour / 24);\n        hour = hour % 24;\n        return {\n            days: showWith0(day),\n            hours: showWith0(hour),\n            minutes: showWith0(minute),\n            seconds: showWith0(seconds)\n        };\n    }\n\n    static randomEllipsePoint(w, h) {\n        const radians = Math.random() * (Math.PI * 2);\n        const rho = Math.random();\n        const x = Math.sqrt(rho) * Math.cos(radians) * (w / 2);\n        const y = Math.sqrt(rho) * Math.sin(radians) * (h / 2);\n        return { x: x, y: y };\n    }\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport update from 'immutability-helper';\n// import styled from 'styled-components';\nimport { Motion, spring } from 'react-motion';\nimport ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport './styles/fonts.css';\nconst Decimal = require('decimal.js');\n// const mylog = HelperConst.DebugLog;\n\n\nexport default class Business extends React.Component {\n\n    static overlayCt = 0;\n\n    static computeNextPayoutValue(bus, userSettings, buyNum) {\n        const nextOwned = userSettings.busStats[bus.id].owned + buyNum;\n        const num25s = Math.floor(nextOwned / 25);\n        // 25, 50, 75, 100, 200, ...\n        const mult25 = num25s > 3 ? 3 : num25s;\n        const mult100 = Math.floor(nextOwned / 100);\n        const prestigeMultiplier = userSettings.prestige.num.times(userSettings.prestige.val).div(100).plus(1);\n        let revenue = new Decimal(\n            bus.incomeBase\n                .times(nextOwned)\n                .times(Math.pow(2, mult25))\n                .times(Math.pow(4, mult100))\n                .times(userSettings.busStats[bus.id].payoutAdj)\n                .times(prestigeMultiplier)\n        );\n        return revenue;\n    }\n\n    static computeEarningPerSec(item, userSettings, concentrate) {\n        return this.computeNextPayoutValue(item, userSettings, 0).div(userSettings.busStats[item.id].timeAdj)\n            .times(concentrate.time > 0 ? userSettings.concentrate.mult : 1);\n    }\n\n    static computeTotalEarningPerSec(items, userSettings, concentrate) {\n        let revenue = new Decimal(0);\n        items.forEach((item) => {\n            revenue = revenue.plus(this.computeEarningPerSec(item, userSettings, concentrate));\n        });\n        return revenue;\n    }\n\n    static getPayout(bus, userSettings) {\n        return this.computeNextPayoutValue(bus, userSettings, 0).times(bus.payout);\n    }\n\n    static getAllPayouts(items, userSettings) {\n        let revenue = new Decimal(0);\n        items.forEach((item) => {\n            revenue = revenue.plus(this.getPayout(item, userSettings));\n        });\n        return revenue;\n    }\n\n\n    static applyMultiplier(bus, mult) {\n        return update(bus, {\n            upgradeMult: { $set: bus.upgradeMult * mult },\n        })\n    }\n\n    static getAdjustedTimeBase(bus, milestoneIdx) {\n        if (milestoneIdx >= 0) {\n            return bus.timeBase / Math.pow(2, milestoneIdx);\n        }\n        return bus.timeBase;\n    }\n\n    static getPosition(reactRef) {\n        return ReactDOM\n            .findDOMNode(reactRef.current)\n            .getBoundingClientRect();\n    }\n\n    getDomRef(name) {\n        const idx = this.props.domRefs.findIndex(ref => ref.name === name);\n        if (idx < 0) return undefined;\n        const ref = this.props.domRefs[idx].domRef;\n        return ref;\n    }\n\n    genOverlays(bus) {\n        let textClass = \"overlay-text \";\n        return (\n            bus.overlays.map((o, idx) => {\n                // mylog(\"showing overlay for:\", bus.name);\n                let ovClass = textClass;\n                const domLeft = parseInt(this.getDomRef(bus.name).current.offsetLeft, 10);\n                const domTop = parseInt(this.getDomRef(bus.name).current.offsetTop, 10);\n                // mylog(\"domLeft:\", domLeft, \" domTop:\", domTop);\n                let curLeft = domLeft + 80;\n                let curTop = domTop - 15;\n                if (o.counter > o.expire) {\n                    ovClass += \"expired \";\n                }\n                let topChg = 0;\n                let leftChg = 0;\n                switch (o.ovType) {\n                    case \"ownedBonus\":\n                        leftChg = 100;\n                        break;\n                    default:\n                        topChg = -40;\n                        break;\n                }\n                return (\n                    <Motion key={\"overlay-text \" + o.id}\n                        defaultStyle={{\n                            top: curTop,\n                            left: curLeft,\n                            opacity: 1,\n                        }}\n                        style={{\n                            top: spring(curTop + topChg + o.yTarget),\n                            left: spring(curLeft + leftChg + o.xTarget),\n                            opacity: spring(0, { stiffness: 15, damping: 14 }),\n                        }}\n                    >\n\n                        {style => (\n                            <div\n                                key={\"overlay-text \" + o.id}\n                                className={ovClass + \"rainbow_text_animated \"}\n                                style={{\n                                    top: style.top,\n                                    left: style.left,\n                                    opacity: style.opacity,\n                                }} >{o.text}</div>\n                        )}\n\n                    </Motion>\n\n\n                );\n\n            })\n        )\n    }\n\n\n    render() {\n        const sources = this.props.businesses.reduce((result, item) => {\n            if (this.props.userSettings.busStats[item.id].revealed) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n\n        const totalEarningPerSec = Business.computeTotalEarningPerSec(this.props.businesses, this.props.userSettings, this.props.concentrate);\n\n\n        const rows = sources.map((item) => {\n            const b = this.props.userSettings.busStats[item.id];\n            const n = item.name;\n            const myCost = ComputeFunc.getCost(item, this.props.userSettings.busStats[item.id], this.props.purchaseAmt, this.props.userSettings.money);\n            // mylog(myCost);\n            const nextPayout = Business.computeNextPayoutValue(item, this.props.userSettings, myCost.num);\n\n            const buyPct = ComputeFunc.buyPct(myCost.cost, this.props.userSettings.money);\n            const buyPctStyle = { width: buyPct + '%' };\n            const earnPct = ComputeFunc.earnPct(item, b.timeAdj);\n            const earnPctStyle = { width: earnPct + '%' };\n\n            let bgClass = \"money \";\n            let buttonClass = \"\";\n            let costClass = \"\";\n            let buttonDisabled = false;\n            if (this.props.userSettings.money.gte(myCost.cost)) {\n                buttonClass = \"business-buy canAfford \";\n                costClass = \"cost-wrapper canAfford \";\n            } else {\n                buttonClass = \"business-buy cannotAfford \";\n                buttonDisabled = true;\n                costClass = \"cost-wrapper cannotAfford \";\n            }\n\n            const myEarningPerSec = Business.computeEarningPerSec(item, this.props.userSettings, this.props.concentrate);\n            let curPayout = Business.computeNextPayoutValue(item, this.props.userSettings, 0);\n            const myPayout = curPayout.gt(0) ? curPayout : nextPayout;\n            const myEarningPct = ComputeFunc.getEarningPct(myEarningPerSec, totalEarningPerSec);\n\n\n\n            const overlayItems = this.genOverlays(item);\n            // mylog(\"overlayItems:\",overlayItems);\n\n            return (\n                <div key={item.id + \"business\"} className={\"business \" + bgClass} ref={this.getDomRef(n)} >\n                    <div className=\"overlays-wrapper\" >\n                        {overlayItems}\n                    </div>\n                    <div className={\"business-buy-progress \" + bgClass}>\n                        <div className={\"business-buy-progress-pct \" + bgClass} style={buyPctStyle} onMouseOver={this.props.onMouseOver} data-tip={\"business-buy-\" + item.id}>\n                            <span ></span>\n                        </div>\n                    </div>\n                    <div className={\"business-earn-progress \" + bgClass} onMouseOver={this.props.onMouseOver} data-tip={\"earn-progress-\" + item.id}>\n                        <div className={\"business-earn-progress-pct \" + bgClass} style={earnPctStyle} onMouseOver={this.props.onMouseOver} data-tip={\"earn-progress-\" + item.id} >\n                            <span ></span>\n                        </div>\n                    </div>\n                    <button\n                        key={item.id + \"button\"}\n                        className={buttonClass + bgClass}\n                        onClick={() => this.props.onClick(item)}\n                        disabled={buttonDisabled}\n                        onMouseOver={this.props.onMouseOver} data-tip={\"business-buy-\" + item.id} >\n                        <span\n                            className=\"buyMultiple\" >{myCost.num}{HelperConst.multiplySymbolSpan()}\n                        </span> {n}\n                    </button>\n                    <div key={item.id + \"owned\"} className=\"business-owned\" onMouseOver={this.props.onMouseOver} data-tip={\"business-owned\"}>{HelperConst.showInt(b.owned)}</div>\n\n                    <div key={item.id + \"cost-wrapper\"} className={costClass}>\n                        <div key={item.id + \"cost-money\"} className=\"business-cost-money\" onMouseOver={this.props.onMouseOver} data-tip={\"business-cost\"}>{HelperConst.moneySymbolSpan()}{HelperConst.showNum(myCost.cost)}</div>\n                    </div>\n\n                    <div key={item.id + \"earning-wrapper\"} className=\"earning-wrapper\">\n                        <div key={item.id + \"revenue-total\"} className=\"business-revenue-total\" onMouseOver={this.props.onMouseOver} data-tip={\"business-revenue\"}>+{HelperConst.moneySymbolSpan()}{HelperConst.showNum(myPayout)}</div>\n                    </div>\n\n                    <div key={item.id + \"earning-pct-wrapper\"} className=\"earning-pct-wrapper\">\n                        <div key={item.id + \"earning-pct\"} className=\"earning-pct\" onMouseOver={this.props.onMouseOver} data-tip={\"business-pct\"}>{myEarningPct}%</div>\n                    </div>\n                </div>\n            );\n        });\n\n\n        return (\n            <div className=\"business-container\">\n                {rows}\n            </div>\n        )\n    };\n};\n\n","import React from 'react';\n// import ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport './styles/fonts.css';\nimport './styles/neon.scss';\nimport Business from './Business';\n// const mylog = HelperConst.DebugLog;\n// const Decimal = require('decimal.js');\n\nexport default class Income extends React.Component {\n\n\n    render() {\n\n        const revenue = Business.computeTotalEarningPerSec(this.props.businesses, this.props.userSettings, this.props.concentrate);\n        // const learning = ComputeFunc.computeTotalEarningPerSec(this.props.probes, this.props.prestige);\n        const learning = this.props.userSettings.probe.getLearningPerSec();\n\n        let rowsLeft = [];\n        let rowsRight = [];\n\n        if (this.props.userSettings.prestige.num.gt(0) || this.props.userSettings.prestigeNext.gt(0)) {\n\n            rowsRight.push(\n                <React.Fragment key=\"prestige-header\">\n                    <div className=\"prestige-header\">\n                        Prestige:\n                    </div>\n                    <div className=\"prestige-units\" onMouseOver={this.props.onMouseOver} data-tip=\"prestige-units\">\n                        {HelperConst.prestigeSymbolSpan()}{HelperConst.showInt(this.props.userSettings.prestige.num)}\n                    </div>\n                    <div className=\"prestige-earning\" onMouseOver={this.props.onMouseOver} data-tip=\"prestige-earning\">\n                        (+ {HelperConst.prestigeSymbolSpan()}{HelperConst.showInt(this.props.userSettings.prestigeNext)})\n                    </div>\n                </React.Fragment>\n            )\n        }\n\n        // space view activated\n        if (this.props.userSettings.featureEnabled[1000] && this.props.userSettings.probe.value.gt(0)) {\n            rowsLeft.push(\n                <React.Fragment key=\"learning-header\">\n                    <div className=\"learning-header\">\n                        Knowledge:\n                    </div>\n                    <div className=\"learning-knowledge\" onMouseOver={this.props.onMouseOver} data-tip=\"learning-knowledge\">\n                        {HelperConst.knowledgeSymbolSpan()}{HelperConst.showNum(this.props.userSettings.knowledge)}\n                    </div>\n                    <div className=\"learning-learning\" onMouseOver={this.props.onMouseOver} data-tip=\"learning-learning\">\n                        (+ {HelperConst.knowledgeSymbolSpan()}{HelperConst.showNum(learning)}/s)\n                    </div>\n                </React.Fragment>\n            )\n            rowsRight.push(\n                <React.Fragment key=\"probe-header\">\n                    <div className=\"probe-header\">\n                        Distance:\n                    </div>\n                    <div className=\"probe-distance\" onMouseOver={this.props.onMouseOver} data-tip=\"probe-distance\">\n                        {HelperConst.showNum(this.props.userSettings.probe.distance)} km\n                    </div>\n                    <div className=\"probe-rate\" onMouseOver={this.props.onMouseOver} data-tip=\"probe-rate\">\n                        +{HelperConst.showNum(this.props.userSettings.probe.getDistPerSec())} km/s\n                    </div>\n                </React.Fragment>\n            )\n        }\n\n\n        return (\n            <div className=\"header-wrapper\">\n\n                <div className=\"income\">\n\n                    <div className=\"income-header\">\n                        Money:\n                    </div>\n                    <div className=\"income-money\" onMouseOver={this.props.onMouseOver} data-tip=\"income-money\">\n                        {HelperConst.moneySymbolSpan()}{HelperConst.showNum(this.props.userSettings.money)}\n                    </div>\n                    <div className=\"income-earning\" onMouseOver={this.props.onMouseOver} data-tip=\"income-earning\">\n                        (+ {HelperConst.moneySymbolSpan()}{HelperConst.showNum(revenue)}/s)\n                    </div>\n\n\n                    {rowsLeft}\n\n                </div>\n\n                <div className=\"title-wrapper\" onMouseOver={this.props.onMouseOver} data-tip=\"title-wrapper\">\n                    <div className=\"von\">von</div>\n                    <div className=\"text-effect\" >\n                        <h1 className=\"neon\" data-text=\"NEUMANN\" >NEUMANN</h1>\n                        <div className=\"gradient\"></div>\n                        <div className=\"spotlight\" onMouseOver={this.props.onMouseOver} data-tip=\"title\"></div>\n                    </div>\n                </div>\n\n                <div className=\"prestige\">\n\n                    {rowsRight}\n\n                </div>\n\n            </div>\n        );\n\n    }\n\n\n}\n\n\n","\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\nconst Decimal = require('decimal.js');\n\nexport default class Probe {\n    constructor(number, value, pSpeed, pQuality, pCombat) {\n        this.value = value;\n        this.speed = pSpeed;\n        this.quality = pQuality;\n        this.combat = pCombat;\n        this.number = number;  // Decimal\n        this.qualityLoss = new Decimal(0);\n        this.combatLoss = new Decimal(0);\n        this.distance = new Decimal(0);\n    }\n\n    increment(num) {\n        this.number = this.number.plus(num);\n    }\n    decrement(num) {\n        if (this.number.lt(num)) num=this.number;\n        this.number = this.number.minus(num);\n        this.losses = this.losses.plus(num);\n    }\n\n    goFarther(dist) {\n        this.distance = this.distance.plus(dist);\n    }\n\n    getDistPerSec() {\n        // return this.value.times(this.speed).ln(3);\n        if (this.distPerSec) { return this.distPerSec; }\n        const speedQ = Math.pow((1+((this.speed-5)/100)),2);\n        this.distPerSec = this.value.div(\"1e3\").sqrt().times(speedQ).div(2);\n        return this.distPerSec;\n    }\n\n    getDistPerTick(timeMultiplier) {\n        return this.getDistPerSec().times(timeMultiplier);\n    }\n\n    getLosses() {\n        return Decimal(0);\n    }\n\n    getLearned(dist) {\n        return dist.times(this.getLiveNumber().sqrt()).div(\"768e3\").times(10).floor().div(10);\n    }\n\n    getLearningPerSec() {\n        return this.getDistPerSec().times(this.getLiveNumber().sqrt()).div(\"768e3\").times(1000).floor().div(1000);\n    }\n\n    getLearningPerTick(timeMultiplier) {\n        return this.getLearningPerSec().times(timeMultiplier);\n    }\n\n    getLiveNumber() {\n        return this.number.minus(this.qualityLoss).minus(this.combatLoss);\n    }\n\n    updateNumber() {\n        this.number = Decimal(2).pow(this.distance.ln().minus(1.2551545012129809219e1).floor());\n    }\n\n    // update(timeMultiplier) {\n    //     this.goFarther(this.getDistPerTick(timeMultiplier));\n    // }\n\n}","// import React from 'react';\nconst Decimal = require('decimal.js');\n\nexport default function BusinessInit() {\n\n    return ([\n        {\n            id: 0,\n            name: \"Mental Math\",\n            desc: \"desc1\",\n            owned: 1,\n            incomeType: \"money\",\n            incomeBase: new Decimal(1),\n            costType: \"money\",\n            costBase: new Decimal(4.3859),\n            costCoef: 1.13,\n            timeBase: 1,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(0),\n            overlays: [],\n        }, {\n            id: 1,\n            name: \"Research Review\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(40),\n            costType: \"money\",\n            costBase: new Decimal(120),\n            costCoef: 1.14,\n            timeBase: 1,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(40),\n            overlays: [],\n        }, {\n            id: 2,\n            name: \"Publish Articles\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(160),\n            costType: \"money\",\n            costBase: new Decimal(1400),\n            costCoef: 1.14,\n            timeBase: 4,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(460),\n            overlays: [],\n        }, {\n            id: 3,\n            name: \"University Lectures\",\n            desc: \"desc1\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(777),\n            costType: \"money\",\n            costBase: new Decimal(\"28e3\"),\n            costCoef: 1.14,\n            timeBase: 4,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"9.8e3\"),\n            overlays: [],\n        }, {\n            id: 4,\n            name: \"Author Books\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(3902),\n            costType: \"money\",\n            costBase: new Decimal(\"562e3\"),\n            costCoef: 1.14,\n            timeBase: 12,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"187e3\"),\n            overlays: [],\n        }, {\n            id: 5,\n            name: \"Game Theory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(19400),\n            costType: \"money\",\n            costBase: new Decimal(\"11.2e6\"),\n            costCoef: 1.14,\n            timeBase: 12,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"3.7e6\"),\n            overlays: [],\n        }, {\n            id: 6,\n            name: \"Self-Replication Study\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(\"97.7e3\"),\n            costType: \"money\",\n            costBase: new Decimal(\"224e6\"),\n            costCoef: 1.14,\n            timeBase: 45,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"74.7e6\"),\n            overlays: [],\n        }, {\n            id: 7,\n            name: \"Manhattan Project\",\n            desc: \"desc1\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(\"487e3\"),\n            costType: \"money\",\n            costBase: new Decimal(\"4.49e9\"),\n            costCoef: 1.14,\n            timeBase: 45,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"1.5e9\"),\n            overlays: [],\n        }, {\n            id: 8,\n            name: \"Research Laboratory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(\"2.45e6\"),\n            costType: \"money\",\n            costBase: new Decimal(\"90.18e9\"),\n            costCoef: 1.14,\n            timeBase: 450,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"30e9\"),\n            overlays: [],\n        }, {\n            id: 9,\n            name: \"Government Advisory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(\"16.4e6\"),\n            costType: \"money\",\n            costBase: new Decimal(\"1.811e12\"),\n            costCoef: 1.12,\n            timeBase: 900,\n            timeCounter: 0,\n            payout: 0,\n            initialVisible: new Decimal(\"905e9\"),\n            overlays: [],\n        }\n    ]);\n\n}","// import { Decimal } from 'decimal.js';\nconst Decimal = require('decimal.js');\n\nexport default function UpgradeInit() {\n\n    return ([\n        {\n            id: 0,\n            name: \"Good Night's Rest\",\n            watchType: \"money\",\n            watchValue: new Decimal(\"4500\"),\n            costType: \"money\",\n            costValue: new Decimal(\"11e3\"),\n            // costValue: new Decimal(\"50\"),\n            rewardType: \"upgradeMult\",\n            rewardTarget: 0,\n            rewardValue: 10,\n        }, {\n            id: 1,\n            name: \"Strong Coffee\",\n            watchType: \"money\",\n            watchValue: new Decimal(\"55e3\"),\n            costType: \"money\",\n            costValue: new Decimal(\"75e3\"),\n            rewardType: \"upgradeMult\",\n            rewardTarget: 0,\n            rewardValue: 10,\n        }, {\n            id: 1000,\n            name: \"New Technology\",\n            watchType: \"businessOwned\",\n            watchTarget: 0,\n            watchValue: 1,\n            costType: \"money\",\n            costValue: new Decimal(\"100\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Satellite\",\n        }, {\n            id: 1001,\n            name: \"New Technology\",\n            watchType: \"businessOwned\",\n            watchTarget: 0,\n            watchValue: 1,\n            costType: \"money\",\n            costValue: new Decimal(\"100\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Self-Replication Machinery\",\n        }, {\n            id: 1002,\n            name: \"New Technology\",\n            watchType: \"businessOwned\",\n            watchTarget: 6,\n            watchValue: 100,\n            costType: \"money\",\n            costValue: new Decimal(\"1e12\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Nano Technology\",\n        }, {\n            id: 1003,\n            name: \"New Technology\",\n            watchType: \"businessOwned\",\n            watchTarget: 0,\n            watchValue: 1,\n            costType: \"money\",\n            costValue: new Decimal(\"100\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Quality Control\",\n        }, {\n            id: 1004,\n            name: \"New Technology\",\n            watchType: \"businessOwned\",\n            watchTarget: 0,\n            watchValue: 1,\n            costType: \"money\",\n            costValue: new Decimal(\"100\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Combat\",\n        }, {\n            id: 1100,\n            name: \"New Ability\",\n            watchType: \"businessOwned\",\n            watchTarget: 0,\n            watchValue: 1,\n            costType: \"money\",\n            costValue: new Decimal(\"100\"),\n            rewardType: \"enableFeature\",\n            rewardTarget: \"Probe Autobuy\",\n        }\n\n    ]);\n}","import React from 'react';\nimport Slider from 'rc-slider';\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst MyRange = createSliderWithTooltip(Slider.Range);\nconst MySlider = createSliderWithTooltip(Slider);\n\nexport default class Sliders {\n\n    static sliderMarks = {\n        0: { \n            style: { \n                'fontWeight': 'bold', \n                color: '#ddd',\n            },\n            label: '0',\n        },\n        25: { \n            style: { \n                'fontWeight': 'bold',  \n                color: '#ddd',\n            },\n            label: '25%',\n        },\n        50: { \n            style: { \n                'fontWeight': 'bold',  \n                color: '#ddd',\n            },\n            label: '50%',\n        },\n        75: { \n            style: { \n                'fontWeight': 'bold',  \n                color: '#ddd',\n            },\n            label: '75%',\n        },\n        100: { \n            style: { \n                'fontWeight': 'bold',  \n                color: '#ddd',\n            },\n            label: '100%'\n        },\n    };\n\n    static getRangeValues(n) {\n        if (n === 1) {\n            return ({\n                probeSpendPct: 25,\n                rangeCt: 1,\n                distribRange: [0, 100],\n            })\n        } else if (n === 2) {\n            return ({\n                probeSpendPct: 25,\n                rangeCt: 2,\n                distribRange: [0, 50, 100],\n                handleStyle: [\n                    { backgroundColor: 'gold', border: '0', height: '0px', width: '0px', },\n                    { backgroundColor: 'gold', border: '0', },\n                    { backgroundColor: 'cyan', border: '0', height: '0px', width: '0px', },\n                ],\n                trackStyle: [\n                    { backgroundColor: 'gold' },\n                    { backgroundColor: 'cyan' },\n                ],\n                railStyle: { backgroundColor: 'blue' },\n            })\n        } else if (n === 3) {\n            return ({\n                probeSpendPct: 25,\n                rangeCt: 3,\n                distribRange: [0, 33, 66, 100],\n                handleStyle: [\n                    { backgroundColor: 'gold', border: '0', height: '0px', width: '0px', },\n                    { backgroundColor: 'gold', border: '0', },\n                    { backgroundColor: 'cyan', border: '0', },\n                    { backgroundColor: 'red', border: '0', height: '0px', width: '0px', },\n                ],\n                trackStyle: [\n                    { backgroundColor: 'gold' },\n                    { backgroundColor: 'cyan' },\n                    { backgroundColor: 'red' },\n                ],\n                railStyle: { backgroundColor: 'red' },\n            })\n        }\n    }\n\n    static getSlider(props, sliderCallback) {\n        return (\n            <MySlider\n                // count={1}\n                min={5}\n                max={100}\n                value={props.probeSpendPct}\n                marks={this.sliderMarks}\n                step={5}\n                onChange={sliderCallback}\n                defaultValue={5}\n                trackStyle={[\n                    { backgroundColor: '#1A8A09' },\n                    { backgroundColor: '#555' },\n                ]}\n                handleStyle={[\n                    // { backgroundColor: '#1A8A09', border: '0', },\n                    { backgroundColor: '#1A8A09', border: '0', },\n                    { backgroundColor: '#555', border: '0', },\n                ]}\n                dotStyle={{\n                    backgroundColor: '#bbb',\n                    border: '0',\n                    width: '4px',\n                }}\n                activeDotStyle={{\n                    backgroundColor: '#1A8A09',\n                    border: '0',\n                    width: '4px',\n                }}\n                allowCross={false}\n                // pushable={true}\n                tipFormatter={value => value + \"%\"}\n                tipProps={{ placement: 'bottom' }}\n            />\n        )\n    }\n\n    static getRange(props, rangeCallback) {\n        return (\n            <MyRange\n                count={props.rangeSettings.rangeCt}\n                min={0}\n                max={100}\n                step={2}\n                marks={this.sliderMarks}\n                onChange={rangeCallback}\n                defaultValue={props.rangeSettings.distribRange}\n                value={props.rangeSettings.distribRange}\n                trackStyle={props.rangeSettings.trackStyle}\n                handleStyle={props.rangeSettings.handleStyle}\n                railStyle={props.rangeSettings.railStyle}\n                dotStyle={{\n                    backgroundColor: '#bbb',\n                    border: '0',\n                    width: '4px',\n                }}\n                allowCross={false}\n                pushable={false}\n                tipFormatter={value => value + \"%\"}\n                tipProps={{ placement: 'bottom' }}\n            />\n        )\n    }\n\n}","import React from 'react';\nimport BusinessInit from './BusinessInit';\n// import ProbeInit from './ProbeInit';\nimport UpgradeInit from './UpgradeInit';\nimport Probe from '../Probe';\nimport Sliders from '../Sliders';\nconst Decimal = require('decimal.js');\n\nexport default class NeumannInit extends React.Component {\n\n    static freshState = () => ({\n        businesses: BusinessInit(),\n        upgrades: UpgradeInit(),\n        announcements: [],\n        modals: [],\n        version: \"0.0.1\",\n        concentrate: {\n            time: 0,\n        },\n        concentrateClass: \"concIdle\",\n        tipText: \"\",\n    })\n\n    static userSettings = () => ({\n        money: new Decimal(0),\n        knowledge: new Decimal(0),\n        probe: new Probe(new Decimal(0),new Decimal(0), 0, 0, 0),\n        prestige: { num: new Decimal(0), val: 10 },\n        prestigeNext: new Decimal(0),\n        lifetimeEarnings: new Decimal(0),\n        lifetimeLearning: new Decimal(0),\n        lifetimeDistance: new Decimal(0),\n        curMaxMoney: new Decimal(0),\n        curTotalClicks: 0,\n        buyMilestone: 0,\n        busStats: {\n            0: { owned: 1, revealed: false, timeAdj: -1, payoutAdj: 1, },\n        },\n        upgStats: {},\n        featureEnabled: {},\n        toggles: {\n            overlays: true,\n        },\n        concentrate: {\n            mult: 2.0,\n        },\n        sliderInfo: {\n            rangeSettings: Sliders.getRangeValues(1),\n            probePcts: [50, 50, 0],\n            probeSpendPct: 25,\n        }\n    })\n\n}","import React from 'react';\nimport HelperConst from './HelperConst';\nimport ComputeFunc from './ComputeFunc';\nimport './styles/fonts.css';\nimport ScrollBar from 'react-scrollbars-custom';\nconst mylog = HelperConst.DebugLog;\n\nexport default class Upgrades extends React.Component {\n\n    componentDidMount() {\n        mylog(\"upgrades didmount\");\n    }\n\n    componentWillUnmount() {\n        mylog(\"upgrades willunmount\");\n    }\n\n    render() {\n        const sources = this.props.upgrades.reduce((result, item) => {\n            let u = this.props.userSettings.upgStats[item.id];\n            if (!u.purchased && u.revealed) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n        // mylog(\"sources:\",sources);\n\n        const rows = sources.map(item => {\n            const u = this.props.userSettings.upgStats[item.id];\n            if (u.purchased || !u.revealed) { return \"\"; };\n\n            let n = item.name;\n            let buyClass = \"\";\n            let buttonDisabled = true;\n\n            let buyPct = 0;\n            let bgClass = \"\";\n            let costSymbol = \"\";\n\n            let rewardInfo;\n            let clickAction = this.props.onClick;\n\n            if (item.rewardType === \"enableFeature\") {\n                bgClass = \"feature \";\n            } else if (item.costType === \"knowledge\") {\n                bgClass = \"knowledge \";\n            } else {\n                bgClass = \"money \";\n            }\n\n            if (item.costType === \"money\") {\n                costSymbol = HelperConst.moneySymbolSpan();\n                buyPct = ComputeFunc.buyPct(item.costValue, this.props.userSettings.money);\n\n                if (this.props.userSettings.money.gte(item.costValue)) {\n                    buyClass += \"canAfford \";\n                    buttonDisabled = false;\n                } else {\n                    buyClass += \"cannotAfford \";\n                }\n            } else {\n                costSymbol = HelperConst.knowledgeSymbolSpan();\n                buyPct = ComputeFunc.buyPct(item.costValue, this.props.userSettings.knowledge);\n\n                if (this.props.userSettings.knowledge.gte(item.costValue)) {\n                    buyClass += \"canAfford \";\n                    buttonDisabled = false;\n                } else {\n                    buyClass += \"cannotAfford \";\n                }\n            }\n\n\n\n            switch (item.rewardType) {\n                case \"enableFeature\":\n                    rewardInfo = item.rewardTarget;\n                    clickAction = this.props.enableFeature;\n                    break;\n                default:\n                    rewardInfo = this.props.businesses[item.rewardTarget].name + \" x\" + item.rewardValue;\n                    break;\n            }\n\n            let bgAnim = buyPct < 100 ? \"upgAnim \" : \"\";\n            const buyPctStyle = { width: buyPct + '%' }\n\n            return (\n                <div key={item.id + \"upgrade\"} className={\"upgrade \" + bgClass} >\n                    <div className={\"upgrade-buy-progress \" + bgClass}>\n                        <div className={\"upgrade-buy-progress-pct \" + bgClass + bgAnim} style={buyPctStyle}>\n                            <span ></span>\n                        </div>\n                    </div>\n                    <button\n                        key={item.id + \"button\"}\n                        className={\"upgrade-buy \" + buyClass + bgClass}\n                        onClick={() => clickAction(item)}\n                        disabled={buttonDisabled}>\n                        {n}\n                    </button>\n                    <div key={item.id + \"upgrade-reward\"} className=\"upgrade-reward\">\n                        {rewardInfo}\n                    </div>\n                    <div key={item.id + \"upgrade-cost-wrapper\"} className={\"upgrade-cost-wrapper \" + buyClass + bgClass} >\n                        {costSymbol}{HelperConst.showNum(item.costValue)}\n                    </div>\n                </div >\n            )\n\n        });\n\n        return (\n            <ScrollBar permanentTrackY={true} className=\"upgrade-container\" >\n                {rows}\n            </ScrollBar>\n        )\n\n    }\n\n}","import React from 'react';\n// import ComputeFunc from './ComputeFunc';\n// import HelperConst from './HelperConst';\nimport './styles/fonts.css';\nimport './styles/colors.scss';\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\n\nexport default class Announce extends React.Component {\n\n    render() {\n        const rows = this.props.announcements.map((item, index) => {\n            const annClass = (item.ack) ? \"announce-fadeout\" : \"\"\n            return (\n                <div\n                    className={\"announcement \" + annClass}\n                    key={item.id}\n                    onClick={() => this.props.onClick(item)}                >\n                    <span className=\"announce-text\">{item.text}</span>\n                </div>\n            )\n        })\n\n        return (\n            <div className=\"announce-container\" >\n                {rows}\n            </div>\n        )\n    }\n\n}","import React from 'react';\n\nimport HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\nexport default class Settings extends React.Component {\n\n    render() {\n        return (\n            <div id=\"settings\">\n                <div className=\"toggleHolder\">\n                    <div className=\"toggleLabel\">Overlays</div>\n                    {HelperConst.onoffswitch(\"overlays\", this.props.toggles.overlays, this.props.toggleOverlay)}\n                </div>\n\n\n                \n            </div>\n        )\n    }\n}","import React from 'react';\n\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\nexport default class Logs extends React.Component {\n\n    render() {\n        return (\n            <div id=\"logs\">\n                Some logs\n                \n            </div>\n        )\n    }\n}","import React from 'react';\n\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\nexport default class Prestige extends React.Component {\n\n    render() {\n        return (\n            <div id=\"prestige\">\n                TODO\n            </div>\n        )\n    }\n}","import React from 'react';\nimport HelperConst from '../HelperConst';\nconst mylog = HelperConst.DebugLog;\n\nconst tipTextLookup = {\n\n    \"title\":\n        <p>\n            Pretty, yeah?<br />\n            From: https://codepen.io/giana/\n        </p>,\n\n    \"title-wrapper\":\n        <p>\n            Pronunciation:<br />\n            German: fun Noy-mon<br />\n            English: von Noy-mun<br/>\n            Seinfeld: NEWMAN >:(<br/>\n            Lil John: HWhat\n        </p>,\n\n    \"tooltip\":\n        `This window shows tooltip text.`,\n\n    \"concentrate-container\":\n        `Press this button to get a temporary speed boost for your businesses.`,\n\n    \"purchaseAmts\": <p>\n        <b>Max</b>: can afford<br />\n        <b>MaxOCD</b>: increment of 25<br />\n        <b>MaxUPG</b>: next upgrade<br />\n        <b>PrimeTime</b>: Prime numbers\n        </p>,\n\n    \"business-owned\":\n        `How many you own.`,\n\n    \"business-pct\":\n        `This business' percent of total income`,\n\n    \"business-cost\":\n        `The cost to purchase the chosen amount.`,\n\n    \"business-revenue\":\n        `How much you earn per countdown.`,\n\n}\n\nconst businessInfo = (strings, ...values) => {\n    // return `Payout countdown is ${values[0]} seconds.`;\n    return <p>\n        Countdown is <b>{values[0]}</b> seconds.<br />\n        Payout multiplier (from upgrades) is <b>{values[1]}</b>.\n    </p>\n};\n\n\n\n\n\n\n\n\nexport default function ToolTips(key, userSettings) {\n    // mylog(\"key:\",key,\"match?:\",key.match(/business-buy/));\n    let id, t, p;\n    switch (key) {\n        case (key.match(/^business-buy-/) || {}).input:\n            id = key.match(/^business-buy-(\\d+)/)[1];\n            t = userSettings.busStats[id].timeAdj;\n            p = userSettings.busStats[id].payoutAdj;\n            return businessInfo`${t} ${p}`;\n        case (key.match(/^earn-progress-/) || {}).input:\n            id = key.match(/^earn-progress-(\\d+)/)[1];\n            t = userSettings.busStats[id].timeAdj;\n            p = userSettings.busStats[id].payoutAdj;\n            mylog(\"earnprogress id:\", id, \"timeAdj:\", t, \"payoutAdj:\", p);\n            return businessInfo`${t} ${p}`;\n        default:\n            if (tipTextLookup[key]) {\n                return tipTextLookup[key];\n            }\n            return key;\n    }\n}","import React from 'react';\nimport ToolTips from './objInit/ToolTips';\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\nexport default class ToolTip extends React.Component {\n\n    render() {\n        return (\n            <div id=\"tooltip\" onMouseOver={this.props.onMouseOver} data-tip=\"tooltip\">\n                <div id=\"tooltip-text\">{ToolTips(this.props.tipText, this.props.userSettings)}</div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Modal from 'react-modal';\nimport HelperConst from './HelperConst';\nconst mylog = HelperConst.DebugLog;\n\nexport default class MyModal extends React.Component {\n\n    componentDidMount() {\n        mylog(\"modal didmount\");\n\n        Modal.setAppElement('#root');\n\n    }\n\n    render() {\n\n        return (\n            <Modal\n                isOpen={this.props.isOpen}\n                // onAfterOpen={this.afterOpenHelpModal}\n                onRequestClose={this.props.onRequestClose}\n                contentLabel=\"Example Modal\"\n                shouldCloseOnOverlayClick={false}\n                className=\"Modal\"\n                overlayClassName=\"Modal-Overlay\"\n            >\n                {/* <h2 ref={subtitle => this.subtitle = subtitle}>Hello</h2> */}\n                <div className=\"modal-container\">\n                    <div className=\"modalHeader\">\n                        <div className=\"modalTitle\">{this.props.title}</div>\n                        <button\n                            className=\"modalButtons fancyButtons helpModalCloseButton\"\n                            onClick={this.props.remaining ? this.props.onRequestNext : this.props.onRequestClose}>\n                            CLOSE\n                        </button>\n                    </div>\n                    <div className=\"modalContent\">\n                        {/* {HelperConst.modalHelp()} */}\n                        {this.props.text}\n                    </div>\n                </div>\n            </Modal>\n        )\n    }\n\n\n}","import React from 'react';\n// import ReactDOM from 'react-dom'\nimport SecureLS from 'secure-ls';\nimport update from 'immutability-helper';\nimport Modal from 'react-modal';\nimport Dropdown from 'react-dropdown';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n\nimport './styles/fonts.css';\nimport './styles/index.scss';\nimport './styles/dropdown.scss';\nimport './styles/modal.scss';\nimport './styles/effects.scss';\nimport './styles/space.scss';\nimport 'rc-slider/assets/index.css';\n\nimport Space from './Space';\nimport Income from './Income';\nimport Business from './Business.js';\nimport Probe from './Probe.js';\nimport NeumannInit from './objInit/NeumannInit';\nimport ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport Upgrades from './Upgrades';\nimport Announce from './Announce';\nimport Sliders from './Sliders';\nimport Settings from './Settings';\nimport Logs from './Logs';\nimport Prestige from './Prestige';\nimport ToolTip from './ToolTip';\nimport MyModal from './MyModal';\n\nconst Decimal = require('decimal.js');\nconst mylog = HelperConst.DebugLog;\n\n// =====================================================\nexport default class Neumann extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = { ...NeumannInit.freshState() };\n        this.state.helpModalIsOpen = false;\n        this.modalTexts = [];\n        this.modalTitle = \"\";\n        this.modalText = \"\";\n\n        this.userSettings = { ...NeumannInit.userSettings() };\n\n        this.timerRunning = false;\n        this.state.pauseClass = \"sidebarButtons fancyButtons pause-button \";\n        this.timeInterval = 100;\n        this.timeMultiplier = this.timeInterval / 1000;\n        this.lastLoop = Date.now();\n\n\n        this.gameSavedHide = <div id=\"savegame\"></div>;\n        this.gameSavedNotify = <div id=\"savegame\" className=\"game-saved\">Game Saved</div>\n        this.gameSavedCountdown = 5;\n        this.gameSavedObj = {\n            content: this.gameSavedHide,\n            countdown: this.gameSavedCountdown,\n        };\n\n        this.announceCt = 0;\n        this.overlayCt = 0;\n        this.modalCt = 0;\n\n        this.gameIntervalId = null;\n        this.prestigeIntervalId = null;\n        this.gameSaveIntervalId = null;\n\n        this.domRefs = [];\n        this.purchaseAmt = \"1\";\n        this.tabIndex = 0;\n\n\n        // this.probe = new Probe(new Decimal(0), 0, 0, 0);\n        this.zoomLevel = 0;\n        this.zoomName = Space.spaceZoomLevelNames[0];\n        this.mapDistance = Space.spaceZoomLevels[0];\n\n        // this.userSettings.sliderInfo = {\n        //     rangeSettings: Sliders.getRangeValues(1),\n        //     probePcts: [50, 50, 0],\n        //     probeSpendPct: 25,\n        // }\n\n        // this._business = React.createRef();\n        this.populateBusDomRefs = this.populateInitVals.bind(this);\n        this.restart = this.restart.bind(this);\n        this.resetAll = this.resetAll.bind(this);\n        this.pause = this.pause.bind(this);\n        this.resume = this.resume.bind(this);\n        this.loadGame = this.loadGame.bind(this);\n        this.saveGame = this.saveGame.bind(this);\n        this.decrementSavedGameObj = this.decrementSavedGameObj.bind(this);\n        this.prestige = this.prestige.bind(this);\n        this.updatePrestigeEarned = this.updatePrestigeEarned.bind(this);\n        this.updateGame = this.updateGame.bind(this);\n        this.clickBusiness = this.clickBusiness.bind(this);\n        this.clickUpgrade = this.clickUpgrade.bind(this);\n        this.clickAnnouncement = this.clickAnnouncement.bind(this);\n        this.purchaseAmtDropDownHandler = this.purchaseAmtDropDownHandler.bind(this);\n        this.announce = this.announce.bind(this);\n        this.showModal = this.showModal.bind(this);\n        this.nextModal = this.nextModal.bind(this);\n        this.sliderChange = this.sliderChange.bind(this);\n        this.rangeChange = this.rangeChange.bind(this);\n        this.enableFeature = this.enableFeature.bind(this);\n        this.purchaseProbe = this.purchaseProbe.bind(this);\n        this.getSettingsTab = this.getSettingsTab.bind(this);\n        this.toggleOverlay = this.toggleOverlay.bind(this);\n        this.clickConcentrate = this.clickConcentrate.bind(this);\n        this.decrementConcentrate = this.updateConcentrate.bind(this);\n\n        this.onMouseOver = this.onMouseOver.bind(this);\n        this.openHelpModal = this.openHelpModal.bind(this);\n        this.closeHelpModal = this.closeHelpModal.bind(this);\n        this.afterOpenHelpModal = this.afterOpenHelpModal.bind(this);\n\n\n        /* cheats */\n        this.prestigeCheat = this.prestigeCheat.bind(this);\n        this.moneyCheat = this.moneyCheat.bind(this);\n        this.cheatPrestigeVal = \"1e9\";\n\n\n\n\n    }\n\n\n    componentDidMount() {\n        mylog(\"game didmount\");\n        this.resetAll();\n        this.loadGame(); // if exists\n\n        mylog(HelperConst.purchaseOptsSpecial);\n        mylog(Space.spaceZoomLevels.map(n => HelperConst.showInt(n)));\n        this.setState((state, props) => ({\n            isLoaded: true,\n        }));\n\n        Modal.setAppElement('#root');\n\n        mylog(\"init work done\");\n    }\n\n    componentWillUnmount() {\n        mylog(\"game willunmount\");\n        clearInterval(this.gameIntervalId);\n        clearInterval(this.prestigeIntervalId);\n        clearInterval(this.gameSaveIntervalId);\n    }\n\n    componentDidUpdate() {\n        // mylog(\"game didupdate\");\n\n    }\n\n    setTitle() {\n        document.title = \"NEUMANN $\"\n            + HelperConst.showNum(this.userSettings.money)\n            + \" \" + this.state.version;\n    }\n\n    populateInitVals() {\n        // update our userSettings for all businesses and upgrades\n        mylog(\"updating userSettings with bus and upg\");\n        this.state.businesses.forEach(item => {\n            if (!this.userSettings.busStats[item.id])\n                this.userSettings.busStats[item.id] = { owned: 0, revealed: false, timeAdj: -1, payoutAdj: 1, };\n            this.domRefs.push({ name: item.name, domRef: React.createRef() });\n        });\n        this.state.upgrades.forEach(item => {\n            if (!this.userSettings.upgStats[item.id])\n                this.userSettings.upgStats[item.id] = { purchased: false, revealed: false };\n        });\n        this.probeDivRef = React.createRef();\n\n        this.pulseRef = null;\n        this.centerEllipseRef = null;\n        this.innerEllipseRef = null;\n        this.outerEllipseRef = null;\n        this.centerPlanetRef = null;\n        mylog(\"populated domRefs:\", this.domRefs);\n    }\n\n    stopSaveGameInterval() {\n        if (this.gameSaveIntervalId) {\n            clearInterval(this.gameSaveIntervalId);\n            delete (this.gameSaveIntervalId)\n        }\n    }\n    startSaveGameInterval() {\n        if (!this.gameSaveIntervalId) {\n            this.gameSaveIntervalId = setInterval(this.saveGame, 30000);\n            mylog(\"game intervalId set\");\n        }\n        mylog(\"save intervalId:\", this.gameIntervalId);\n    }\n\n    resetAll() {\n        this.pause();\n        this.setState((state, props) => ({\n            ...NeumannInit.freshState()\n        }));\n        this.userSettings = { ...NeumannInit.userSettings() };\n        this.announceCt = 0;\n        this.modalCt = 0;\n        this.populateInitVals();\n        this.outerEllipseMoving = false;\n        this.pulseMoving = false;\n        this.zoomLevel = 0;\n        this.zoomName = Space.spaceZoomLevelNames[0];\n        this.mapDistance = Space.spaceZoomLevels[0];\n        this.resume();\n    }\n\n    restart() {\n        this.pause();\n        this.setState((state, props) => ({\n            ...NeumannInit.freshState()\n        }));\n        this.userSettings = { ...NeumannInit.userSettings() };\n        this.populateInitVals();\n        this.zoomLevel = 0;\n        this.zoomName = Space.spaceZoomLevelNames[0];\n        this.mapDistance = Space.spaceZoomLevels[0];\n        this.resume();\n    }\n\n    pause() {\n        this.timerRunning = false;\n        this.setState((state) => ({\n            pauseClass: \"sidebarButtons fancyButtons  pause-button lit\",\n        }));\n        if (this.gameIntervalId) {\n            clearInterval(this.gameIntervalId);\n            delete (this.gameIntervalId);\n        }\n        if (this.prestigeIntervalId) {\n            clearInterval(this.prestigeIntervalId);\n            delete (this.prestigeIntervalId)\n        }\n        this.stopSaveGameInterval();\n        mylog(\"set timeRunning to\", this.timerRunning);\n    }\n\n\n    resume() {\n        this.timerRunning = true;\n        this.setState((state) => ({\n            pauseClass: \"sidebarButtons fancyButtons  pause-button \",\n        }));\n        if (!this.gameIntervalId) {\n            this.gameIntervalId = setInterval(this.updateGame, this.timeInterval);\n        }\n        if (!this.prestigeIntervalId) {\n            this.prestigeIntervalId = setInterval(this.updatePrestigeEarned, 1000);\n        }\n        this.startSaveGameInterval();\n        this.lastLoop = Date.now();\n        mylog(\"set timeRunning to\", this.timerRunning);\n    }\n\n    loadGame() {\n        this.stopSaveGameInterval();\n        const ls = new SecureLS({ encodingType: 'aes' });\n        const saveString = ls.get('neumann_game_save');\n        if (!saveString) {\n            mylog(\"no save present\");\n            this.startSaveGameInterval();\n            return;\n        }\n        mylog(\"loaded:\", saveString);\n\n        const decimalKeys = [\n            \"money\",\n            \"knowledge\",\n            \"value\", \"number\", \"qualityLoss\", \"combatLoss\", \"distance\", \"distPerSec\",\n            \"num\",\n            \"prestigeNext\",\n            \"lifetimeEarnings\", \"lifetimeLearning\", \"lifetimeDistance\",\n            \"curMaxMoney\"\n        ];\n        this.userSettings = JSON.parse(saveString, (key, value) => {\n            if (decimalKeys.includes(key)) {\n                mylog(\"  new decimal value for\", key);\n                return new Decimal(value);\n            }\n            return value;\n        });\n        // mylog(\"userSettings type:\",typeof(this.userSettings));\n        // mylog(\"userSettings:\", this.userSettings);\n        // mylog(\"probe:\", this.userSettings.probe);\n\n        const tempProbe = { ...this.userSettings.probe };\n        this.userSettings.probe = new Probe(\n            this.userSettings.probe.number,\n            this.userSettings.probe.value,\n            this.userSettings.probe.speed,\n            this.userSettings.probe.quality,\n            this.userSettings.probe.combat,\n        );\n        // mylog(\"userSettings:\", this.userSettings);\n\n        // mylog(\"saveString probe:\",tempProbe);\n        this.userSettings.probe.number = tempProbe.number;\n        this.userSettings.probe.qualityLoss = tempProbe.qualityLoss;\n        this.userSettings.probe.combatLoss = tempProbe.combatLoss;\n        this.userSettings.probe.distance = tempProbe.distance;\n        mylog(\"userSettings:\", this.userSettings);\n\n        this.populateInitVals();\n\n        mylog(\"userSettings:\", this.userSettings);\n\n        const saveTime = ls.get('neumann_game_save_time');\n        if (saveTime && (Date.now() - saveTime)>30000) {\n            const deltaMillis = (Date.now() - saveTime);\n            const duration = ComputeFunc.convertMillis(deltaMillis);\n            mylog(\"you were gone for\",\n                duration.days + \"d\",\n                duration.hours + \"h\",\n                duration.minutes + \"m\",\n                duration.seconds + \"s\",\n            );\n\n            const moneyGained = Business.computeTotalEarningPerSec(this.state.businesses, this.userSettings, this.state.concentrate)\n                .times(Math.floor(deltaMillis / 1000));\n            mylog(\"previous money:\", HelperConst.showNum(this.userSettings.money));\n            mylog(\"you gained $\", HelperConst.showNum(moneyGained));\n            this.userSettings.money = this.userSettings.money.plus(moneyGained);\n            mylog(\"now should have $\", HelperConst.showNum(this.userSettings.money));\n            \n            mylog(\"probe distance:\", HelperConst.showNum(this.userSettings.probe.distance));\n            const probeDistGained = this.userSettings.probe.getDistPerSec().times(Math.floor(deltaMillis / 1000));\n            mylog(\"probe dist gained:\",HelperConst.showNum(probeDistGained));\n            this.userSettings.probe.goFarther(probeDistGained);\n\n            this.showModal(\"Welcome Back!\", HelperConst.welcomeBack(duration, moneyGained, probeDistGained));\n        }\n\n        // this.lastLoop = Date.now();\n        this.startSaveGameInterval();\n        this.announce(\"game loaded\");\n    }\n\n    saveGame() {\n        // this.stopSaveGameInterval();\n        // mylog(\"userSettings:\", this.userSettings);\n        const ls = new SecureLS({ encodingType: 'aes' });\n        const saveStringText = JSON.stringify(this.userSettings);\n        // mylog(\"saveStringText:\", saveStringText);\n\n        ls.set('neumann_game_save_time', Date.now());\n        ls.set('neumann_game_save', saveStringText);\n\n        // this.announce(\"game saved\");\n        this.gameSavedObj = {\n            content: this.gameSavedNotify,\n            countdown: this.gameSavedCountdown,\n        };\n        // this.startSaveGameInterval();\n        mylog(\"game saved\");\n    }\n\n    decrementSavedGameObj() {\n        if (this.gameSavedObj.countdown > 0) {\n            this.gameSavedObj.countdown -= this.timeMultiplier;\n        }\n        if (this.gameSavedObj.countdown < 0) {\n            this.gameSavedObj.content = this.gameSavedHide;\n        }\n    }\n\n    updateConcentrate() {\n        let concButtonClass = this.state.concentrateClass;\n\n        if (this.state.concentrate.time > 0) {\n            mylog(\"concentrate countdown:\", this.state.concentrate);\n            concButtonClass = \"concActive\";\n            let newVal = this.state.concentrate.time - this.timeMultiplier;\n            if (newVal <= 0) {\n                newVal = -10;\n                concButtonClass = \"concCooldown\";\n            }\n            this.setState((state, props) => ({\n                concentrate: { time: newVal, mult: this.userSettings.concentrate.mult },\n                concentrateClass: concButtonClass,\n            }))\n        }\n\n        if (this.state.concentrateClass === \"concCooldown\" && this.state.concentrate.time < 0) {\n            mylog(\"concentrate cooldown:\", this.state.concentrate);\n            let newVal = this.state.concentrate.time + this.timeMultiplier;\n            if (newVal >= 0) {\n                newVal = 0;\n                concButtonClass = \"concIdle\";\n            }\n            this.setState((state, props) => ({\n                concentrate: { time: newVal, mult: this.userSettings.concentrate.mult },\n                concentrateClass: concButtonClass,\n            }))\n        }\n\n    }\n\n    updatePrestigeEarned() {\n        const newPrestigeNext = ComputeFunc.calcPrestigeEarnedFromLearning(this.userSettings.knowledge)\n            .minus(this.userSettings.prestigeNext);\n        if (newPrestigeNext.gt(0) && !newPrestigeNext.eq(this.userSettings.prestigeNext)) {\n            mylog(\"newPrestigeNext:\", newPrestigeNext.toFixed(9), \"prestigeNext:\", this.userSettings.prestigeNext.toFixed(9));\n            this.userSettings.prestigeNext = this.userSettings.prestigeNext.plus(newPrestigeNext);\n        }\n    }\n\n    prestige() {\n        if (this.userSettings.prestigeNext.gt(0)) {\n            this.updatePrestigeEarned();\n            const newPrestige = this.userSettings.prestige.num.plus(this.userSettings.prestigeNext);\n            this.restart();\n            this.setState((state) => ({\n                prestige: { num: newPrestige, val: state.prestige.val },\n            }));\n        }\n    }\n\n    purchaseAmtDropDownHandler(amt) {\n        this.updatePurchaseAmt(amt.value);\n    }\n\n    updatePurchaseAmt(amt) {\n        mylog(\"received new purchaseAmt:\", amt);\n        if (HelperConst.purchaseOpts.indexOf(amt) !== -1 && this.purchaseAmt !== amt) {\n            this.purchaseAmt = amt;\n            mylog(\"new purchaseAmt:\", amt);\n        }\n        // mylog(this.state.businesses);\n        // mylog(this.state.businesses[0]);\n        // mylog(ComputeFunc.maxBuy(this.state.businesses[0], this.userSettings.money).max25);\n    }\n\n    prestigeCheat() {\n        mylog(\"CHEAT: adding\", this.cheatPrestigeVal, \"prestige\");\n        this.userSettings.prestige.num = this.userSettings.prestige.num.plus(this.cheatPrestigeVal);\n    }\n    moneyCheat() {\n        mylog(\"CHEAT: adding 50% money\");\n        this.userSettings.money = this.userSettings.money.times(1.5);\n    }\n\n\n    incrementBusinessCounters() {\n        let changed = false;\n        const newBusinesses = this.state.businesses.map(item => {\n            let b = this.userSettings.busStats[item.id];\n            // reset if new\n            if (b.timeAdj === -1) b.timeAdj = item.timeBase;\n\n            // concentrate\n            const addVal = this.state.concentrate.time > 0 ? this.userSettings.concentrate.mult * this.timeMultiplier : this.timeMultiplier;\n\n            let newItem = { ...item };\n            if (b.owned === 0) {\n                if (b.revealed && item.timeCounter !== 0) {\n                    newItem.timeCounter = 0;\n                    changed = true;\n                    mylog(\"resetting \", item.name, \" to timeCounter \", newItem.timeCounter);\n                }\n            } else {\n                newItem.payout = 0;\n                newItem.timeCounter = newItem.timeCounter + addVal;\n                if (newItem.timeCounter >= b.timeAdj) {\n                    const numPayouts = Math.floor(newItem.timeCounter / b.timeAdj);\n                    newItem.payout = numPayouts;\n                    newItem.timeCounter = newItem.timeCounter % b.timeAdj;\n                }\n                changed = true;\n                // mylog(newItem.name, \" timeCounter:\", newItem.timeCounter, \" payout:\",newItem.payout);\n            }\n\n            // overlays\n            const activeOverlays = newItem.overlays.filter(o => o.counter < o.expire);\n            // const activeOverlays = newItem.overlays.filter(o => o.counter >= 0);\n\n            newItem.overlays = activeOverlays.map((o, i) => {\n                o.counter = o.counter + this.timeMultiplier;\n                // mylog(\"o.counter: #\" + i, o.counter);\n                return o;\n            })\n            // newItem.overlays.length > 0 && mylog(item.name,\"overlays:\", newItem.overlays.length);\n            return newItem;\n        });\n        if (changed) {\n            this.setState((state, props) => ({\n                businesses: newBusinesses,\n            }))\n        }\n    }\n\n    updateProbe() {\n        // knowledge increase\n        const oldDist = this.userSettings.probe.distance;\n        const addDist = this.userSettings.probe.getDistPerTick(this.timeMultiplier);\n        this.userSettings.lifetimeDistance = this.userSettings.lifetimeDistance.plus(addDist);\n        this.userSettings.probe.goFarther(addDist);\n\n        const newLearning = this.userSettings.probe.getLearned(this.userSettings.probe.distance)\n            .minus(this.userSettings.probe.getLearned(oldDist));\n        if (newLearning.gt(0)) {\n            this.userSettings.knowledge = this.userSettings.knowledge.plus(newLearning);\n        }\n\n        // probe replication\n        this.userSettings.probe.updateNumber();\n\n        const conv = Space.convertDistanceToSpace(this.userSettings.probe.distance);\n        this.mapDistance = conv.dist;\n        this.zoomLevel = conv.idx;\n        this.zoomName = conv.name;\n        // mylog(\"conv:\",conv);\n    }\n\n    incrementAnnouncementCounters() {\n        const valid = this.state.announcements.reduce((result, item) => {\n            if (!item.ack || (item.ack && item.counter < item.fadeout)) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n        // mylog(\"valid:\", valid);\n        const newAnnouncements = valid.map(item => {\n            let newAnn = { ...item };\n            newAnn.counter += this.timeMultiplier;\n            if (newAnn.counter >= newAnn.expire) {\n                newAnn.ack = true;\n                newAnn.counter = 0;\n            }\n            return newAnn;\n        });\n        // mylog(\"newAnnouncements:\", newAnnouncements);\n        this.setState((state) => ({\n            announcements: newAnnouncements,\n        }))\n    }\n\n\n    clickBusiness(bus) {\n        mylog(\"business click \", bus.name);\n        const busCost = ComputeFunc.getCost(bus, this.userSettings.busStats[bus.id], this.purchaseAmt, this.userSettings.money);\n        this.userSettings.money = this.userSettings.money.minus(busCost.cost);\n        let b = this.userSettings.busStats[bus.id];\n\n        // add overlays\n        let newBusinesses = this.state.businesses.map(item => {\n            const newB = this.userSettings.busStats[item.id];\n            let newItem = { ...item };\n            if (newItem.id === bus.id) {\n                let bonusArr = [];\n                const ownedMilestones = ComputeFunc.getOwnedMilestonesAttained(newB.owned, newB.owned + busCost.num);\n                let busMult = 1;\n                ownedMilestones.forEach((milestone) => {\n                    busMult *= 2;\n                });\n                (busMult > 1) && bonusArr.push(this.genOverlayObj(\"X\" + busMult, \"ownedBonus\"));\n                newItem.overlays = this.genOverlayArr(item.overlays, \"+\" + busCost.num).concat(bonusArr);\n                mylog(\"adding\", busCost.num, \"to\", newItem.name);\n\n            }\n            return newItem;\n        });\n        /* for overlays */\n        this.setState((state, props) => ({\n            businesses: newBusinesses,\n        }));\n        b.owned += busCost.num;\n        mylog(bus.name, \"owned set to\", b.owned);\n\n\n        /* total buy milestones */\n        const curIdx = ComputeFunc.getTotalMilestoneIdx(this.userSettings.buyMilestone);\n        const newLowest = Object.keys(this.userSettings.busStats).reduce((min, bus) =>\n            this.userSettings.busStats[bus].owned < min ? this.userSettings.busStats[bus].owned : min,\n            Number.MAX_SAFE_INTEGER);\n        const newIdx = ComputeFunc.getTotalMilestoneIdx(newLowest);\n        // mylog(\"newIdx:\",newIdx,\" curIdx:\",curIdx);\n\n        /* apply time modifiers if new total milestone reached */\n        if (newIdx > curIdx) {\n            this.userSettings.buyMilestone = ComputeFunc.getTotalMilestone(newIdx);\n            mylog(\"new owned milestone:\", this.userSettings.buyMilestone);\n            // update adjusted cycle time\n            this.state.businesses.forEach((item, idx) => {\n                this.userSettings.busStats[item.id].timeAdj = Business.getAdjustedTimeBase(item, newIdx);\n                mylog(this.state.businesses[idx].name, \"timeAdjusted now\", this.userSettings.busStats[item.id].timeAdj);\n            });\n            ComputeFunc.getTotalMilestonesAttained(curIdx, newIdx).forEach((num) => {\n                this.announce(HelperConst.thumbsUpSymbol + \" All businesses at \" + num + \"! Speed Doubled!\");\n            })\n\n        }\n\n\n    }\n\n    enableFeature(feature) {\n        mylog(\"feature click \", feature.name);\n        this.userSettings.upgStats[feature.id].purchased = true;\n        this.userSettings.featureEnabled[feature.id] = true;\n        mylog(\"feature enabled:\", feature.rewardTarget);\n\n        switch (feature.id) {\n            case 1000:\n                this.announce(HelperConst.thumbsUpSymbol + \" SPAAAAACE!  It's bigger on the outside.\");\n                break;\n            case 1001:  // self-replicating (probes)\n                this.announce(HelperConst.thumbsUpSymbol + \" When a boy robot likes a girl robot...  In space.\");\n                break;\n            case 1002:  // nano technology\n                this.announce(HelperConst.thumbsUpSymbol + \" It feels like I'm building nothing at all!\");\n                break;\n            case 1003:  // probe quality\n                this.userSettings.sliderInfo.rangeSettings = Sliders.getRangeValues(2);\n                this.userSettings.sliderInfo.probePcts = this.reportRangePcts();\n                this.announce(HelperConst.thumbsUpSymbol + \" Hey, Stanisaw!  What if we measured things first?\");\n                break;\n            case 1004:  // probe combat\n                this.userSettings.sliderInfo.rangeSettings = Sliders.getRangeValues(3);\n                this.userSettings.sliderInfo.probePcts = this.reportRangePcts();\n                this.announce(HelperConst.thumbsUpSymbol + \" H-BOMB!  The H is for Hello.\");\n                break;\n            case 1100:  // probe autobuy\n                this.announce(HelperConst.thumbsUpSymbol + \" If you put the little drinky-bird over the button like so...\");\n                break;\n            default:\n                break;\n        }\n\n    }\n\n    clickUpgrade(upg) {\n        mylog(\"upgrade click \", upg.name);\n        this.userSettings.upgStats[upg.id].purchased = true;\n\n        switch (upg.costType) {\n            case \"money\":\n                this.userSettings.money = this.userSettings.money.minus(upg.costValue);\n                break;\n            case \"knowledge\":\n                this.userSettings.knowledge = this.userSettings.knowledge.minus(upg.costValue);\n                break;\n            default:\n                break;\n        }\n\n        switch (upg.rewardType) {\n            case \"upgradeMult\":\n                this.userSettings.busStats[upg.rewardTarget].payoutAdj *= upg.rewardValue;\n                this.addOverlay(upg.rewardTarget, \"x\" + upg.rewardValue, \"ownedBonus\");\n                mylog(this.state.businesses[upg.rewardTarget].name, \"received multiplier\", upg.rewardValue);\n                break;\n            default:\n                mylog(\"unknown rewardType\");\n                break;\n        }\n\n    }\n\n    clickAnnouncement(a) {\n        mylog(\"announcement click \", a.id, a.text);\n        const idx = this.state.announcements.findIndex(atest => atest.id === a.id);\n        this.setState({\n            announcements: update(this.state.announcements, {\n                [idx]: {\n                    ack: { $set: true },\n                    counter: { $set: 0 },\n                }\n            }),\n        });\n\n\n    }\n\n    announce(text) {\n        mylog(\"announce \", text);\n        const today = new Date();\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds() + \".\" + today.getMilliseconds();\n        this.setState((state) => ({\n            announcements: [...state.announcements, {\n                id: this.announceCt++,\n                createTime: time,\n                text: text,\n                counter: 0,\n                expire: 3,\n                fadeout: 0.4,\n                ack: false,\n            },],\n        }))\n    }\n\n    showModal(title,text) {\n        console.log(\"adding modal:\",text);\n        this.modalTexts.push({title: title, text: text});\n    }\n\n    clickConcentrate() {\n        mylog(\"clickConcentrate\");\n        if (this.state.concentrate.time <= 0) {\n            this.setState((state, props) => ({\n                concentrate: { time: 10, mult: this.userSettings.concentrate.mult }\n            }));\n        }\n        mylog(\"concentrate:\", this.state.concentrate);\n    }\n\n    genOverlayObj(text, ovType = \"generic\") {\n        const xAdj = Math.floor((Math.random() * 40)) - 20;\n        const yAdj = Math.floor((Math.random() * 20)) - 10;\n        return {\n            id: \"overlay\" + this.overlayCt++,\n            expire: 1,\n            counter: 0,\n            ovType: ovType,\n            xTarget: xAdj,\n            yTarget: yAdj,\n            text: text,\n        }\n    }\n\n    genOverlayArr(origOverlay, text, ovType = \"generic\") {\n        mylog(\"addOverlay called:\", text);\n        return [...origOverlay, this.genOverlayObj(text, ovType)].slice(-4);\n    }\n\n    addOverlay(busIdx, text, ovType = \"generic\") {\n        const bus = this.state.businesses[busIdx];\n        mylog(\"addOverlay click \", text, bus.name);\n        this.setState((state, props) => ({\n            businesses: update(state.businesses, {\n                [busIdx]: {\n                    overlays: {\n                        $set: this.genOverlayArr(bus.overlays, text, ovType),\n                    }\n                },\n            }),\n        }));\n    }\n\n    changeTabs(idx) {\n        this.tabIndex = idx;\n    }\n\n    sliderChange(value) {\n        // mylog(\"slider change:\", value);\n        this.userSettings.sliderInfo.probeSpendPct = value;\n    }\n    rangeChange(value) {\n        // mylog(\"range change:\", value);\n        if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 2) {\n            this.userSettings.sliderInfo.rangeSettings.distribRange = [0, value[1], 100];\n        } else if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 3) {\n            this.userSettings.sliderInfo.rangeSettings.distribRange = [0, value[1], value[2], 100];\n        }\n        this.userSettings.sliderInfo.probePcts = this.reportRangePcts();\n        // mylog(\"fixed range:\", this.distribRange);\n    }\n    reportRangePcts() {\n        let pSpeedPct = 0, pQualityPct = 0, pCombatPct = 0;\n        mylog(\"spd:\", pSpeedPct, \"qual:\", pQualityPct, \"comb:\", pCombatPct);\n        if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 1) {\n            pSpeedPct = 100;\n        } else if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 2) {\n            pSpeedPct = Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[1]);\n            pQualityPct = 100 - pSpeedPct;\n\n        } else if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 3) {\n            pSpeedPct = Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[1]);\n            pQualityPct = Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[2] - pSpeedPct);\n            pCombatPct = 100 - (pSpeedPct + pQualityPct);\n        }\n        return [pSpeedPct, pQualityPct, pCombatPct];\n    }\n\n    purchaseProbe() {\n        const pCost = ComputeFunc.getPct(this.userSettings.money, this.userSettings.sliderInfo.probeSpendPct);\n        const pcts = this.reportRangePcts();\n        mylog(\"probe cost:\", pCost.toNumber());\n        mylog(\"probe attrs - pSpeed:\", pcts[0], \"pQuality:\", pcts[1], \"pCombat:\", pcts[2]);\n        this.userSettings.probe = new Probe(new Decimal(1), pCost, pcts[0], pcts[1], pcts[2])\n\n\n    }\n\n\n\n    getTabList() {\n        let rows = [];\n        // 1 - Business\n        rows.push(<Tab className=\"tab-list-item\" key=\"business-tab\" >Business</Tab>);\n\n        // 2 - Space\n        if (this.userSettings.featureEnabled[1000])\n            rows.push(<Tab className=\"tab-list-item\" key=\"probe-tab\">Space</Tab>);\n\n        // 3 - Spacer\n        rows.push(<Tab className=\"tab-list-item spacer-tab\" key=\"spacer-tab\" />);\n\n        // 4 - Prestige\n        if (this.userSettings.prestige.num.gt(0) || this.userSettings.prestigeNext.gt(0))\n            rows.push(<Tab className=\"tab-list-item prestige-tab\" key=\"prestige-tab\">Prestige</Tab>);\n\n        // 5 - Logs\n        rows.push(<Tab className=\"tab-list-item log-tab\" key=\"log-tab\">Log</Tab>);\n\n        // 6 - Settings\n        rows.push(<Tab className=\"tab-list-item settings-tab\" key=\"settings-tab\">Settings</Tab>);\n\n        return (\n            <div id=\"tabs\">\n                <TabList className=\"tab-list\">\n                    {rows}\n                </TabList>\n            </div>\n        )\n    }\n\n    getSpaceTab() {\n        let probebutton, probeattribs, sliderattribs, offlinetext;\n        let currentProbe = \"\";\n        let sliderText = \"Spend \" + this.userSettings.sliderInfo.probeSpendPct + \"%\";\n\n        // probes enabled\n        if (this.userSettings.featureEnabled[1001]) {\n            offlinetext = \"\";\n            currentProbe = <div id=\"previousProbe\" onMouseOver={this.onMouseOver} data-tip=\"previousProbe\">Current Probe: {HelperConst.moneySymbolSpan()}{HelperConst.showNum(this.userSettings.probe.value)}</div>\n            probebutton = (\n                <button className=\"probe-purchase\"\n                    onClick={this.purchaseProbe}\n                    onMouseOver={this.onMouseOver} data-tip=\"probe-purchase\">\n                    Buy Probe: {HelperConst.moneySymbolSpan()}{HelperConst.showNum(ComputeFunc.getPct(this.userSettings.money, this.userSettings.sliderInfo.probeSpendPct))}\n                </button>\n            );\n            if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 1) {\n                probeattribs = <div className=\"probe-attribs\"></div>\n                sliderattribs =\n                    <div className=\"sliderattribs\" onMouseOver={this.onMouseOver} data-tip=\"sliderattribs\">\n                        <span className=\"probe-prod-span\">Probe Production</span>\n                        <div className=\"sliderHeader\">{sliderText}</div>\n                        <div className=\"sliderContainer\">\n                            {Sliders.getSlider(this.userSettings.sliderInfo, this.sliderChange)}\n                        </div>\n                    </div>\n            } else if (this.userSettings.sliderInfo.rangeSettings.rangeCt === 2) {\n\n                sliderattribs =\n                    <div className=\"sliderattribs\" onMouseOver={this.onMouseOver} data-tip=\"sliderattribs\">\n                        <span className=\"probe-prod-span\">Probe Production</span>\n                        <div className=\"sliderHeader\">{sliderText}</div>\n                        <div className=\"sliderContainer\">\n                            {Sliders.getSlider(this.userSettings.sliderInfo, this.sliderChange)}\n                        </div>\n                        <div className=\"sliderHeader\">Distribute Funds</div>\n                        <div className=\"sliderContainer\">\n                            {Sliders.getRange(this.userSettings.sliderInfo, this.rangeChange)}\n                        </div>\n                    </div>\n                probeattribs =\n                    <div className=\"probe-attribs\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs\">\n                        <div className=\"probe-attrib speed-header\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-speed\">Speed</div>\n                        <div className=\"probe-attrib quality-header\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-quality\">Quality</div>\n                        <div></div>\n                        <div className=\"probe-attrib probe-speed\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-speed\">{this.userSettings.sliderInfo.probePcts[0]}%</div>\n                        <div className=\"probe-attrib probe-quality\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-quality\">{this.userSettings.sliderInfo.probePcts[1]}%</div>\n                        <div></div>\n                    </div>\n            } else {  // rangeCt === 3\n\n                sliderattribs =\n                    <div className=\"sliderattribs\" onMouseOver={this.onMouseOver} data-tip=\"sliderattribs\">\n                        <span className=\"probe-prod-span\">Probe Production</span>\n                        <div className=\"sliderHeader\">{sliderText}</div>\n                        <div className=\"sliderContainer\">\n                            {Sliders.getSlider(this.userSettings.sliderInfo, this.sliderChange)}\n                        </div>\n                        <div className=\"sliderHeader\">Distribute Funds</div>\n                        <div className=\"sliderContainer\">\n                            {Sliders.getRange(this.userSettings.sliderInfo, this.rangeChange)}\n                        </div>\n                    </div>\n                probeattribs =\n                    <div className=\"probe-attribs\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs\">\n                        <div className=\"probe-attrib speed-header\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-speed\">Speed</div>\n                        <div className=\"probe-attrib quality-header\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-quality\">Quality</div>\n                        <div className=\"probe-attrib combat-header\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-combat\">Combat</div>\n                        <div className=\"probe-attrib probe-speed\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-speed\">{this.userSettings.sliderInfo.probePcts[0]}%</div>\n                        <div className=\"probe-attrib probe-quality\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-quality\">{this.userSettings.sliderInfo.probePcts[1]}%</div>\n                        <div className=\"probe-attrib probe-combat\" onMouseOver={this.onMouseOver} data-tip=\"probe-attribs-combat\">{this.userSettings.sliderInfo.probePcts[2]}%</div>\n                    </div>\n            }\n        } else {\n            offlinetext = <div id=\"probe-offline\" onMouseOver={this.onMouseOver} data-tip=\"probe-offline\">[ OFFLINE ]</div>;\n        }\n\n\n        // space view\n        if (this.userSettings.featureEnabled[1000]) {\n            return (\n                <TabPanel className=\"react-tabs__tab-panel probe-tab-panel\">\n\n                    <div id=\"right-sidebar\">\n                        {offlinetext}\n                        {sliderattribs}\n                        {probeattribs}\n                        {probebutton}\n                        {currentProbe}\n                        <ToolTip\n                            tipText={this.state.tipText}\n                            userSettings={this.userSettings}\n                            onMouseOver={this.onMouseOver}\n                        />\n                    </div>\n\n                    <Space\n                        probe={this.userSettings.probe}\n                        timeMultiplier={this.timeMultiplier}\n                        onMouseOver={this.onMouseOver}\n                    />\n\n                </TabPanel>\n            )\n        } else {\n            return (<div></div>);\n        }\n    }\n\n    toggleOverlay(event) {\n        mylog(\"event:\", event);\n        mylog(\"toggleOverlay target is:\", event.target.checked);\n        this.userSettings.toggles.overlays = event.target.checked;\n    }\n\n    getSettingsTab() {\n        return (\n            <TabPanel className=\"react-tabs__tab-panel settings-tab-panel\">\n                <div id=\"right-sidebar\">\n                    SETTINGS\n\n                    <ToolTip\n                        tipText={this.state.tipText}\n                        userSettings={this.userSettings}\n                        onMouseOver={this.onMouseOver}\n                    />\n                </div>\n\n                <Settings\n                    toggles={this.userSettings.toggles}\n                    toggleOverlay={this.toggleOverlay}\n                />\n\n            </TabPanel>\n        )\n    }\n\n    getLogTab() {\n        return (\n            <TabPanel className=\"react-tabs__tab-panel log-tab-panel\">\n                <div id=\"right-sidebar\">\n                    LOGS\n\n                    <ToolTip\n                        tipText={this.state.tipText}\n                        userSettings={this.userSettings}\n                        onMouseOver={this.onMouseOver}\n                    />\n                </div>\n\n                <Logs\n\n                />\n\n            </TabPanel>\n        )\n    }\n\n    getPrestigeTab() {\n        if (this.userSettings.prestige.num.gt(0) || this.userSettings.prestigeNext.gt(0))\n            return (\n                <TabPanel className=\"react-tabs__tab-panel prestige-tab-panel\">\n                    <div id=\"right-sidebar\">\n                        PRESTIGE\n\n                        <ToolTip\n                            tipText={this.state.tipText}\n                            userSettings={this.userSettings}\n                            onMouseOver={this.onMouseOver}\n                        />\n                    </div>\n\n                    <Prestige\n\n                    />\n                </TabPanel>\n            )\n    }\n\n    onMouseOver(e) {\n        if (e.target && e.target.dataset) {\n            // mylog(\"target found\");\n            // mylog(\"e:\",e);\n            // mylog(\"related target:\",e.relatedTarget);\n            if (e.target.dataset.tip) {\n                mylog(\"target tip:\", e.target.dataset.tip);\n                let newText = String(e.target.dataset.tip);\n                this.setState((state, props) => ({\n                    tipText: newText,\n                }));\n            }\n        } else if (e.relatedTarget && e.relatedTarget.dataset) {\n            if (e.relatedTarget.dataset.tip) {\n                mylog(\"related target tip:\", e.relatedTarget.dataset.tip);\n                let newText = String(e.relatedTarget.dataset.tip);\n                this.setState((state, props) => ({\n                    tipText: newText,\n                }));\n            }\n            // } else if (this.state.tipText) {\n            //     mylog(\"blanking tipText\");\n            //     this.setState((state, props) => ({\n            //         tipText: \"\",\n            //     }));\n        }\n    }\n\n    openHelpModal() {\n        // this.pause();\n        this.setState((state, props) => ({ helpModalIsOpen: true }));\n    }\n    closeHelpModal() {\n        mylog(\"close Help modal\");\n        // this.resume();\n        this.setState((state, props) => ({ helpModalIsOpen: false }));\n    }\n    afterOpenHelpModal() {\n        // references are now sync'd and can be accessed.\n        // this.subtitle.style.color = '#f00';\n    }\n    nextModal() {\n        const modalPop = this.modalTexts.shift();\n            this.modalTitle = modalPop.title;\n            this.modalText = modalPop.text;\n            this.openHelpModal();\n    }\n\n    updateGame() {\n\n        if (this.modalTexts.length>0 && !this.state.helpModalIsOpen) {\n            this.nextModal();\n        }\n\n        const now = Date.now();\n        const dt = now - this.lastLoop;\n        this.lastLoop = now;\n        this.timeMultiplier = dt / 1000;\n        this.fpsPct = Math.floor((100 / dt) * 100);\n        // mylog(\"dt:\",dt,\"this.fpsPct:\",this.fpsPct);\n\n        this.incrementBusinessCounters();\n        this.updateProbe();\n        this.incrementAnnouncementCounters();\n        this.decrementSavedGameObj();\n        this.updateConcentrate();\n\n        const payoutMoneyThisTick = Business.getAllPayouts(this.state.businesses, this.userSettings);\n        this.userSettings.lifetimeEarnings = this.userSettings.lifetimeEarnings.plus(payoutMoneyThisTick);\n        // mylog(\"payoutMoneyThisTick:\",payoutMoneyThisTick.toFixed());\n\n        // const payoutKnowledgeThisTick = ComputeFunc.totalPayout(this.state.probes, this.userSettings.prestige);\n        const payoutKnowledgeThisTick = new Decimal(0);\n\n        /* reveal businesses if money reached */\n        this.state.businesses.forEach(item => {\n            let b = this.userSettings.busStats[item.id];\n            if (!b.revealed) {\n                if (item.costType === \"money\" && item.initialVisible.lte(this.userSettings.money)) {\n                    b.revealed = true;\n                    mylog(\"revealed business\", item.name);\n                };\n                if (item.costType === \"knowledge\" && item.initialVisible.lte(this.userSettings.knowledge)) {\n                    b.revealed = true;\n                    mylog(\"revealed business\", item.name);\n                };\n            }\n        })\n        /* reveal upgrades if resource reached */\n        this.state.upgrades.forEach(item => {\n            let u = this.userSettings.upgStats[item.id];\n            if (!u.revealed) {\n                if (item.watchType === \"money\" && item.watchValue.lte(this.userSettings.money)) {\n                    u.revealed = true;\n                    mylog(\"revealed upgrade\", item.name);\n                };\n                if (item.watchType === \"knowledge\" && item.watchValue.lte(this.userSettings.knowledge)) {\n                    u.revealed = true;\n                    mylog(\"revealed upgrade\", item.name);\n                };\n                if (item.watchType === \"businessOwned\" && this.userSettings.busStats[item.watchTarget].owned >= item.watchValue) {\n                    u.revealed = true;\n                    mylog(\"revealed upgrade\", item.name);\n                }\n            }\n        });\n\n        this.userSettings.money = this.userSettings.money.plus(payoutMoneyThisTick);\n        if (this.userSettings.money.gt(this.userSettings.curMaxMoney)) {\n            this.userSettings.curMaxMoney = this.userSettings.money;\n        }\n        this.userSettings.knowledge = this.userSettings.knowledge.plus(payoutKnowledgeThisTick);\n\n        this.setTitle();\n    }\n\n    render() {\n        const { isLoaded } = this.state;\n        if (!isLoaded) return <div id=\"wrapper\"></div>\n\n        let debugButtons;\n        if (HelperConst.DEBUG) {\n            debugButtons =\n                <div className=\"debugButtons\">\n                    <button className={this.state.pauseClass} onClick={this.pause}>Pause</button>\n                    <button className={\"sidebarButtons fancyButtons  pause-button \"} onClick={this.resume}>Resume</button>\n                    <button className=\"sidebarButtons fancyButtons  reset-button\" onClick={this.resetAll}>RESET</button>\n                    <button\n                        className=\"sidebarButtons fancyButtons  prestige-button\"\n                        disabled={this.userSettings.prestigeNext.gt(0) ? false : true}\n                        onClick={this.prestige}>Prestige</button>\n                    <button className=\"sidebarButtons fancyButtons  test-give-prestige\"\n                        onClick={this.prestigeCheat}>+{this.cheatPrestigeVal} prestige</button>\n                    <button className=\"sidebarButtons fancyButtons  test-give-money\"\n                        onClick={this.moneyCheat}>+50% money</button>\n                    <button className=\"sidebarButtons fancyButtons  announce-button\" onClick={() => this.announce(HelperConst.thumbsUpSymbol + \" great job winning!  oh boy this is just super.\")}>Announce</button>\n                    {/* <button className=\"sidebarButtons fancyButtons  overlay-button\" onClick={() => this.addOverlay(0, \"X2\")}>Mental Math Overlay</button> */}\n                    {/* <button className=\"sidebarButtons fancyButtons  overlay-button\" onClick={() => this.addOverlay(1, \"X2\")}>Newspaper Overlay</button> */}\n                    {/* <button className=\"sidebarButtons fancyButtons  ref-button\" onClick={() => mylog(\"domRef:\", this.state.businesses[0].domRef)}>Odd Job domRef</button> */}\n                    {/* <button className=\"sidebarButtons fancyButtons  ref-button\" onClick={() => mylog(\"domRef2:\", this.state.businesses[1].domRef)}>Newspaper domRef</button> */}\n                    {/* <button className=\"sidebarButtons fancyButtons  ref-button\" onClick={() => mylog(\"getRect:\", Business.getPosition(this.state.businesses[0].domRef))}>getRect</button>  */}\n\n                    <button className=\"sidebarButtons fancyButtons  save-button\" onClick={this.saveGame}>SAVE</button>\n                    <button className=\"sidebarButtons fancyButtons  save-button\" onClick={this.loadGame}>LOAD</button>\n                    {/* <h3>Zoom Index: {this.zoomLevel}</h3><br /> */}\n                    {/* <h3>RangeCt: {this.userSettings.sliderInfo.rangeSettings.rangeCt}</h3> */}\n\n                    <button onClick={this.openHelpModal}>Open Modal</button>\n\n\n\n                </div>\n        }\n\n\n        return (\n            <div id=\"wrapper\">\n                <div id=\"header\">\n\n                    <Income\n                        knowledge={this.userSettings.knowledge}\n                        businesses={this.state.businesses}\n                        concentrate={this.state.concentrate}\n                        userSettings={this.userSettings}\n                        onMouseOver={this.onMouseOver}\n                    />\n\n                </div>\n\n                <Tabs\n                    className=\"react-tabs-container\"\n                    selectedIndex={this.tabIndex}\n                    onSelect={idx => this.changeTabs(idx)}>\n\n                    {this.getTabList()}\n\n                    <TabPanel className=\"react-tabs__tab-panel main-tab-panel\">\n\n                        <div id=\"left-sidebar\">\n\n                            <Upgrades\n                                upgrades={this.state.upgrades}\n                                businesses={this.state.businesses}\n                                userSettings={this.userSettings}\n                                onClick={this.clickUpgrade}\n                                enableFeature={this.enableFeature}\n                                onMouseOver={this.onMouseOver}\n                            />\n\n                        </div>\n                        <div id=\"right-sidebar\">\n\n\n                            <div className=\"purchaseAmts\" onMouseOver={this.onMouseOver} data-tip=\"purchaseAmts\">\n\n                                <div className=\"buy-wrapper\" onMouseOver={this.onMouseOver} data-tip=\"purchaseAmts\">\n                                    <span className=\"buyx-prefix\">Buy {HelperConst.multiplySymbol}</span>\n                                    <Dropdown\n                                        options={HelperConst.purchaseOpts}\n                                        onChange={this.purchaseAmtDropDownHandler}\n                                        value={this.purchaseAmt}\n                                        placeholder=\"Select an option\"\n                                        onMouseOver={this.onMouseOver} />\n                                </div>\n                            </div>\n\n                            <div id=\"concentrate-container\" onMouseOver={this.onMouseOver} data-tip=\"concentrate-container\">\n                                <button\n                                    id=\"concentrateButton\"\n                                    className={this.state.concentrateClass}\n                                    onClick={this.clickConcentrate}\n                                    disabled={this.state.concentrate.time === 0 ? false : true}\n                                >{this.state.concentrateClass === \"concCooldown\"\n                                    ? \"Wait: \" + Math.abs(Math.floor(this.state.concentrate.time))\n                                    : this.state.concentrateClass === \"concActive\"\n                                        ? HelperConst.concentrateSymbol + \" : \" + Math.abs(Math.ceil(this.state.concentrate.time))\n                                        : \"Concentrate \" + this.userSettings.concentrate.mult + \"x Speed\"}\n                                </button>\n                            </div>\n\n                            {debugButtons}\n\n                            <ToolTip\n                                tipText={this.state.tipText}\n                                userSettings={this.userSettings}\n                                onMouseOver={this.onMouseOver}\n                            />\n\n                        </div>\n\n                        <div id=\"content\">\n                            <div className=\"container\">\n\n                                <Business\n                                    businesses={this.state.businesses}\n                                    concentrate={this.state.concentrate}\n                                    userSettings={this.userSettings}\n                                    purchaseAmt={this.purchaseAmt}\n                                    onClick={this.clickBusiness}\n                                    domRefs={this.domRefs}\n                                    onMouseOver={this.onMouseOver}\n                                />\n\n\n                            </div>\n\n                        </div>\n\n                    </TabPanel>\n\n                    {this.getSpaceTab()}\n\n                    <TabPanel className=\"react-tabs__tab-panel spacer-tab-panel\"></TabPanel>\n\n                    {this.getPrestigeTab()}\n                    {this.getLogTab()}\n                    {this.getSettingsTab()}\n\n                </Tabs>\n\n                <div id=\"footer\">\n\n                    <div id=\"version\">v. 0.0.1</div>\n                    <div id=\"fps\">fps:{this.fpsPct}%</div>\n                    {this.gameSavedObj.content}\n\n                </div>\n\n                <div id=\"announcements\">\n                    <Announce\n                        announcements={this.state.announcements}\n                        onClick={this.clickAnnouncement}\n                    />\n                </div>\n\n                <MyModal\n                    isOpen={this.state.helpModalIsOpen}\n                    onRequestClose={this.closeHelpModal}\n                    onRequestNext={this.nextModal}\n                    title={this.modalTitle}\n                    text={this.modalText}\n                    remaining={this.modalTexts.length}\n                />\n\n            </div>\n\n        )\n    }\n\n\n\n\n}\n\n// =====================================================\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Neumann from './Neumann';\n\n\n// =====================================================\n\n\n// =====================================================\n\nReactDOM.render(<Neumann />, document.getElementById(\"root\"));\n\n"],"sourceRoot":""}