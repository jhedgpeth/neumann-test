{"version":3,"sources":["HelperConst.js","Space.js","ComputeFunc.js","Income.js","Business.js","Probe.js","objInit/BusinessInit.js","objInit/UpgradeInit.js","objInit/NeumannInit.js","Upgrades.js","Announce.js","Sliders.js","Neumann.js","index.js"],"names":["Decimal","require","numberformat","HelperConst","react_default","a","createElement","className","this","moneySymbol","knowledgeSymbol","prestigeSymbol","multiplySymbol","DEBUG","console","log","apply","arguments","num","myFormatterNum","format","toLowerCase","myFormatterInt","backend","sigfigs","maxSmall","myNumFormat","Formatter","myNumCfg","myIntFormat","myIntCfg","thumbsUpSymbol","purchaseOpts","purchaseOptsNum","filter","item","match","purchaseOptsSpecial","busBuyMilestones","spaceZoomLevels","spaceZoomLevelNames","mylog","DebugLog","Space","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","centerCanvas","x","y","pulseRadius","innerRadius","outerRadius","moonLocation","zoomLevel","planetRadius","zoomDuration","zoomShown","pulseColor","pulseColorCt","starClass","outerEllipseRef","setAttrs","radiusX","radiusY","innerEllipseRef","pulsePause","outerEllipseMoving","innerEllipseMoving","resetProbeZoom","pulseFactor","probe","distance","div","mapDistance","xRadius","times","floor","toNumber","yRadius","_this2","pulseRef","probeRadius","eq","calcProbePulseRadius","timeMultiplier","Math","sin","toFixed","centerPlanetRef","to","duration","radius","onFinish","probeOuterZoomFinished","probeInnerZoomFinished","_this3","rows","push","ReactKonva","key","id","stroke","fill","ref","node","dash","fillRadialGradientStartPoint","fillRadialGradientStartRadius","fillRadialGradientEndPoint","fillRadialGradientEndRadius","fillRadialGradientColorStops","Fragment","points","strokeWidth","processSpaceMap","generateSpaceRender","probeDivRef","width","height","hitGraphEnabled","text","showInt","fontSize","fontFamily","align","zoomName","React","Component","ComputeFunc","value","pct","numType","owned","max","maxPoss","maxCheck","retIdx","forEach","milestone","idx","num100s","hardcodeMax","length","fromIdx","toIdx","milestones","c","getTotalMilestone","fromCt","toCt","from25s","to25s","from100s","to100s","retArr","n","resource","timeAdj","timeCounter","busStat","prestige","buyNum","nextOwned","num25s","mult25","mult100","prestigeMultiplier","val","plus","incomeBase","pow","payoutAdj","computeNextPayoutValueMoney","incomeType","computePayoutValueMoney","computePayoutValueKnowledge","items","userSettings","revenue","computeEarningPerSec","busStats","payout","getPayoutMoney","getPayoutKnowledge","getPayout","timeInterval","totalRevenue","sqrt","maxEarnings","minus","purchaseAmt","maxbuys","maxBuy","numBuy","parseInt","cost","costBase","costCoef","itemStat","maxUpg","availMaxUpgrade","maxOcd","primes","primeFactors","primeTime","myMaxPrime","Max","Max OCD","Max Upg","PrimeTime","primesFwd","time","i","j","store","timeEnd","d","numLevels","dist","gt","name","baseE9","dFloor","Income","computeTotalEarningPerSec","businesses","learning","moneySymbolSpan","showNum","money","knowledgeSymbolSpan","knowledge","data-text","prestigeSymbolSpan","prestigeNext","getDistPerSec","Business","domRefs","findIndex","domRef","bus","overlays","map","o","ovClass","curLeft","getDomRef","current","offsetLeft","curTop","offsetTop","counter","expire","topChg","leftChg","ovType","react_motion","defaultStyle","top","left","opacity","style","spring","yTarget","xTarget","stiffness","damping","sources","reduce","result","revealed","totalEarningPerSec","b","myCost","getCost","nextPayout","buyPctStyle","buyPct","earnPctStyle","earnPct","buttonClass","costClass","buttonDisabled","gte","myEarningPerSec","curPayout","myPayout","myEarningPct","getEarningPct","overlayItems","genOverlays","onClick","disabled","multiplySymbolSpan","mult","update","upgradeMult","$set","milestoneIdx","timeBase","reactRef","ReactDOM","findDOMNode","getBoundingClientRect","overlayCt","Probe","pSpeed","pQuality","pCombat","speed","quality","combat","number","losses","goFarther","getDistPerTick","NeumannInit","freshState","desc","costType","initialVisible","upgrades","watchType","watchValue","costValue","rewardType","rewardTarget","rewardValue","announcements","version","lifetimeEarnings","lifetimeLearning","curMaxMoney","curTotalClicks","buyMilestone","0","1","2","3","4","5","6","7","8","9","upgStats","purchased","Upgrades","u","buyClass","bgClass","costSymbol","bgAnim","rsc_esm","permanentTrackY","Announce","index","annClass","ack","createSliderWithTooltip","Slider","MyRange","Range","MySlider","Sliders","probeSpendPct","rangeCt","distribRange","handleStyle","backgroundColor","border","trackStyle","railStyle","sliderCallback","min","marks","sliderMarks","step","onChange","defaultValue","dotStyle","activeDotStyle","allowCross","tipFormatter","tipProps","placement","rangeCallback","count","rangeSettings","pushable","25","50","75","100","Neumann","state","objectSpread","announceCt","gameIntervalId","prestigeIntervalId","gameSaveIntervalId","tabIndex","sliderInfo","getRangeValues","probePcts","populateBusDomRefs","populateDomRefs","bind","assertThisInitialized","restart","resetAll","pause","resume","saveGame","updatePrestigeEarned","updateGame","clickBusiness","clickUpgrade","clickAnnouncement","purchaseAmtDropDownHandler","announce","probeTestNextZoom","sliderChange","rangeChange","purchaseProbe","prestigeCheat","cheatPrestigeVal","document","title","clearInterval","createRef","setState","pulseMoving","setInterval","saveString","lzStringCompress","JSON","stringify","localStorage","setItem","Date","now","newPrestigeNext","calcPrestigeEarnedFromMax","newPrestige","amt","updatePurchaseAmt","indexOf","changed","newBusinesses","newItem","activeOverlays","conv","convertDistanceToSpace","_this4","newAnnouncements","fadeout","newAnn","_this5","busCost","bonusArr","ownedMilestones","getOwnedMilestonesAttained","busMult","genOverlayObj","genOverlayArr","concat","curIdx","getTotalMilestoneIdx","newLowest","keys","Number","MAX_SAFE_INTEGER","newIdx","getAdjustedTimeBase","getTotalMilestonesAttained","upg","addOverlay","atest","defineProperty","_this6","today","getHours","getMinutes","getSeconds","getMilliseconds","toConsumableArray","createTime","undefined","xAdj","random","yAdj","origOverlay","slice","busIdx","_this7","getSpaceZoomLevelIdx","reportRangePcts","pSpeedPct","pQualityPct","pCombatPct","pCost","getPct","pcts","_this8","incrementBusinessCounters","incrementProbeDistance","incrementAnnouncementCounters","payoutMoneyThisTick","totalPayout","payoutKnowledgeThisTick","lte","setTitle","probeattribs","debugButtons","_this9","Income_Income","esm","selectedIndex","onSelect","changeTabs","Upgrades_Upgrades","dist_default","options","placeholder","Business_Business","getSlider","getRange","Space_Space","Announce_Announce","render","Neumann_Neumann","getElementById"],"mappings":"+dAGMA,EAAUC,EAAQ,IAClBC,EAAeD,EAAQ,KAKRE,iHAgBU,OAAQC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeC,KAAKC,2DACxC,OAAQL,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAmBC,KAAKE,8DACjD,OAAQN,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkBC,KAAKG,6DAC/C,OAAQP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkBC,KAAKI,mDA2BrET,EAAYU,OACZC,QAAQC,IAAIC,MAAMF,QAASG,2CAIpBC,GAEX,OAAOf,EAAYgB,iBAAiBC,OAAOF,GAAKG,8CAGrCH,GACX,OAAOf,EAAYmB,iBAAiBF,OAAOF,GAAKG,iDAIhD,MAAQ,CACJE,QAAS,aACTC,QAAS,EACTC,SAAU,IACVL,OAAQ,cACRpB,QAASA,sCAKb,MAAQ,CACJuB,QAAS,aACTC,QAAS,EACTC,SAAU,EACVL,OAAQ,cACRpB,QAASA,4CAQb,OAHKQ,KAAKkB,cACNlB,KAAKkB,YAAc,IAAIxB,EAAayB,UAAUxB,EAAYyB,aAEvDpB,KAAKkB,qDAOZ,OAHKlB,KAAKqB,cACNrB,KAAKqB,YAAc,IAAI3B,EAAayB,UAAUxB,EAAY2B,aAEvDtB,KAAKqB,qBA3FC1B,EACVU,OAAQ,EADEV,EAGVM,YAAc,IAHJN,EAKVO,gBAAkB,SALRP,EAOVQ,eAAiB,SAPPR,EAYVS,eAAiB,SAZPT,EAcV4B,eAAiB,eAdP5B,EAqBV6B,aAAe,CAAC,IAAK,KAAM,KAAM,MAAO,MAAO,UAAW,UAAW,aArB3D7B,EAsBV8B,gBAtBU9B,EAsBa6B,aAAaE,OAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAM,QAtBpDjC,EAuBVkC,oBAvBUlC,EAuBiB6B,aAAaE,OAAO,SAAAC,GAAI,OAAKA,EAAKC,MAAM,QAvBzDjC,EA0BVmC,iBAAmB,CAAC,GAAI,GAAI,IA1BlBnC,EA6BVoC,gBAAkB,CACrB,IAAIvC,EAAQ,UACZ,IAAIA,EAAQ,aACZ,IAAIA,EAAQ,UACZ,IAAIA,EAAQ,WACZ,IAAIA,EAAQ,WAlCCG,EAqCVqC,oBAAsB,CACzB,8BACA,eACA,YACA,kBACA,+BC5CR,IAAMC,EAAQtC,EAAYuC,SAELC,cACjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAtC,KAAAmC,IACfE,EAAAC,OAAAE,EAAA,EAAAF,CAAAtC,KAAAsC,OAAAG,EAAA,EAAAH,CAAAH,GAAAO,KAAA1C,KAAMoC,KAEDO,aAAe,CAChBC,EAAG,IACHC,EAAG,KAEPR,EAAKS,YAAc,CACfF,EAAG,EACHC,EAAG,GAEPR,EAAKU,YAAc,CACfH,EAAG,IACHC,EAAG,KAEPR,EAAKW,YAAc,CACfJ,EAAwB,EAArBP,EAAKU,YAAYH,EACpBC,EAAwB,EAArBR,EAAKU,YAAYF,GAExBR,EAAKY,aAAe,CAChBL,EAAGP,EAAKM,aAAaC,EAAI,IACzBC,EAAGR,EAAKM,aAAaE,EAAI,KAGA,IAAzBR,EAAKD,MAAMc,UACXb,EAAKc,aAAe,GACY,IAAzBd,EAAKD,MAAMc,UAClBb,EAAKc,aAAe,EAEpBd,EAAKc,aAAe,EAGxBd,EAAKe,aAAe,IACpBf,EAAKgB,UAAYhB,EAAKD,MAAMc,UAE5Bb,EAAKiB,WAAa,OAClBjB,EAAKkB,aAAe,EAEpBlB,EAAKmB,UAAY,kBAtCFnB,gFA6CfrC,KAAKyD,gBAAgBC,SAAS,CAC1BC,QAAW3D,KAAKgD,YAAYJ,EAC5BgB,QAAW5D,KAAKgD,YAAYH,IAEhC7C,KAAK6D,gBAAgBH,SAAS,CAC1BC,QAAW3D,KAAK+C,YAAYH,EAC5BgB,QAAW5D,KAAK+C,YAAYF,IAEhC7C,KAAKmD,aAAe,EACpBnD,KAAK8D,YAAa,EAClB9D,KAAKwD,UAAY,mEAGjBxD,KAAK+D,oBAAqB,GACzB/D,KAAKgE,oBAAsBhE,KAAKiE,kEAIjCjE,KAAKgE,oBAAqB,GACzBhE,KAAK+D,oBAAsB/D,KAAKiE,gEAIjC,IAAMC,EAAclE,KAAKoC,MAAM+B,MAAMC,SAChCC,IAAIrE,KAAKoC,MAAMkC,aAEhBC,EAAUL,EACTM,MAAMxE,KAAK+C,YAAYH,GACvB6B,QAEAC,WACDH,EAAWvE,KAAKmD,aAAe,IAAIoB,EAAUvE,KAAKmD,aAAe,GAErE,IAAIwB,EAAUT,EACTM,MAAMxE,KAAK+C,YAAYF,GACvB4B,QAEAC,WAGL,OAFIC,EAAW3E,KAAKmD,aAAe,IAAIwB,EAAU3E,KAAKmD,aAAe,GAE9D,CAAEP,EAAG2B,EAAS1B,EAAG8B,6CAIV,IAAAC,EAAA5E,KAGd,GAAIA,KAAK6E,SAAU,CACf,IAAMC,EACF9E,KAAKoC,MAAM+B,MAAMC,SAASW,GAAG,IACzB/E,KAAKoC,MAAMc,YAAclD,KAAKqD,WAC/BrD,KAAK+D,oBACL/D,KAAKgE,mBACN,CAAEpB,EAAG,EAAGC,EAAG,GACX7C,KAAKgF,uBACXhF,KAAK6E,SAASnB,SAAS,CACnBC,QAAWmB,EAAYlC,EACvBgB,QAAWkB,EAAYjC,IAI/B7C,KAAKuD,aAAgBvD,KAAKuD,aAAevD,KAAKoC,MAAM6C,eAEpDjF,KAAKsD,WAAa,kBAAqB4B,KAAKC,IAAInF,KAAKuD,cAAgB,GAAK,EAAK,IAAK6B,QAAQ,GAAK,IAG5FpF,KAAKoC,MAAMc,UAAYlD,KAAKqD,WAC7BrD,KAAKiE,iBAIJjE,KAAKoC,MAAMc,UAAYlD,KAAKqD,WAC1BrD,KAAKyD,iBACLzD,KAAK6D,kBACJ7D,KAAK+D,qBACL/D,KAAKgE,qBACT/B,EAAM,aAAcjC,KAAKqD,WACzBrD,KAAKwD,UAAY,iBACjBxD,KAAKqD,WAAa,EACdrD,KAAKoC,MAAMc,UAAY,IACvBjB,EAAM,oBACNjC,KAAKqF,gBAAgBC,GAAG,CACpBC,SAAUvF,KAAKoD,aACfoC,OAAQ,KAGXxF,KAAK+D,qBACN9B,EAAM,sBACNjC,KAAK+D,oBAAqB,EAC1B/D,KAAKyD,gBAAgB6B,GAAG,CACpBC,SAAUvF,KAAKoD,aACfO,QAAS3D,KAAK+C,YAAYH,EAC1BgB,QAAS5D,KAAK+C,YAAYF,EAC1B4C,SAAU,WACNb,EAAKc,4BAGb1F,KAAKgE,oBAAqB,EAC1BhE,KAAK6D,gBAAgByB,GAAG,CACpBC,SAAUvF,KAAKoD,aACfO,QAAS,EACTC,QAAS,EACT6B,SAAU,WACNb,EAAKe,4EAOH,IAAAC,EAAA5F,KACd6F,EAAO,GAwEX,OAvEAA,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,QAAD,CACIC,IAAI,QACJC,GAAG,QACHrD,EAAG5C,KAAK2C,aAAaC,EACrBC,EAAG7C,KAAK2C,aAAaE,EACrBc,QAAS3D,KAAK8C,YAAYF,EAC1BgB,QAAS5D,KAAK8C,YAAYD,EAC1BqD,OAAQlG,KAAKsD,WACb6C,KAAK,qBACLC,IAAK,SAAAC,GACDT,EAAKf,SAAWwB,MAI5BR,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,QAAD,CACIC,IAAI,eACJC,GAAG,eACHrD,EAAG5C,KAAK2C,aAAaC,EACrBC,EAAG7C,KAAK2C,aAAaE,EACrBc,QAAS3D,KAAK+C,YAAYH,EAC1BgB,QAAS5D,KAAK+C,YAAYF,EAC1BqD,OAAO,OACPI,KAAM,CAAC,EAAG,GACVF,IAAK,SAAAC,GACDT,EAAK/B,gBAAkBwC,MAInCR,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,QAAD,CACIC,IAAI,eACJC,GAAG,eACHrD,EAAG5C,KAAK2C,aAAaC,EACrBC,EAAG7C,KAAK2C,aAAaE,EACrBc,QAAS3D,KAAKgD,YAAYJ,EAC1BgB,QAAS5D,KAAKgD,YAAYH,EAC1BqD,OAAO,OACPI,KAAM,CAAC,EAAG,GACVF,IAAK,SAAAC,GACDT,EAAKnC,gBAAkB4C,MAMN,IAAzBrG,KAAKoC,MAAMc,WACX2C,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,OAAD,CACIC,IAAI,OACJC,GAAG,OACHrD,EAAG5C,KAAKiD,aAAaL,EACrBC,EAAG7C,KAAKiD,aAAaJ,EACrB2C,OAAQ,EACRe,6BAA8B,CAC1B3D,GAAI,EACJC,GAAI,GAER2D,8BAA+B,EAC/BC,2BAA4B,CACxB7D,GAAI,EACJC,GAAI,GAER6D,4BAA6B,EAC7BC,6BAA8B,CAAC,GAAK,OAAQ,GAAK,OAAQ,EAAG,WAMhE3G,KAAKoC,MAAMc,WACf,KAAK,EAED2C,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,OAAD,CACIC,IAAI,eACJC,GAAG,eACHrD,EAAG5C,KAAK2C,aAAaC,EACrBC,EAAG7C,KAAK2C,aAAaE,EACrB2C,OAAQ,GAERe,6BAA8B,CAC1B3D,GAAI,GACJC,GAAI,IAER2D,8BAA+B,EAC/BC,2BAA4B,CACxB7D,GAAI,GACJC,GAAI,IAER6D,4BAA6B,GAC7BC,6BAA8B,CAAC,GAAK,UAAW,GAAK,UAAW,EAAG,QAClEP,IAAK,SAAAC,GACDT,EAAKP,gBAAkBgB,MAInC,MACJ,IAAK,OAEDR,EAAKC,KACDlG,EAAAC,EAAAC,cAACiG,EAAA,OAAD,CACIC,IAAI,eACJC,GAAG,eACHrD,EAAG5C,KAAK2C,aAAaC,EACrBC,EAAG7C,KAAK2C,aAAaE,EACrB2C,OAAQ,EACRW,KAAK,UACLC,IAAK,SAAAC,GACDT,EAAKP,gBAAkBgB,MAInC,MACJ,QAEIR,EAAKC,KACDlG,EAAAC,EAAAC,cAACF,EAAAC,EAAM+G,SAAP,CAAgBZ,IAAI,qBAahBpG,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIC,IAAI,aACJa,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAI,EAAG5C,KAAK2C,aAAaE,EAAG7C,KAAK2C,aAAaC,EAAI,EAAG5C,KAAK2C,aAAaE,GAClGqD,OAAO,OACPY,YAAa,IAEjBlH,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIC,IAAI,aACJa,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAG5C,KAAK2C,aAAaE,EAAI,EAAG7C,KAAK2C,aAAaC,EAAG5C,KAAK2C,aAAaE,EAAI,GAClGqD,OAAO,OACPY,YAAa,MAOjC,OAAOjB,mCAKP7F,KAAK+G,kBACL,IAAMlB,EAAO7F,KAAKgH,sBAElB,OACIpH,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,eAAeG,IAAKpG,KAAKiH,aAC7BrH,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAKwD,YACrB5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAKwD,YACrB5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAKwD,YACrB5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAKwD,YACrB5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAKwD,YAErB5D,EAAAC,EAAAC,cAACiG,EAAA,MAAD,CAAOmB,MAAO,IAAKC,OAAQ,IAAKpH,UAAU,iBAEtCH,EAAAC,EAAAC,cAACiG,EAAA,MAAD,CAAOqB,iBAAiB,GACnBvB,GAELjG,EAAAC,EAAAC,cAACiG,EAAA,MAAD,CAAOhG,UAAU,eAAeqH,iBAAiB,GAE7CxH,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIc,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAAI7C,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,IACvLqD,OAAO,OACPY,YAAa,IAEjBlH,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIc,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAAI7C,KAAK2C,aAAaC,EAAI,GAAI5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,IACvKqD,OAAO,OACPY,YAAa,IAEjBlH,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACInD,EAAG5C,KAAK2C,aAAaC,EAAI,GACzBC,EAAG7C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAC9CqE,MAAO,IACPG,KAAM,IAAMrH,KAAKoC,MAAMc,UAAY,KAAOvD,EAAY2H,QAAQtH,KAAKoC,MAAMkC,aAAe,MACxFiD,SAAU,GACVC,WAAY,YACZC,MAAM,SACNtB,KAAK,YAETvG,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACInD,EAAG5C,KAAK2C,aAAaC,EAAI,GACzBC,EAAG7C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAC9CqE,MAAO,IACPG,KAAMrH,KAAKoC,MAAMsF,SACjBH,SAAU,GACVC,WAAY,YACZC,MAAM,SACNtB,KAAK,YAETvG,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIc,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAI,GAAI5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAAI7C,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,IACvKqD,OAAO,OACPY,YAAa,IAEjBlH,EAAAC,EAAAC,cAACiG,EAAA,KAAD,CACIc,OAAQ,CAAC7G,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,GAAI7C,KAAK2C,aAAaC,EAAI5C,KAAK+C,YAAYH,EAAG5C,KAAK2C,aAAaE,EAAI7C,KAAK+C,YAAYF,EAAI,IACvLqD,OAAO,OACPY,YAAa,cA/WNa,IAAMC,WCNnCpI,EAAUC,EAAQ,IAClBwC,EAAQtC,EAAYuC,SAEL2F,sGAEHC,EAAOC,GACjB,IAAMC,SAAkBF,EAGxB,OAAIA,aAAiBtI,EACVsI,EAAMtD,MAAMuD,EAAM,KAAKtD,QACX,WAAZuD,EACA9C,KAAKT,MAAMqD,GAASC,EAAM,WAD9B,0CAKYE,EAAOC,GAC1B,IAAMC,EAAUF,EAAQC,EACxB,GAAIC,GAAW,IAAK,CAChB,IAAMC,EAAuC,IAA5BlD,KAAKT,MAAM0D,EAAU,KACtC,OAAQC,GAAYH,EAASG,EAAW,IAAMA,EAC3C,OAAID,GAAW,GACVF,GAAS,GAAM,IAAM,GACtBE,GAAW,GACVF,GAAS,GAAM,GAAK,GAEpBA,GAAS,GAAM,GAAK,gDAIRvH,GAExB,IAAI2H,GAAU,EACd1I,EAAYmC,iBAAiBwG,QAAQ,SAACC,EAAWC,GAEzC9H,GAAO6H,IAAaF,EAASG,KAErC,IAAMC,EAAUvD,KAAKT,MAAM/D,EAAM,KACjC,OAAQ2H,EAASI,4CAGID,GACrB,IAAME,EAAc/I,EAAYmC,iBAAiB6G,OAAS,EAC1D,OAAIH,GAAOE,EAAsB/I,EAAYmC,iBAAiB0G,GAEtD,KADMA,EAAME,sDAIUE,EAASC,GAEvC,IADA,IAAIC,EAAa,GACRC,EAAIH,EAAU,EAAGG,GAAKF,EAAOE,IAClCD,EAAWhD,KAAK,CAAC9F,KAAKgJ,kBAAkBD,KAE5C,OAAOD,qDAGuBG,EAAQC,GACtC,IAAMC,EAAUjE,KAAKT,MAAMwE,EAAS,IAAM,EAAI,EAAI/D,KAAKT,MAAMwE,EAAS,IAChEG,EAAQlE,KAAKT,MAAMyE,EAAO,IAAM,EAAI,EAAIhE,KAAKT,MAAMyE,EAAO,IAC1DG,EAAWnE,KAAKT,MAAMwE,EAAS,KAC/BK,EAASpE,KAAKT,MAAMyE,EAAO,KAC7BK,EAAS,GACb,GAAIJ,EAAUC,EACV,IAAK,IAAII,EAAIL,EAAU,EAAGK,GAAKJ,EAAOI,IAClCD,EAAOzD,KAAS,GAAJ0D,GAGpB,GAAIH,EAAWC,EACX,IAAK,IAAIE,EAAIH,EAAW,EAAGG,GAAKF,EAAQE,IACpCD,EAAOzD,KAAS,IAAJ0D,GAGpB,OAAOD,iCAGG7I,EAAK+I,GACf,IAAM1B,EAAM0B,EAASpF,IAAI3D,GAAK8D,MAAM,KAAKE,WACzC,OAAOqD,EAAM,IAAM,IAAMA,kCAGdpG,EAAM+H,GACjB,OAAIA,EAAU,IAAQA,EAAU/H,EAAKgI,YAAe,GACzC,IAEHhI,EAAKgI,YAAcD,EAAW,wDAGP/H,EAAMiI,EAASC,EAAUC,GACxD,IAAMC,EAAYH,EAAQ3B,MAAQ6B,EAC5BE,EAAS9E,KAAKT,MAAMsF,EAAY,IAEhCE,EAASD,EAAS,EAAI,EAAIA,EAC1BE,EAAUhF,KAAKT,MAAMsF,EAAY,KACjCI,EAAqBN,EAASnJ,IAAI8D,MAAMqF,EAASO,KAAK/F,IAAI,KAAKgG,KAAK,GAS1E,OARc,IAAI7K,EACdmC,EAAK2I,WACA9F,MAAMuF,GACNvF,MAAMU,KAAKqF,IAAI,EAAGN,IAClBzF,MAAMU,KAAKqF,IAAI,EAAGL,IAClB1F,MAAMoF,EAAQY,WACdhG,MAAM2F,oDAKYxI,EAAMiI,EAASC,GAC1C,OAAO7J,KAAKyK,4BAA4B9I,EAAMiI,EAASC,EAAU,uDAIlClI,EAAMiI,EAASC,GAC9C,OAAOlI,EAAK2I,WACP9F,MAAMoF,EAAQ3B,OACdzD,MAAMoF,EAAQY,wDAGK7I,EAAMiI,EAASC,GACvC,MAAwB,UAApBlI,EAAK+I,WACE1K,KAAK2K,wBAAwBhJ,EAAMiI,EAASC,GAAUxF,IAAIuF,EAAQF,SAElE1J,KAAK4K,4BAA4BjJ,EAAMiI,EAASC,GAAUxF,IAAIuF,EAAQF,2DAIpDmB,EAAOC,GAAc,IAAAzI,EAAArC,KAC9C+K,EAAU,IAAIvL,EAAQ,GAI1B,OAHAqL,EAAMvC,QAAQ,SAAC3G,GACXoJ,EAAUA,EAAQV,KAAKhI,EAAK2I,qBAAqBrJ,EAAMmJ,EAAaG,SAAStJ,EAAKsE,IAAK6E,EAAajB,aAEjGkB,yCAGWpJ,EAAMiI,EAASC,GACjC,OAAKlI,EAAKuJ,OACHlL,KAAK2K,wBAAwBhJ,EAAMiI,EAASC,GADxB,IAAIrK,EAAQ,8CAIjBmC,EAAMiI,EAASC,GACrC,OAAO7J,KAAK4K,4BAA4BjJ,EAAMiI,EAASC,qCAG1ClI,EAAMiI,EAASC,GAC5B,MAA2B,UAApBlI,EAAK+I,WACN1K,KAAKmL,eAAexJ,EAAMiI,EAASC,GACnC7J,KAAKoL,mBAAmBzJ,EAAMiI,EAASC,uCAG9BgB,EAAOI,EAAUpB,GAChC,IAAIkB,EAAU,IAAIvL,EAAQ,GAK1B,OAHAqL,EAAMvC,QAAQ,SAAC3G,GACXoJ,EAAUA,EAAQV,KAAKxC,EAAYwD,UAAU1J,EAAMsJ,EAAStJ,EAAKsE,IAAK4D,MAEnEkB,4CAGcA,EAASO,GAC9B,OAAOP,EAAQvG,MAAM8G,EAAe,2CAGnBP,EAASQ,GAC1B,OAAOR,EAAQ1G,IAAIkH,GAAc/G,MAAM,KAAKY,QAAQ,8CAG9B2F,GACtB,OAAOvL,EAAQgM,KAAKT,EAAQ1G,IAAIa,KAAKqF,IAAI,GAAI,KAAK/F,MAAM,KAAKC,0DAGhCgH,GAC7B,OAAOA,EAAYpH,IAAIa,KAAKqF,IAAI,GAAI,KAAK/F,MAAM,GAAG6F,KAAK,GAAGmB,OAAOE,MAAM,GAAGrH,IAAI,mCAGnE1C,EAAMiI,EAAS+B,EAAalC,GAEvC,IAAMmC,EAAU5L,KAAK6L,OAAOlK,EAAMiI,EAASH,GAEvCqC,EAAS,EAEb,OAAQH,GACJ,IAAK,MACL,IAAK,UACL,IAAK,UACL,IAAK,YACDG,EAASF,EAAQD,GACjB,MACJ,QACIG,EAASH,EAIjB,MAAO,CACHjL,IAAKqL,SAASD,EAAQ,IACtBE,KAAMrK,EAAKsK,SAASzH,MAChBU,KAAKqF,IAAI5I,EAAKuK,SAAUtC,EAAQ3B,QAAU/C,KAAKqF,IAAI5I,EAAKuK,SAAUJ,GAAU,IAC9EzH,IAAI1C,EAAKuK,SAAW,mCAIhBvK,EAAMwK,EAAU1C,GAE1B,IAAMvB,EAAM6D,SAAS,IAAIvM,EACrBiK,EACKjF,MAAM7C,EAAKuK,SAAW,GACtB7H,IACG1C,EAAKsK,SAASzH,MACVU,KAAKqF,IAAI5I,EAAKuK,SAAUC,EAASlE,UAE/CoC,KAAK,GAAG9J,IAAIoB,EAAKuK,UAAUzH,QAAS,IAEhC2H,EAASpM,KAAKqM,gBAAgBF,EAASlE,MAAOC,GAAOiE,EAASlE,MAEhEqE,EAAoD,GAA1CpH,KAAKT,OAAOyD,EAAMiE,EAASlE,OAAS,IAC5CkE,EAASlE,MACfqE,EAASA,EAAS,EAAIA,EAAS,GAAMH,EAASlE,MAAQ,GAGtD,IAAMsE,EAASvM,KAAKwM,eAChBC,EAAY,EAGVC,EAAaP,EAASlE,MAAQC,EACpC,IAAK,IAAMM,KAAO+D,EACd,KAAIA,EAAO/D,IAAQ2D,EAASlE,SACxBsE,EAAO/D,IAAQkE,IAAYD,EAAYF,EAAO/D,IAC9C+D,EAAO/D,GAAOkE,GAAY,CACR,IAAdD,IAAiBA,EAAYF,EAAO/D,IACxC,MAMR,MAAQ,CACJmE,IAAKzE,EAAM,EAAIA,EAAM,EACrB0E,UAAWN,EACXO,UAAWT,EACXU,UAPJL,GAAaN,EAASlE,yCAWTvH,GACb,IAAM6L,EAASvM,KAAKwM,eACpB,IAAK,IAAMhE,KAAO+D,EACd,GAAIA,EAAO/D,GAAO9H,EACd,OAAO6L,EAAO/D,0CAMtB,GAAIxI,KAAKuM,OACL,OAAOvM,KAAKuM,OAEhB,IACIQ,EAAY,GAChB9K,EAAM,mBACN3B,QAAQ0M,KAAK,kBACb,IAAgBC,EAAGC,EAAfC,EAAQ,GACZ,IAAKF,EAAI,EAAGA,GALF,OAKcA,EACpB,IAAKE,EAAMF,GAEP,IADAF,EAAUjH,KAAKmH,GACVC,EAAID,GAAK,EAAGC,GARf,KAQyBA,GAAKD,EAC5BE,EAAMD,IAAK,EAQvB,OAHAlN,KAAKuM,OAASQ,EACdzM,QAAQ8M,QAAQ,kBAChBnL,EAAM,kBAAoBjC,KAAKuM,OAAO5D,QAC/B3I,KAAKuM,sDAGcc,GAE1B,IADA,IAAMC,EAAY3N,EAAYoC,gBAAgB4G,OACrCa,EAAI,EAAGA,EAAI8D,EAAW9D,IAAK,CAChC,IAAM+D,EAAO5N,EAAYoC,gBAAgByH,GACzC,GAAI+D,EAAKC,GAAGH,GAAI,MAAO,CAAE7E,IAAKgB,EAAG+D,KAAMA,EAAME,KAAM9N,EAAYqC,oBAAoBwH,IAEvF,IAAMkE,EAAS/N,EAAYoC,gBAAgBuL,EAAY,GAAG/M,IAAI,OAAOkE,QAAQC,WACvEiJ,EAASN,EAAE9M,IAAI,OAAOkE,QAAQC,WAKpC,MAAO,CAAE8D,IAAK8E,GAJDK,EAASD,GAIUH,KAAM,IAAI/N,EAAQ,OAAO+K,IAAIoD,EAAS,GAAIF,KAAM,yBC1RlFjO,UAAUC,EAAQ,KAEHmO,mLAIb,IAAM7C,EAAUlD,EAAYgG,0BAA0B7N,KAAKoC,MAAM0L,WAAY9N,KAAKoC,MAAM0I,cAElFiD,EAAW,IAAIvO,EAAQ,GAE7B,OACII,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAf,UAGAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACVJ,EAAYqO,kBAAmBrO,EAAYsO,QAAQjO,KAAKoC,MAAM0I,aAAaoD,QAEhFtO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAf,MACQJ,EAAYqO,kBAAmBrO,EAAYsO,QAAQlD,GAD3D,OAKAnL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAf,cAGAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACVJ,EAAYwO,sBAAuBxO,EAAYsO,QAAQjO,KAAKoC,MAAM0I,aAAasD,YAEpFxO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAf,MACQJ,EAAYwO,sBAAuBxO,EAAYsO,QAAQF,GAD/D,QAMJnO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAf,OACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OAAOsO,YAAU,WAA/B,WACAzO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAIvBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAf,aAGAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACVJ,EAAY2O,qBAAsB3O,EAAY2H,QAAQtH,KAAKoC,MAAM0I,aAAajB,SAASnJ,MAE5Fd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAf,MACQJ,EAAY2O,qBAAsB3O,EAAY2H,QAAQtH,KAAKoC,MAAM0I,aAAayD,cADtF,KAIA3O,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,aAGAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACVJ,EAAYsO,QAAQjO,KAAKoC,MAAM0I,aAAa3G,MAAMC,UADvD,OAGAxE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACVJ,EAAYsO,QAAQjO,KAAKoC,MAAM0I,aAAa3G,MAAMqK,iBADvD,kBA9DgB7G,IAAMC,mBCGrB6G,oLAuBPhB,GACN,IAAMjF,EAAMxI,KAAKoC,MAAMsM,QAAQC,UAAU,SAAAvI,GAAG,OAAIA,EAAIqH,OAASA,IAC7D,KAAIjF,EAAM,GAEV,OADYxI,KAAKoC,MAAMsM,QAAQlG,GAAKoG,2CAI5BC,GAAK,IAAAxM,EAAArC,KAEb,OACI6O,EAAIC,SAASC,IAAI,SAACC,EAAGxG,GAEjB,IAAIyG,EAJI,gBAQJC,EAHYnD,SAAS1J,EAAK8M,UAAUN,EAAIpB,MAAM2B,QAAQC,WAAY,IAG9C,GACpBC,EAHWvD,SAAS1J,EAAK8M,UAAUN,EAAIpB,MAAM2B,QAAQG,UAAW,IAG9C,GAClBP,EAAEQ,QAAUR,EAAES,SACdR,GAAW,YAEf,IAAIS,EAAS,EACTC,EAAU,EACd,OAAQX,EAAEY,QACN,IAAK,aACDD,EAAU,IACV,MACJ,QACID,GAAU,GAGlB,OACI9P,EAAAC,EAAAC,cAAC+P,EAAA,OAAD,CAAQ7J,IAAK,gBAAkBgJ,EAAE/I,GAC7B6J,aAAc,CACVC,IAAKT,EACLU,KAAMd,EACNe,QAAS,GAEbC,MAAO,CACHH,IAAKI,iBAAOb,EAASI,EAASV,EAAEoB,SAChCJ,KAAMG,iBAAOjB,EAAUS,EAAUX,EAAEqB,SACnCJ,QAASE,iBAAO,EAAG,CAAEG,UAAW,GAAIC,QAAS,OAIhD,SAAAL,GAAK,OACFtQ,EAAAC,EAAAC,cAAA,OACIkG,IAAK,gBAAkBgJ,EAAE/I,GACzBlG,UAAWkP,EAAU,yBACrBiB,MAAO,CACHH,IAAKG,EAAMH,IACXC,KAAME,EAAMF,KACZC,QAASC,EAAMD,UACdjB,EAAE3H,2CAa1B,IAAAzC,EAAA5E,KACCwQ,EAAUxQ,KAAKoC,MAAM0L,WAAW2C,OAAO,SAACC,EAAQ/O,GAIlD,OAHIiD,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAAI0K,UAC1CD,EAAO5K,KAAKnE,GAET+O,GACR,IAEGE,EAAqB/I,EAAYgG,0BAA0B7N,KAAKoC,MAAM0L,WAAY9N,KAAKoC,MAAM0I,cAG7FjF,EAAO2K,EAAQzB,IAAI,SAACpN,GACtB,IAAMkP,EAAIjM,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAC1CuD,EAAI7H,EAAK8L,KACTqD,EAASjJ,EAAYkJ,QAAQpP,EAAMiD,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAAKrB,EAAKxC,MAAMuJ,YAAa/G,EAAKxC,MAAM0I,aAAaoD,OAE9H8C,EAAanJ,EAAY4C,4BAA4B9I,EAAMiD,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAAKrB,EAAKxC,MAAM0I,aAAajB,SAAUiH,EAAOpQ,KAG/IuQ,EAAc,CAAE/J,MADPW,EAAYqJ,OAAOJ,EAAO9E,KAAMpH,EAAKxC,MAAM0I,aAAaoD,OACjC,KAEhCiD,EAAe,CAAEjK,MADPW,EAAYuJ,QAAQzP,EAAMkP,EAAEnH,SACJ,KAGpC2H,EAAc,GACdC,EAAY,GACZC,GAAiB,EACjB3M,EAAKxC,MAAM0I,aAAaoD,MAAMsD,IAAIV,EAAO9E,OACzCqF,EAAc,0BACdC,EAAY,4BAEZD,EAAc,6BACdE,GAAiB,EACjBD,EAAY,8BAGhB,IAAMG,EAAkB5J,EAAYmD,qBAAqBrJ,EAAMiD,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAAIrB,EAAKxC,MAAM0I,aAAajB,UAC7H6H,EAAY7J,EAAY8C,wBAAwBhJ,EAAMiD,EAAKxC,MAAM0I,aAAaG,SAAStJ,EAAKsE,IAAKrB,EAAKxC,MAAM0I,aAAajB,UACvH8H,EAAWD,EAAUlE,GAAG,GAAKkE,EAAYV,EACzCY,EAAe/J,EAAYgK,cAAcJ,EAAiBb,GAI1DkB,EAAelN,EAAKmN,YAAYpQ,GAGtC,OACI/B,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,WAAYzJ,UAAW,kBAAuBqG,IAAKxB,EAAKuK,UAAU3F,IAC5E5J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACV+R,GAELlS,EAAAC,EAAAC,cAAA,OAAKC,UAAW,gCACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAW,mCAAwCmQ,MAAOe,GAC3DrR,EAAAC,EAAAC,cAAA,eAGRF,EAAAC,EAAAC,cAAA,OAAKC,UAAW,iCACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAW,oCAAyCmQ,MAAOiB,GAC5DvR,EAAAC,EAAAC,cAAA,eAGRF,EAAAC,EAAAC,cAAA,UACIkG,IAAKwD,EAAI,SACTzJ,UAAWsR,EAxCT,SAyCFW,QAAS,kBAAMpN,EAAKxC,MAAM4P,QAAQrQ,IAClCsQ,SAAUV,GACV3R,EAAAC,EAAAC,cAAA,QACIC,UAAU,eAAe+Q,EAAOpQ,IAAKf,EAAYuS,sBANzD,IAOa1I,GAEb5J,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,QAASzJ,UAAU,kBAAkBJ,EAAY2H,QAAQuJ,EAAE5I,QAEzErI,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,eAAgBzJ,UAAWuR,GACrC1R,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,aAAczJ,UAAU,uBAAuBJ,EAAYqO,kBAAmBrO,EAAYsO,QAAQ6C,EAAO9E,QAG3HpM,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,kBAAmBzJ,UAAU,mBACvCH,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,gBAAiBzJ,UAAU,0BAAzC,IAAoEJ,EAAYqO,kBAAmBrO,EAAYsO,QAAQ0D,KAG3H/R,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,sBAAuBzJ,UAAU,uBAC3CH,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,cAAezJ,UAAU,eAAe6R,EAAtD,SAOhB,OACIhS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACV8F,6CA/KUgJ,EAAKsD,GACxB,OAAOC,IAAOvD,EAAK,CACfwD,YAAa,CAAEC,KAAMzD,EAAIwD,YAAcF,iDAIpBtD,EAAK0D,GAC5B,OAAIA,GAAgB,EACT1D,EAAI2D,SAAWtN,KAAKqF,IAAI,EAAGgI,GAE/B1D,EAAI2D,6CAGIC,GACf,OAAOC,IACFC,YAAYF,EAASrD,SACrBwD,+BApByBjL,IAAMC,WAAvB6G,EAEVoE,UAAY,ECVvB,IAAMrT,EAAUC,EAAQ,IAEHqT,aACjB,SAAAA,EAAYhL,EAAOiL,EAAQC,EAAUC,GAAU3Q,OAAAC,EAAA,EAAAD,CAAAtC,KAAA8S,GAC3C9S,KAAK8H,MAAQA,EACb9H,KAAKkT,MAAQH,EACb/S,KAAKmT,QAAUH,EACfhT,KAAKoT,OAASH,EACdjT,KAAKqT,OAAS,IAAI7T,EAAQ,GAC1BQ,KAAKsT,OAAS,IAAI9T,EAAQ,GAC1BQ,KAAKoE,SAAW,IAAI5E,EAAQ,yDAGtBkB,GACNV,KAAKqT,OAASrT,KAAKqT,OAAOhJ,KAAK3J,qCAEzBA,GACNV,KAAKqT,OAASrT,KAAKqT,OAAO3H,MAAMhL,GAChCV,KAAKsT,OAAStT,KAAKsT,OAAOjJ,KAAK3J,qCAEzB6M,GACNvN,KAAKoE,SAAWpE,KAAKoE,SAASiG,KAAKkD,2CAInC,OAAOvN,KAAK8H,MAAMtD,MAAMxE,KAAKkT,8CAGlBjO,GACX,OAAOjF,KAAKwO,gBAAgBhK,MAAMS,kCAG/BA,GACHjF,KAAKuT,UAAUvT,KAAKwT,eAAevO,aCnCrCzF,EAAUC,EAAQ,ICAxB,IAAMD,EAAUC,EAAQ,ICIxB,IAAMD,EAAUC,EAAQ,IAEHgU,wIAAoB9L,IAAMC,WAA1B6L,EAEVC,WAAa,iBAAO,CACvB5F,WFLI,CACJ,CACI7H,GAAI,EACJwH,KAAM,cACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,GACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,QACtB0M,SAAU,KACVsG,SAAU,EACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,GAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,kBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,IACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,KACtB0M,SAAU,KACVsG,SAAU,EACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,IAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,mBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,KACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,EACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,OAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,sBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,MACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,EACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,OAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,iBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,MACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,OACtB0M,SAAU,KACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,QAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,cACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,KACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,OAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,yBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,KACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,IACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,OAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,oBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,KACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,OAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,sBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,KACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,KAC5BsP,SAAU,IACX,CACC7I,GAAI,EACJwH,KAAM,sBACNkG,KAAM,QACN1L,MAAO,EACPyC,WAAY,QACZJ,WAAY,IAAI9K,EAAQ,MACxBoU,SAAU,QACV3H,SAAU,IAAIzM,EAAQ,MACtB0M,SAAU,KACVsG,SAAU,GACV7I,YAAa,EACbuB,QAAQ,EACR2I,eAAgB,IAAIrU,EAAQ,KAC5BsP,SAAU,KEhJdgF,SDNI,CACJ,CACI7N,GAAI,EACJwH,KAAM,YACNsG,UAAW,QACXC,WAAY,IAAIxU,EAAQ,KACxBoU,SAAU,QACVK,UAAW,IAAIzU,EAAQ,KACvB0U,WAAY,cACZC,aAAc,EACdC,YAAa,IACd,CACCnO,GAAI,EACJwH,KAAM,eACNsG,UAAW,YACXC,WAAY,IAAIxU,EAAQ,GACxBoU,SAAU,YACVK,UAAW,IAAIzU,EAAQ,IACvB0U,WAAY,cACZC,aAAc,EACdC,YAAa,KCbjBC,cAAe,GACfC,QAAS,UANIb,EASV3I,aAAe,iBAAO,CACzBoD,MAAO,IAAI1O,EAAQ,GACnB4O,UAAW,IAAI5O,EAAQ,GACvB2E,MAAO,IAAI2O,EAAM,IAAItT,EAAQ,GAAI,EAAG,EAAG,GACvCqK,SAAU,CAAEnJ,IAAK,IAAIlB,EAAQ,GAAI4K,IAAK,GACtCmE,aAAc,IAAI/O,EAAQ,GAC1B+U,iBAAkB,IAAI/U,EAAQ,GAC9BgV,iBAAkB,IAAIhV,EAAQ,GAC9BiV,YAAa,IAAIjV,EAAQ,GACzBkV,eAAgB,EAChBC,aAAc,EACd1J,SAAU,CACN2J,EAAG,CAAC3M,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtDqK,EAAG,CAAC5M,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtDsK,EAAG,CAAC7M,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtDuK,EAAG,CAAC9M,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtDwK,EAAG,CAAC/M,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtDyK,EAAG,CAAChN,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtD0K,EAAG,CAACjN,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtD2K,EAAG,CAAClN,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtD4K,EAAG,CAACnN,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,GACtD6K,EAAG,CAACpN,MAAO,EAAG0I,UAAU,EAAOjH,QAAS,EAAGc,UAAW,IAE1D8K,SAAU,CACNV,EAAG,CAACW,WAAW,EAAO5E,UAAU,GAChCkE,EAAG,CAACU,WAAW,EAAO5E,UAAU,mBCpCtC1O,EAAQtC,EAAYuC,SAELsT,8LAGbvT,EAAM,oEAINA,EAAM,yDAGD,IAAAI,EAAArC,KAWC6F,EAVU7F,KAAKoC,MAAM0R,SAASrD,OAAO,SAACC,EAAQ/O,GAChD,IAAM8T,EAAIpT,EAAKD,MAAM0I,aAAawK,SAAS3T,EAAKsE,IAKhD,OAHKwP,EAAEF,WAAaE,EAAE9E,UAClBD,EAAO5K,KAAKnE,GAET+O,GACR,IAGkB3B,IAAI,SAAApN,GACrB,IAAM8T,EAAIpT,EAAKD,MAAM0I,aAAawK,SAAS3T,EAAKsE,IAChD,GAAIwP,EAAEF,YAAcE,EAAE9E,SAAY,MAAO,GAEzC,IAAInH,EAAI7H,EAAK8L,KACTiI,EAAW,GACXnE,GAAiB,EAEjBL,EAAS,EACTyE,EAAU,GAEQ,UAAlBhU,EAAKiS,WACL+B,EAAU,SACVzE,EAASrJ,EAAYqJ,OAAOvP,EAAKsS,UAAW5R,EAAKD,MAAM0I,aAAaoD,OAEhE7L,EAAKD,MAAM0I,aAAaoD,MAAMsD,IAAI7P,EAAKsS,YACvCyB,GAAY,aACZnE,GAAiB,GAEjBmE,GAAY,iBAGE,cAAlB/T,EAAKiS,WACL+B,EAAU,aACVzE,EAASrJ,EAAYqJ,OAAOvP,EAAKsS,UAAW5R,EAAKD,MAAM0I,aAAasD,WAEhE/L,EAAKD,MAAM0I,aAAasD,UAAUoD,IAAI7P,EAAKsS,YAC3CyB,GAAY,aACZnE,GAAiB,GAEjBmE,GAAY,iBAGpB,IAAIE,EAAa,GACjB,OAAQjU,EAAKiS,UACT,IAAK,YACDgC,EAAajW,EAAYwO,sBACzB,MACJ,QACIyH,EAAajW,EAAYqO,kBAIjC,IAAI6H,EAAS3E,EAAO,IAAM,WAAa,GACjCD,EAAc,CAAE/J,MAAOgK,EAAS,KAEtC,OACItR,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,UAAWzJ,UAAW,WAAW4V,GAC3C/V,EAAAC,EAAAC,cAAA,OAAKC,UAAW,wBAA0B4V,GACtC/V,EAAAC,EAAAC,cAAA,OAAKC,UAAW,4BAA8B4V,EAAUE,EAAQ3F,MAAOe,GACnErR,EAAAC,EAAAC,cAAA,eAGRF,EAAAC,EAAAC,cAAA,UACIkG,IAAKwD,EAAI,SACTzJ,UAAW,eAAiB2V,EAAWC,EACvC3D,QAAS,kBAAM3P,EAAKD,MAAM4P,QAAQrQ,IAClCsQ,SAAUV,GACT/H,GAEL5J,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,iBAAkBzJ,UAAU,kBACrCsC,EAAKD,MAAM0L,WAAWnM,EAAKwS,cAAc1G,KAD9C,KACsD9L,EAAKyS,aAE3DxU,EAAAC,EAAAC,cAAA,OAAKkG,IAAKwD,EAAI,uBAAwBzJ,UAAW,wBAA0B2V,EAAUC,GAChFC,EAAYjW,EAAYsO,QAAQtM,EAAKsS,eAOtD,OACQrU,EAAAC,EAAAC,cAACgW,EAAA,EAAD,CAAWC,iBAAiB,EAAMhW,UAAU,qBACvC8F,UA9FiB8B,IAAMC,WCEvBoO,2LAER,IAAA3T,EAAArC,KACC6F,EAAO7F,KAAKoC,MAAMiS,cAActF,IAAI,SAACpN,EAAMsU,GAC7C,IAAMC,EAAYvU,EAAKwU,IAAO,mBAAqB,GACnD,OACIvW,EAAAC,EAAAC,cAAA,OACIC,UAAW,gBAAkBmW,EAC7BlQ,IAAKrE,EAAKsE,GACV+L,QAAS,kBAAM3P,EAAKD,MAAM4P,QAAQrQ,KAClC/B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBAAiB4B,EAAK0F,SAKlD,OACIzH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACV8F,UAjBqB8B,IAAMC,oBCPtCwO,EAA0BC,IAAOD,wBACjCE,EAAUF,EAAwBC,IAAOE,OACzCC,EAAWJ,EAAwBC,KAEpBI,8GAUKjN,GAClB,OAAU,IAANA,EACQ,CACJkN,cAAe,IACfC,QAAS,EACTC,aAAc,CAAC,EAAG,GAAI,KACtBC,YAAa,CACT,CAAEC,gBAAiB,OAAQC,OAAQ,IAAK5P,OAAQ,MAAOD,MAAO,OAC9D,CAAE4P,gBAAiB,OAAQC,OAAQ,KACnC,CAAED,gBAAiB,OAAQC,OAAQ,IAAK5P,OAAQ,MAAOD,MAAO,QAElE8P,WAAY,CACR,CAAEF,gBAAiB,QACnB,CAAEA,gBAAiB,SAEvBG,UAAW,CAAEH,gBAAiB,SAGrB,IAANtN,EACC,CACJkN,cAAe,IACfC,QAAS,EACTC,aAAc,CAAC,EAAG,GAAI,GAAI,KAC1BC,YAAa,CACT,CAAEC,gBAAiB,OAAQC,OAAQ,IAAK5P,OAAQ,MAAOD,MAAO,OAC9D,CAAE4P,gBAAiB,OAAQC,OAAQ,KACnC,CAAED,gBAAiB,OAAQC,OAAQ,KACnC,CAAED,gBAAiB,MAAOC,OAAQ,IAAK5P,OAAQ,MAAOD,MAAO,QAEjE8P,WAAY,CACR,CAAEF,gBAAiB,QACnB,CAAEA,gBAAiB,QACnB,CAAEA,gBAAiB,QAEvBG,UAAW,CAAEH,gBAAiB,aAhB/B,oCAqBM1U,EAAO8U,GACpB,OACItX,EAAAC,EAAAC,cAAC0W,EAAD,CAEIW,IAAK,EACLjP,IAAK,IACLJ,MAAO1F,EAAMsU,cACbU,MAAOpX,KAAKqX,YACZC,KAAM,EACNC,SAAUL,EACVM,aAAc,EACdR,WAAY,CACR,CAAEF,gBAAiB,WACnB,CAAEA,gBAAiB,SAEvBD,YAAa,CAET,CAAEC,gBAAiB,UAAWC,OAAQ,KACtC,CAAED,gBAAiB,OAAQC,OAAQ,MAEvCU,SAAU,CACNX,gBAAiB,OACjBC,OAAQ,IACR7P,MAAO,OAEXwQ,eAAgB,CACZZ,gBAAiB,UACjBC,OAAQ,IACR7P,MAAO,OAEXyQ,YAAY,EAEZC,aAAc,SAAA9P,GAAK,OAAIA,EAAQ,KAC/B+P,SAAU,CAAEC,UAAW,6CAKnB1V,EAAO2V,GACnB,OACInY,EAAAC,EAAAC,cAACwW,EAAD,CACI0B,MAAO5V,EAAM6V,cAActB,QAC3BQ,IAAK,EACLjP,IAAK,IACLoP,KAAM,EACNF,MAAOpX,KAAKqX,YACZE,SAAUQ,EACVP,aAAcpV,EAAM6V,cAAcrB,aAClC9O,MAAO1F,EAAM6V,cAAcrB,aAC3BI,WAAY5U,EAAM6V,cAAcjB,WAChCH,YAAazU,EAAM6V,cAAcpB,YACjCI,UAAW7U,EAAM6V,cAAchB,UAC/BQ,SAAU,CACNX,gBAAiB,OACjBC,OAAQ,IACR7P,MAAO,OAEXyQ,YAAY,EACZO,UAAU,EACVN,aAAc,SAAA9P,GAAK,OAAIA,EAAQ,KAC/B+P,SAAU,CAAEC,UAAW,qBA7GlBrB,EAEVY,YAAc,CACjBzC,EAAG,IACHuD,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,IAAK,QCeb,IAAM9Y,EAAUC,EAAQ,IAClBwC,EAAQtC,EAAYuC,SAGLqW,cAEjB,SAAAA,EAAYnW,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAtC,KAAAuY,IACflW,EAAAC,OAAAE,EAAA,EAAAF,CAAAtC,KAAAsC,OAAAG,EAAA,EAAAH,CAAAiW,GAAA7V,KAAA1C,KAAMoC,KAEDoW,MAALlW,OAAAmW,EAAA,EAAAnW,CAAA,GAAkBmR,EAAYC,cAC9BrR,EAAKyI,aAALxI,OAAAmW,EAAA,EAAAnW,CAAA,GAAyBmR,EAAY3I,gBAErCzI,EAAKiJ,aAAe,IACpBjJ,EAAK4C,eAAiB5C,EAAKiJ,aAAe,IAE1CjJ,EAAKqW,WAAa,EAClBrW,EAAKwQ,UAAY,EAEjBxQ,EAAKsW,eAAiB,KACtBtW,EAAKuW,mBAAqB,KAC1BvW,EAAKwW,mBAAqB,KAE1BxW,EAAKqM,QAAU,GACfrM,EAAKsJ,YAAc,IACnBtJ,EAAKyW,SAAW,EAGhBzW,EAAKa,UAAY,EACjBb,EAAKqF,SAAW/H,EAAYqC,oBAAoB,GAChDK,EAAKiC,YAAc3E,EAAYoC,gBAAgB,GAE/CM,EAAK0W,WAAa,CACdd,cAAexB,EAAQuC,eAAe,GACtCC,UAAW,CAAC,GAAI,GAAI,GACpBvC,cAAe,KAInBrU,EAAK6W,mBAAqB7W,EAAK8W,gBAAgBC,KAArB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAC1BA,EAAKiX,QAAUjX,EAAKiX,QAAQF,KAAb9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACfA,EAAKkX,SAAWlX,EAAKkX,SAASH,KAAd9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAChBA,EAAKmX,MAAQnX,EAAKmX,MAAMJ,KAAX9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACbA,EAAKoX,OAASpX,EAAKoX,OAAOL,KAAZ9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACdA,EAAKqX,SAAWrX,EAAKqX,SAASN,KAAd9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAChBA,EAAKwH,SAAWxH,EAAKwH,SAASuP,KAAd9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAChBA,EAAKsX,qBAAuBtX,EAAKsX,qBAAqBP,KAA1B9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAC5BA,EAAKuX,WAAavX,EAAKuX,WAAWR,KAAhB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAClBA,EAAKwX,cAAgBxX,EAAKwX,cAAcT,KAAnB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACrBA,EAAKyX,aAAezX,EAAKyX,aAAaV,KAAlB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACpBA,EAAK0X,kBAAoB1X,EAAK0X,kBAAkBX,KAAvB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACzBA,EAAK2X,2BAA6B3X,EAAK2X,2BAA2BZ,KAAhC9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAClCA,EAAK4X,SAAW5X,EAAK4X,SAASb,KAAd9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAChBA,EAAK6X,kBAAoB7X,EAAK6X,kBAAkBd,KAAvB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACzBA,EAAK8X,aAAe9X,EAAK8X,aAAaf,KAAlB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACpBA,EAAK+X,YAAc/X,EAAK+X,YAAYhB,KAAjB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACnBA,EAAKgY,cAAgBhY,EAAKgY,cAAcjB,KAAnB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IAIrBA,EAAKiY,cAAgBjY,EAAKiY,cAAclB,KAAnB9W,OAAA+W,EAAA,EAAA/W,CAAAD,IACrBA,EAAKkY,iBAAmB,MAtDTlY,0EA2DfmY,SAASC,MAAQ,YACX9a,EAAYsO,QAAQjO,KAAK8K,aAAaoD,OACtC,IAAMlO,KAAKwY,MAAMlE,oDAIvBrS,EAAM,iBACNjC,KAAKuZ,WAELtX,EAAMtC,EAAYkC,qBAClBI,EAAMtC,EAAYoC,gBAAgBgN,IAAI,SAAAvF,GAAC,OAAI7J,EAAY2H,QAAQkC,qDAI/DvH,EAAM,oBACNyY,cAAc1a,KAAK2Y,gBACnB+B,cAAc1a,KAAK4Y,oBACnB8B,cAAc1a,KAAK6Y,4GAQL,IAAAjU,EAAA5E,KACdA,KAAKwY,MAAM1K,WAAWxF,QAAQ,SAACuG,GAC3B5M,EAAM,sBAAuB4M,EAAIpB,MACjC7I,EAAK8J,QAAQ5I,KAAK,CAAE2H,KAAMoB,EAAIpB,KAAMmB,OAAQjH,IAAMgT,gBAEtD3a,KAAKiH,YAAcU,IAAMgT,YACzB3a,KAAK6E,SAAW,KAChB7E,KAAK6D,gBAAkB,KACvB7D,KAAKyD,gBAAkB,KACvBzD,KAAKqF,gBAAkB,KACvBpD,EAAM,qBAAsBjC,KAAK0O,4CAIjC1O,KAAKwZ,QACLxZ,KAAK4a,SAAS,SAACpC,EAAOpW,GAAR,OAAAE,OAAAmW,EAAA,EAAAnW,CAAA,GACPmR,EAAYC,gBAEnB1T,KAAK8K,aAALxI,OAAAmW,EAAA,EAAAnW,CAAA,GAAyBmR,EAAY3I,gBACrC9K,KAAK0Y,WAAa,EAClB1Y,KAAKmZ,kBACLnZ,KAAK+D,oBAAqB,EAC1B/D,KAAK6a,aAAc,EACnB7a,KAAKkD,UAAY,EACjBlD,KAAK0H,SAAW/H,EAAYqC,oBAAoB,GAChDhC,KAAKsE,YAAc3E,EAAYoC,gBAAgB,GAC/C/B,KAAKyZ,2CAILzZ,KAAKwZ,QACLxZ,KAAK4a,SAAS,SAACpC,EAAOpW,GAAR,OAAAE,OAAAmW,EAAA,EAAAnW,CAAA,GACPmR,EAAYC,gBAEnB1T,KAAK8K,aAALxI,OAAAmW,EAAA,EAAAnW,CAAA,GAAyBmR,EAAY3I,gBACrC9K,KAAKmZ,kBACLnZ,KAAKkD,UAAY,EACjBlD,KAAK0H,SAAW/H,EAAYqC,oBAAoB,GAChDhC,KAAKsE,YAAc3E,EAAYoC,gBAAgB,GAC/C/B,KAAKyZ,yCAIDzZ,KAAK2Y,iBACL+B,cAAc1a,KAAK2Y,uBACX3Y,KAAK2Y,gBAEb3Y,KAAK4Y,qBACL8B,cAAc1a,KAAK4Y,2BACX5Y,KAAK4Y,oBAEb5Y,KAAK6Y,qBACL6B,cAAc1a,KAAK6Y,2BACX7Y,KAAK6Y,qDAKZ7Y,KAAK2Y,iBACN3Y,KAAK2Y,eAAiBmC,YAAY9a,KAAK4Z,WAAY5Z,KAAKsL,eAEvDtL,KAAK4Y,qBACN5Y,KAAK4Y,mBAAqBkC,YAAY9a,KAAK2Z,qBAAsB,MAEhE3Z,KAAK6Y,0FAWV,IAAMkC,EAAaC,mBAAiBC,KAAKC,UAAUlb,KAAKwY,QACxDvW,EAAM,qBAAsB8Y,EAAWpS,QACvCwS,aAAaC,QAAQ,yBAA0BC,KAAKC,OACpDH,aAAaC,QAAQ,oBAAqBL,GAM1C/a,KAAKia,SAAS,6DAKd,IAAMsB,EAAkB1T,EAAY2T,0BAA0Bxb,KAAK8K,aAAa2J,aAAa/I,MAAM1L,KAAK8K,aAAajB,SAASnJ,KAC1H6a,EAAgB/N,GAAG,KAAO+N,EAAgBxW,GAAG/E,KAAK8K,aAAayD,eAE/DvO,KAAK4a,SAAS,CACVrM,aAAcgN,uCAStB,GAAIvb,KAAK8K,aAAayD,aAAaf,GAAG,GAAI,CACtCxN,KAAK2Z,uBACL,IAAM8B,EAAczb,KAAK8K,aAAajB,SAASnJ,IAAI2J,KAAKrK,KAAK8K,aAAayD,cAC1EvO,KAAKsZ,UACLtZ,KAAK4a,SAAS,SAACpC,GAAD,MAAY,CACtB3O,SAAU,CAAEnJ,IAAK+a,EAAarR,IAAKoO,EAAM3O,SAASO,4DAKnCsR,GACvB1b,KAAK2b,kBAAkBD,EAAI5T,iDAGb4T,GACdzZ,EAAM,4BAA6ByZ,IACY,IAA3C/b,EAAY6B,aAAaoa,QAAQF,IAAe1b,KAAK2L,cAAgB+P,IACrE1b,KAAK2L,YAAc+P,EACnBzZ,EAAM,mBAAoByZ,4CAQ9BzZ,EAAM,gBAAiBjC,KAAKua,iBAAkB,YAC9Cva,KAAK8K,aAAajB,SAASnJ,IAAMV,KAAK8K,aAAajB,SAASnJ,IAAI2J,KAAKrK,KAAKua,sEAIlD,IAAA3U,EAAA5F,KACpB6b,GAAU,EACRC,EAAgB9b,KAAKwY,MAAM1K,WAAWiB,IAAI,SAAApN,GAC5C,IAAIkP,EAAIjL,EAAKkF,aAAaG,SAAStJ,EAAKsE,IACpC8V,EAAOzZ,OAAAmW,EAAA,EAAAnW,CAAA,GAAQX,GACH,IAAZkP,EAAE5I,MACE4I,EAAEF,UAAiC,IAArBhP,EAAKgI,cACnBoS,EAAQpS,YAAc,EACtBkS,GAAU,EACV5Z,EAAM,aAAcN,EAAK8L,KAAM,mBAAoBsO,EAAQpS,eAG/DoS,EAAQ7Q,QAAS,EACjB6Q,EAAQpS,YAAcoS,EAAQpS,YAAc/D,EAAKX,eAC7C8W,EAAQpS,aAAekH,EAAEnH,UACzBqS,EAAQ7Q,QAAS,EACjB6Q,EAAQpS,YAAc,GAE1BkS,GAAU,GAKd,IAAMG,EAAiBD,EAAQjN,SAASpN,OAAO,SAAAsN,GAAC,OAAIA,EAAEQ,QAAUR,EAAES,SASlE,OANAsM,EAAQjN,SAAWkN,EAAejN,IAAI,SAACC,EAAG/B,GAGtC,OAFA+B,EAAEQ,QAAUR,EAAEQ,QAAU5J,EAAKX,eAEtB+J,IAGJ+M,IAEPF,GACA7b,KAAK4a,SAAS,SAACpC,GAAD,MAAY,CACtB1K,WAAYgO,sDAMpB9b,KAAK8K,aAAa3G,MAAMiO,OAAOpS,KAAKiF,gBAOpC,IAAMgX,EAAOpU,EAAYqU,uBAAuBlc,KAAK8K,aAAa3G,MAAMC,UACxEpE,KAAKsE,YAAc2X,EAAK1O,KACxBvN,KAAKkD,UAAY+Y,EAAKzT,IACtBxI,KAAK0H,SAAWuU,EAAKxO,6DAGO,IAAA0O,EAAAnc,KAQtBoc,EAPQpc,KAAKwY,MAAMnE,cAAc5D,OAAO,SAACC,EAAQ/O,GAInD,QAHKA,EAAKwU,KAAQxU,EAAKwU,KAAOxU,EAAK6N,QAAU7N,EAAK0a,UAC9C3L,EAAO5K,KAAKnE,GAET+O,GACR,IAE4B3B,IAAI,SAAApN,GAC/B,IAAI2a,EAAMha,OAAAmW,EAAA,EAAAnW,CAAA,GAAQX,GAMlB,OALA2a,EAAO9M,SAAW2M,EAAKlX,eACnBqX,EAAO9M,SAAW8M,EAAO7M,SACzB6M,EAAOnG,KAAM,EACbmG,EAAO9M,QAAU,GAEd8M,IAGXtc,KAAK4a,SAAS,SAACpC,GAAD,MAAY,CACtBnE,cAAe+H,2CAKTvN,GAAK,IAAA0N,EAAAvc,KACfiC,EAAM,kBAAmB4M,EAAIpB,MAC7B,IAAM+O,EAAU3U,EAAYkJ,QAAQlC,EAAK7O,KAAK8K,aAAaG,SAAS4D,EAAI5I,IAAKjG,KAAK2L,YAAa3L,KAAK8K,aAAaoD,OACjHlO,KAAK8K,aAAaoD,MAAQlO,KAAK8K,aAAaoD,MAAMxC,MAAM8Q,EAAQxQ,MAChE,IAAI6E,EAAI7Q,KAAK8K,aAAaG,SAAS4D,EAAI5I,IACvC4K,EAAE5I,OAASuU,EAAQ9b,IACnBuB,EAAM4M,EAAIpB,KAAM,eAAgBoD,EAAE5I,OAGlC,IAAI6T,EAAgB9b,KAAKwY,MAAM1K,WAAWiB,IAAI,SAAApN,GAC1CkP,EAAI0L,EAAKzR,aAAaG,SAAStJ,EAAKsE,IACpC,IAAI8V,EAAOzZ,OAAAmW,EAAA,EAAAnW,CAAA,GAAQX,GACnB,GAAIoa,EAAQ9V,KAAO4I,EAAI5I,GAAI,CACvB,IAAIwW,EAAW,GACTC,EAAkB7U,EAAY8U,2BAA2B9L,EAAE5I,MAAO4I,EAAE5I,MAAQuU,EAAQ9b,KACtFkc,EAAU,EACdF,EAAgBpU,QAAQ,SAACC,GACrBqU,GAAW,IAEdA,EAAU,GAAMH,EAAS3W,KAAKyW,EAAKM,cAAc,IAAMD,EAAU,IAAK,eACvEb,EAAQjN,SAAWyN,EAAKO,cAAcnb,EAAKmN,SAAU,IAAM0N,EAAQ9b,KAAKqc,OAAON,GAC/Exa,EAAM,SAAUua,EAAQ9b,IAAK,KAAMqb,EAAQtO,MAG/C,OAAOsO,IAGX/b,KAAK4a,SAAS,SAACpC,EAAOpW,GAAR,MAAmB,CAC7B0L,WAAYgO,KAIhB,IAAMkB,EAASnV,EAAYoV,qBAAqBjd,KAAK8K,aAAa6J,cAC5DuI,EAAY5a,OAAO6a,KAAKnd,KAAK8K,aAAaG,UAAUwF,OAAO,SAAC0G,EAAKtI,GAAN,OAC7D0N,EAAKzR,aAAaG,SAAS4D,GAAK5G,MAAQkP,EAAMoF,EAAKzR,aAAaG,SAAS4D,GAAK5G,MAAQkP,GACtFiG,OAAOC,kBACLC,EAASzV,EAAYoV,qBAAqBC,GAI5CI,EAASN,IACThd,KAAK8K,aAAa6J,aAAe9M,EAAYmB,kBAAkBsU,GAC/Drb,EAAM,uBAAwBjC,KAAK8K,aAAa6J,cAEhD3U,KAAKwY,MAAM1K,WAAWxF,QAAQ,SAAC3G,EAAM6G,GACjC+T,EAAKzR,aAAaG,SAAStJ,EAAKsE,IAAIyD,QAAU+E,EAAS8O,oBAAoB5b,EAAM2b,GACjFrb,EAAMsa,EAAK/D,MAAM1K,WAAWtF,GAAKiF,KAAM,mBAAoB8O,EAAKzR,aAAaG,SAAStJ,EAAKsE,IAAIyD,WAEnG7B,EAAY2V,2BAA2BR,EAAQM,GAAQhV,QAAQ,SAAC5H,GAC5D6b,EAAKtC,SAAS,qBAAuBvZ,EAAM,4DAQ1C+c,GAIT,OAHAxb,EAAM,iBAAkBwb,EAAIhQ,MAC5BzN,KAAK8K,aAAawK,SAASmI,EAAIxX,IAAIsP,WAAY,EAEvCkI,EAAI7J,UACR,IAAK,QACD5T,KAAK8K,aAAaoD,MAAQlO,KAAK8K,aAAaoD,MAAMxC,MAAM+R,EAAIxJ,WAC5D,MACJ,IAAK,YACDjU,KAAK8K,aAAasD,UAAYpO,KAAK8K,aAAasD,UAAU1C,MAAM+R,EAAIxJ,WAM5E,OAAQwJ,EAAIvJ,YACR,IAAK,cACDlU,KAAK8K,aAAaG,SAASwS,EAAItJ,cAAc3J,WAAaiT,EAAIrJ,YAC9DpU,KAAK0d,WAAWD,EAAItJ,aAAc,IAAMsJ,EAAIrJ,aAC5CnS,EAAMjC,KAAKwY,MAAM1K,WAAW2P,EAAItJ,cAAc1G,KAAM,sBAAuBgQ,EAAIrJ,aAC/E,MACJ,QACInS,EAAM,iEAMApC,GACdoC,EAAM,sBAAuBpC,EAAEoG,GAAIpG,EAAEwH,MACrC,IAAMmB,EAAMxI,KAAKwY,MAAMnE,cAAc1F,UAAU,SAAAgP,GAAK,OAAIA,EAAM1X,KAAOpG,EAAEoG,KACvEjG,KAAK4a,SAAS,CACVvG,cAAejC,IAAOpS,KAAKwY,MAAMnE,cAAZ/R,OAAAsb,EAAA,EAAAtb,CAAA,GAChBkG,EAAM,CACH2N,IAAK,CAAE7D,MAAM,GACb9C,QAAS,CAAE8C,KAAM,yCAQxBjL,GAAM,IAAAwW,EAAA7d,KACXiC,EAAM,YAAaoF,GACnB,IAAMyW,EAAQ,IAAIzC,KACZrO,EAAO8Q,EAAMC,WAAa,IAAMD,EAAME,aAAe,IAAMF,EAAMG,aAAe,IAAMH,EAAMI,kBAClGle,KAAK4a,SAAS,SAACpC,GAAD,MAAY,CACtBnE,cAAa,GAAA0I,OAAAza,OAAA6b,EAAA,EAAA7b,CAAMkW,EAAMnE,eAAZ,CAA2B,CACpCpO,GAAI4X,EAAKnF,aACT0F,WAAYpR,EACZ3F,KAAMA,EACNmI,QAAS,EACTC,OAAQ,EACR4M,QAAS,GACTlG,KAAK,8CAKH9O,GAA0B,IAApBuI,EAAoBnP,UAAAkI,OAAA,QAAA0V,IAAA5d,UAAA,GAAAA,UAAA,GAAX,UACnB6d,EAAOpZ,KAAKT,MAAuB,GAAhBS,KAAKqZ,UAAkB,GAC1CC,EAAOtZ,KAAKT,MAAuB,GAAhBS,KAAKqZ,UAAkB,GAChD,MAAO,CACHtY,GAAI,UAAYjG,KAAK6S,YACrBpD,OAAQ,EACRD,QAAS,EACTI,OAAQA,EACRS,QAASiO,EACTlO,QAASoO,EACTnX,KAAMA,yCAIAoX,EAAapX,GAA0B,IAApBuI,EAAoBnP,UAAAkI,OAAA,QAAA0V,IAAA5d,UAAA,GAAAA,UAAA,GAAX,UAEtC,OADAwB,EAAM,qBAAsBoF,GACrB,GAAA0V,OAAAza,OAAA6b,EAAA,EAAA7b,CAAImc,GAAJ,CAAiBze,KAAK6c,cAAcxV,EAAMuI,KAAS8O,OAAO,sCAG1DC,EAAQtX,GAAM,IAAAuX,EAAA5e,KACf6O,EAAM7O,KAAKwY,MAAM1K,WAAW6Q,GAClC1c,EAAM,oBAAqBoF,EAAMwH,EAAIpB,MACrCzN,KAAK4a,SAAS,SAACpC,EAAOpW,GAAR,MAAmB,CAC7B0L,WAAYsE,IAAOoG,EAAM1K,WAAPxL,OAAAsb,EAAA,EAAAtb,CAAA,GACbqc,EAAS,CACN7P,SAAU,CACNwD,KAAMsM,EAAK9B,cAAcjO,EAAIC,SAAUzH,6CAOhDmB,GACPxI,KAAK8Y,SAAWtQ,8CAIhBvG,EAAM,6BAA8B4F,EAAYgX,qBAAqB7e,KAAK8K,aAAa3G,MAAMC,UAAY,wCAMhG0D,GACT7F,EAAM,iBAAkB6F,GACxB9H,KAAK+Y,WAAWrC,cAAgB5O,sCAExBA,GAEsC,IAA1C9H,KAAK+Y,WAAWd,cAActB,QAC9B3W,KAAK+Y,WAAWd,cAAcrB,aAAe,CAAC,EAAG9O,EAAM,GAAI,KACV,IAA1C9H,KAAK+Y,WAAWd,cAActB,UACrC3W,KAAK+Y,WAAWd,cAAcrB,aAAe,CAAC,EAAG9O,EAAM,GAAIA,EAAM,GAAI,MAEzE9H,KAAK+Y,WAAWE,UAAYjZ,KAAK8e,4DAIjC,IAAIC,EAAWC,EAAaC,EAAa,EAUzC,OAT8C,IAA1Cjf,KAAK+Y,WAAWd,cAActB,QAE9BqI,EAAc,KADdD,EAAY7Z,KAAKT,MAAMzE,KAAK+Y,WAAWd,cAAcrB,aAAa,KAGjB,IAA1C5W,KAAK+Y,WAAWd,cAActB,UAGrCsI,EAAa,MAFbF,EAAY7Z,KAAKT,MAAMzE,KAAK+Y,WAAWd,cAAcrB,aAAa,MAClEoI,EAAc9Z,KAAKT,MAAMzE,KAAK+Y,WAAWd,cAAcrB,aAAa,GAAKmI,MAGtE,CAACA,EAAWC,EAAaC,2CAIhC,IAAMC,EAAQrX,EAAYsX,OAAOnf,KAAK8K,aAAaoD,MAAOlO,KAAK+Y,WAAWrC,eACpE0I,EAAOpf,KAAK8e,kBAClB7c,EAAM,cAAeid,EAAMxa,YAC3BzC,EAAM,wBAAyBmd,EAAK,GAAI,YAAaA,EAAK,GAAI,WAAYA,EAAK,IAC/Epf,KAAK8K,aAAa3G,MAAQ,IAAI2O,EAAMoM,EAAOE,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAGlEpf,KAAK+Y,WAAWd,cAAgBxB,EAAQuC,eAAe,GACvDhZ,KAAK+Y,WAAWE,UAAYjZ,KAAK8e,uDAGxB,IAAAO,EAAArf,KACTA,KAAKsf,4BACLtf,KAAKuf,yBACLvf,KAAKwf,gCAEL,IAAMC,EAAsB5X,EAAY6X,YAAY1f,KAAKwY,MAAM1K,WAAY9N,KAAK8K,aAAaG,SAAUjL,KAAK8K,aAAajB,UACzH7J,KAAK8K,aAAayJ,iBAAmBvU,KAAK8K,aAAayJ,iBAAiBlK,KAAKoV,GAI7E,IAAME,EAA0B,IAAIngB,EAAQ,GAG5CQ,KAAKwY,MAAM1K,WAAWxF,QAAQ,SAAA3G,GAC1B,IAAIkP,EAAIwO,EAAKvU,aAAaG,SAAStJ,EAAKsE,IACnC4K,EAAEF,WACmB,UAAlBhP,EAAKiS,UAAwBjS,EAAKkS,eAAe+L,IAAIP,EAAKvU,aAAaoD,SACvE2C,EAAEF,UAAW,EACb1O,EAAM,oBAAqBN,EAAK8L,OAEd,cAAlB9L,EAAKiS,UAA4BjS,EAAKkS,eAAe+L,IAAIP,EAAKvU,aAAasD,aAC3EyC,EAAEF,UAAW,EACb1O,EAAM,oBAAqBN,EAAK8L,UAK5CzN,KAAKwY,MAAM1E,SAASxL,QAAQ,SAAA3G,GACxB,IAAI8T,EAAI4J,EAAKvU,aAAawK,SAAS3T,EAAKsE,IACnCwP,EAAE9E,WACoB,UAAnBhP,EAAKoS,WAAyBpS,EAAKqS,WAAW4L,IAAIP,EAAKvU,aAAaoD,SACpEuH,EAAE9E,UAAW,EACb1O,EAAM,mBAAoBN,EAAK8L,OAEZ,cAAnB9L,EAAKoS,WAA6BpS,EAAKqS,WAAW4L,IAAIP,EAAKvU,aAAasD,aACxEqH,EAAE9E,UAAW,EACb1O,EAAM,mBAAoBN,EAAK8L,UAK3CzN,KAAK8K,aAAaoD,MAAQlO,KAAK8K,aAAaoD,MAAM7D,KAAKoV,GACnDzf,KAAK8K,aAAaoD,MAAMV,GAAGxN,KAAK8K,aAAa2J,eAC7CzU,KAAK8K,aAAa2J,YAAczU,KAAK8K,aAAaoD,OAEtDlO,KAAK8K,aAAasD,UAAYpO,KAAK8K,aAAasD,UAAU/D,KAAKsV,GAE/D3f,KAAK6f,4CAGA,IACDC,EAsBAC,EAvBCC,EAAAhgB,KAuDL,OApDI8f,EAD0C,IAA1C9f,KAAK+Y,WAAWd,cAActB,QAE1B/W,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,SACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BAAf,WACAH,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAA4BC,KAAK+Y,WAAWE,UAAU,GAArE,KACArZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAA8BC,KAAK+Y,WAAWE,UAAU,GAAvE,KACArZ,EAAAC,EAAAC,cAAA,aAIJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,SACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BAAf,WACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAAf,UACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAA4BC,KAAK+Y,WAAWE,UAAU,GAArE,KACArZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAA8BC,KAAK+Y,WAAWE,UAAU,GAAvE,KACArZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAA6BC,KAAK+Y,WAAWE,UAAU,GAAtE,MAIRtZ,EAAYU,QACZ0f,EACIngB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BiS,QAAShS,KAAKwZ,OAA1D,SACA5Z,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BiS,QAAShS,KAAKyZ,QAA1D,UACA7Z,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BiS,QAAShS,KAAKuZ,UAA1D,SACA3Z,EAAAC,EAAAC,cAAA,UACIC,UAAU,6BACVkS,UAAUjS,KAAK8K,aAAayD,aAAaf,GAAG,GAC5CwE,QAAShS,KAAK6J,UAHlB,YAIAjK,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gCACdiS,QAAShS,KAAKsa,eADlB,IACmCta,KAAKua,iBADxC,aASA3a,EAAAC,EAAAC,cAAA,UAAQC,UAAU,yBAAyBiS,QAAShS,KAAK0Z,UAAzD,QACA9Z,EAAAC,EAAAC,cAAA,yBAAiBE,KAAKkD,WAAetD,EAAAC,EAAAC,cAAA,WACrCF,EAAAC,EAAAC,cAAA,UACIC,UAAU,0BACViS,QAAShS,KAAKka,mBAFlB,gBAWRta,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,WACJrG,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,UAEJrG,EAAAC,EAAAC,cAACmgB,EAAD,CACI7R,UAAWpO,KAAK8K,aAAasD,UAC7BN,WAAY9N,KAAKwY,MAAM1K,WACvBhD,aAAc9K,KAAK8K,gBAK3BlL,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CACIngB,UAAU,uBACVogB,cAAengB,KAAK8Y,SACpBsH,SAAU,SAAA5X,GAAG,OAAIwX,EAAKK,WAAW7X,KAEjC5I,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,QACJrG,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CAASngB,UAAU,YACfH,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CAAKngB,UAAU,iBAAf,cACAH,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CAAKngB,UAAU,iBAAf,YAIRH,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CAAUngB,UAAU,wCAEhBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAEXH,EAAAC,EAAAC,cAACwgB,EAAD,CACIxM,SAAU9T,KAAKwY,MAAM1E,SACrBhG,WAAY9N,KAAKwY,MAAM1K,WACvBhD,aAAc9K,KAAK8K,aACnBkH,QAAShS,KAAK8Z,gBAItBla,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,iBAGJrG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAEXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,OAAmCJ,EAAYS,gBAC/CR,EAAAC,EAAAC,cAACygB,EAAA1gB,EAAD,CACI2gB,QAAS7gB,EAAY6B,aACrB+V,SAAUvX,KAAKga,2BACflS,MAAO9H,KAAK2L,YACZ8U,YAAY,sBAGnBV,GAGLngB,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,WACJrG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAEXH,EAAAC,EAAAC,cAAC4gB,EAAD,CACI5S,WAAY9N,KAAKwY,MAAM1K,WACvBhD,aAAc9K,KAAK8K,aACnBa,YAAa3L,KAAK2L,YAClBqG,QAAShS,KAAK6Z,cACdnL,QAAS1O,KAAK0O,aAU9B9O,EAAAC,EAAAC,cAACogB,EAAA,EAAD,CAAUngB,UAAU,yCAEhBH,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,iBAEH8Z,EAEDngB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAhB,oBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,UAAsCJ,EAAYsO,QAAQpG,EAAYsX,OAAOnf,KAAK8K,aAAaoD,MAAOlO,KAAK+Y,WAAWrC,iBACtH9W,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACV0W,EAAQkK,UAAU3gB,KAAK+Y,WAAY/Y,KAAKma,eAG7Cva,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,oBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACV0W,EAAQmK,SAAS5gB,KAAK+Y,WAAY/Y,KAAKoa,cAG3C0F,EACDlgB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,6BAA6BiS,QAAShS,KAAKqa,eAA7D,mBAGJza,EAAAC,EAAAC,cAAC+gB,EAAD,CACI1c,MAAOnE,KAAK8K,aAAa3G,MACzBG,YAAatE,KAAKsE,YAClBW,eAAgBjF,KAAKiF,eACrB/B,UAAWlD,KAAKkD,UAChBwE,SAAU1H,KAAK0H,aAO3B9H,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,UAAR,YAMArG,EAAAC,EAAAC,cAAA,OAAKmG,GAAG,iBACJrG,EAAAC,EAAAC,cAACghB,EAAD,CACIzM,cAAerU,KAAKwY,MAAMnE,cAC1BrC,QAAShS,KAAK+Z,6BA5sBDpS,IAAMC,WCtB3C8K,IAASqO,OAAOnhB,EAAAC,EAAAC,cAACkhB,EAAD,MAAaxG,SAASyG,eAAe","file":"static/js/main.510e3ad1.chunk.js","sourcesContent":["import React from 'react';\n// import { Decimal } from 'decimal.js';\nimport './styles/fonts.css';\nconst Decimal = require('decimal.js');\nconst numberformat = require('swarm-numberformat');\n\n// const DEBUG = true;\n\n\nexport default class HelperConst {\n    static DEBUG = true;\n\n    static moneySymbol = \"$\";\n    // static knowledgeSymbol = \"𓂀\";\n    static knowledgeSymbol = '\\u29a8';\n    // static knowledgeSymbol = \"&\";\n    static prestigeSymbol = '\\u039b';\n\n    // static rightarrow = '\\u2b95';\n\n    // static multiplySymbol = '\\u2718';\n    static multiplySymbol = '\\u2a2f';\n\n    static thumbsUpSymbol = '👍';\n\n    static moneySymbolSpan() { return (<span className=\"moneySymbol\">{this.moneySymbol}</span>); };\n    static knowledgeSymbolSpan() { return (<span className=\"knowledgeSymbol\">{this.knowledgeSymbol}</span>); };\n    static prestigeSymbolSpan() { return (<span className=\"prestigeSymbol\">{this.prestigeSymbol}</span>); };\n    static multiplySymbolSpan() { return (<span className=\"multiplySymbol\">{this.multiplySymbol}</span>); }\n\n    static purchaseOpts = [\"1\", \"10\", \"25\", \"100\", \"Max\", \"Max OCD\", \"Max Upg\", \"PrimeTime\"];\n    static purchaseOptsNum = this.purchaseOpts.filter(item => item.match(/\\d/));\n    static purchaseOptsSpecial = this.purchaseOpts.filter(item => !item.match(/\\d/));\n\n    // set all-business milestones for time boost, including all 100's\n    static busBuyMilestones = [10, 25, 50];\n\n    // in kilometers\n    static spaceZoomLevels = [\n        new Decimal(\"384400\"),  // moon\n        new Decimal(\"2.8746e11\"), // solar system\n        new Decimal(\"9.5e17\"),  //  milky way (diameter)\n        new Decimal(\"1.11e20\"),  // NGC 4945\n        new Decimal(\"440e24\"),  // observable universe\n        // new Decimal(\"Infinity\"),\n    ];\n    static spaceZoomLevelNames = [\n        \"Edge of Observable Universe\",\n        \"Solar System\",\n        \"Milky Way\",\n        \"Galaxy NGC 4945\",\n        \"Edge of Observable Universe\",\n    ];\n\n    static DebugLog() {\n        if (HelperConst.DEBUG) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    static showNum(num) {\n        // this.DebugLog(\"num:\",num);\n        return HelperConst.myFormatterNum().format(num).toLowerCase();\n    }\n\n    static showInt(num) {\n        return HelperConst.myFormatterInt().format(num).toLowerCase();\n    }\n\n    static myNumCfg() {\n        return ({\n            backend: 'decimal.js',\n            sigfigs: 4,\n            maxSmall: 100,\n            format: 'engineering',\n            Decimal: Decimal\n        });\n    };\n\n    static myIntCfg() {\n        return ({\n            backend: 'decimal.js',\n            sigfigs: 4,\n            maxSmall: 0,\n            format: 'engineering',\n            Decimal: Decimal\n        });\n    };\n\n    static myFormatterNum() {\n        if (!this.myNumFormat) {\n            this.myNumFormat = new numberformat.Formatter(HelperConst.myNumCfg());\n        }\n        return this.myNumFormat;\n\n    }\n    static myFormatterInt() {\n        if (!this.myIntFormat) {\n            this.myIntFormat = new numberformat.Formatter(HelperConst.myIntCfg());\n        }\n        return this.myIntFormat;\n\n    }\n}","import React from 'react';\n// import Konva from 'konva';\nimport { Stage, Layer, Circle, Ellipse, Line, Text } from 'react-konva';\n// import MyPortal from './MyPortal';\nimport HelperConst from './HelperConst';\n// import ComputeFunc from './ComputeFunc';\n// import Decimal from 'decimal.js';\nconst mylog = HelperConst.DebugLog;\n\nexport default class Space extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.centerCanvas = {\n            x: 400,\n            y: 250,\n        };\n        this.pulseRadius = {\n            x: 0,\n            y: 0,\n        };\n        this.innerRadius = {\n            x: 300,\n            y: 150,\n        };\n        this.outerRadius = {\n            x: this.innerRadius.x * 3,\n            y: this.innerRadius.y * 3,\n        }\n        this.moonLocation = {\n            x: this.centerCanvas.x + 130,\n            y: this.centerCanvas.y - 135,\n        }\n\n        if (this.props.zoomLevel === 0) {\n            this.planetRadius = 10;\n        } else if (this.props.zoomLevel === 1) {\n            this.planetRadius = 3;\n        } else {\n            this.planetRadius = 0;\n        }\n\n        this.zoomDuration = 0.25;\n        this.zoomShown = this.props.zoomLevel;\n\n        this.pulseColor = \"#222\";\n        this.pulseColorCt = 0;\n\n        this.starClass = \"stars starpause\";\n\n        // this.buildNewZoomText = this.buildNewZoomText.bind(this);\n\n    }\n\n    resetProbeZoom() {\n        this.outerEllipseRef.setAttrs({\n            'radiusX': this.outerRadius.x,\n            'radiusY': this.outerRadius.y,\n        })\n        this.innerEllipseRef.setAttrs({\n            'radiusX': this.innerRadius.x,\n            'radiusY': this.innerRadius.y,\n        })\n        this.planetRadius = 3;\n        this.pulsePause = false;\n        this.starClass = \"stars starpause\";\n    }\n    probeOuterZoomFinished() {\n        this.outerEllipseMoving = false;\n        !this.innerEllipseMoving && this.resetProbeZoom();\n\n    }\n    probeInnerZoomFinished() {\n        this.innerEllipseMoving = false;\n        !this.outerEllipseMoving && this.resetProbeZoom();\n    }\n\n    calcProbePulseRadius() {\n        const pulseFactor = this.props.probe.distance\n            .div(this.props.mapDistance);\n\n        let xRadius = pulseFactor\n            .times(this.innerRadius.x)\n            .floor()\n            // .plus(this.planetRadius).plus(1)\n            .toNumber();\n        if (xRadius < (this.planetRadius + 1)) xRadius = this.planetRadius + 1;\n\n        let yRadius = pulseFactor\n            .times(this.innerRadius.y)\n            .floor()\n            // .plus(this.planetRadius).plus(1)\n            .toNumber();\n        if (yRadius < (this.planetRadius + 1)) yRadius = this.planetRadius + 1;\n\n        return { x: xRadius, y: yRadius };\n    }\n\n\n    processSpaceMap() {\n\n        /* set probe distance pulse */\n        if (this.pulseRef) {\n            const probeRadius = (\n                this.props.probe.distance.eq(0)\n                || (this.props.zoomLevel !== this.zoomShown)\n                || this.outerEllipseMoving\n                || this.innerEllipseMoving)\n                ? { x: 0, y: 0 }\n                : this.calcProbePulseRadius();\n            this.pulseRef.setAttrs({\n                'radiusX': probeRadius.x,\n                'radiusY': probeRadius.y,\n            })\n        }\n        /* set pulse color */\n        this.pulseColorCt = (this.pulseColorCt + this.props.timeMultiplier);\n        // this.pulseColor = this.pulseColors[Math.floor(this.pulseColorCt % this.pulseColors.length)];\n        this.pulseColor = \"rgba(85,85,0,\" + (((Math.sin(this.pulseColorCt) + 1) / 4) + 0.5).toFixed(1) + \")\"\n        // mylog(\"pulseColor:\",this.pulseColor);\n\n        if ((this.props.zoomLevel < this.zoomShown)) {\n            this.resetProbeZoom();\n        }\n\n        /* \"zoom\" space map if zoom level changes */\n        if ((this.props.zoomLevel > this.zoomShown)\n            && this.outerEllipseRef\n            && this.innerEllipseRef\n            && !this.outerEllipseMoving\n            && !this.innerEllipseMoving) {\n            mylog(\"zoomShown:\", this.zoomShown);\n            this.starClass = \"stars starzoom\";\n            this.zoomShown += 1;\n            if (this.props.zoomLevel < 2) {\n                mylog(\"shrinking planet\");\n                this.centerPlanetRef.to({\n                    duration: this.zoomDuration,\n                    radius: 3\n                })\n            }\n            if (!this.outerEllipseMoving) {\n                mylog(\"ring anim starting\");\n                this.outerEllipseMoving = true;\n                this.outerEllipseRef.to({\n                    duration: this.zoomDuration,\n                    radiusX: this.innerRadius.x,\n                    radiusY: this.innerRadius.y,\n                    onFinish: () => {\n                        this.probeOuterZoomFinished();\n                    },\n                });\n                this.innerEllipseMoving = true;\n                this.innerEllipseRef.to({\n                    duration: this.zoomDuration,\n                    radiusX: 0,\n                    radiusY: 0,\n                    onFinish: () => {\n                        this.probeInnerZoomFinished();\n                    },\n                })\n            }\n        }\n    }\n\n    generateSpaceRender() {\n        let rows = [];\n        rows.push(\n            <Ellipse\n                key=\"pulse\"\n                id='pulse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.pulseRadius.x}\n                radiusY={this.pulseRadius.y}\n                stroke={this.pulseColor}\n                fill=\"rgba(85,85,85,0.2)\"\n                ref={node => {\n                    this.pulseRef = node;\n                }}\n            />\n        );\n        rows.push(\n            <Ellipse\n                key=\"innerEllipse\"\n                id='innerEllipse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.innerRadius.x}\n                radiusY={this.innerRadius.y}\n                stroke=\"#d55\"\n                dash={[5, 5]}\n                ref={node => {\n                    this.innerEllipseRef = node;\n                }}\n            />\n        );\n        rows.push(\n            <Ellipse\n                key=\"outerEllipse\"\n                id='outerEllipse'\n                x={this.centerCanvas.x}\n                y={this.centerCanvas.y}\n                radiusX={this.outerRadius.x}\n                radiusY={this.outerRadius.y}\n                stroke=\"#d55\"\n                dash={[5, 5]}\n                ref={node => {\n                    this.outerEllipseRef = node;\n                }}\n            />\n        );\n\n        /* moon only for closest zoom */\n        if (this.props.zoomLevel === 0) {\n            rows.push(\n                <Circle\n                    key=\"moon\"\n                    id='moon'\n                    x={this.moonLocation.x}\n                    y={this.moonLocation.y}\n                    radius={5}\n                    fillRadialGradientStartPoint={{\n                        x: -5,\n                        y: -5,\n                    }}\n                    fillRadialGradientStartRadius={1}\n                    fillRadialGradientEndPoint={{\n                        x: -5,\n                        y: -5,\n                    }}\n                    fillRadialGradientEndRadius={8}\n                    fillRadialGradientColorStops={[0.4, '#ddd', 0.9, '#aaa', 1, '#333']}\n                />\n            );\n        }\n\n        /* compute for center planet representation */\n        switch (this.props.zoomLevel) {\n            case 0:\n                /* the big planet */\n                rows.push(\n                    <Circle\n                        key=\"centerPlanet\"\n                        id='centerPlanet'\n                        x={this.centerCanvas.x}\n                        y={this.centerCanvas.y}\n                        radius={10}\n                        // fill=\"green\"\n                        fillRadialGradientStartPoint={{\n                            x: -10,\n                            y: -10,\n                        }}\n                        fillRadialGradientStartRadius={1}\n                        fillRadialGradientEndPoint={{\n                            x: -10,\n                            y: -10,\n                        }}\n                        fillRadialGradientEndRadius={30}\n                        fillRadialGradientColorStops={[0.4, '#1A8A09', 0.8, '#163bb5', 1, '#333']}\n                        ref={node => {\n                            this.centerPlanetRef = node;\n                        }}\n                    />\n                );\n                break;\n            case \"none\":\n                /* just a dot... */\n                rows.push(\n                    <Circle\n                        key=\"centerPlanet\"\n                        id='centerPlanet'\n                        x={this.centerCanvas.x}\n                        y={this.centerCanvas.y}\n                        radius={3}\n                        fill=\"#1A8A09\"\n                        ref={node => {\n                            this.centerPlanetRef = node;\n                        }}\n                    />\n                );\n                break;\n            default:\n                /*  reticle only */\n                rows.push(\n                    <React.Fragment key=\"crossHairFragment\">\n                        {/* <Ellipse\n                            id='centerPlanet'\n                            x={this.centerCanvas.x}\n                            y={this.centerCanvas.y}\n                            radiusX={20 * this.ellipseMetrics.x}\n                            radiusY={20 * this.ellipseMetrics.y}\n                            stroke=\"#d55\"\n                            dash={[4, 4]}\n                            ref={node => {\n                                this.centerPlanetRef = node;\n                            }}\n                        /> */}\n                        <Line\n                            key=\"crossHair1\"\n                            points={[this.centerCanvas.x - 5, this.centerCanvas.y, this.centerCanvas.x + 5, this.centerCanvas.y]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Line\n                            key=\"crossHair2\"\n                            points={[this.centerCanvas.x, this.centerCanvas.y - 5, this.centerCanvas.x, this.centerCanvas.y + 5]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                    </React.Fragment>\n                );\n                break;\n        }\n\n        return rows;\n    }\n\n\n    render() {\n        this.processSpaceMap();\n        const rows = this.generateSpaceRender();\n\n        return (\n            <div id=\"probecontent\" ref={this.probeDivRef}  >\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n                <div className={this.starClass} />\n\n                <Stage width={794} height={538} className=\"dynamic-layer\" >\n\n                    <Layer hitGraphEnabled={false}>\n                        {rows}\n                    </Layer>\n                    <Layer className=\"static-layer\" hitGraphEnabled={false}>\n\n                        <Line\n                            points={[this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 10, this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 50]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Line\n                            points={[this.centerCanvas.x - this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 30, this.centerCanvas.x - 90, this.centerCanvas.y + this.innerRadius.y + 30]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Text\n                            x={this.centerCanvas.x - 80}\n                            y={this.centerCanvas.y + this.innerRadius.y + 24}\n                            width={160}\n                            text={\"#\" + this.props.zoomLevel + \": \" + HelperConst.showInt(this.props.mapDistance) + \" km\"}\n                            fontSize={16}\n                            fontFamily={'Kodchasan'}\n                            align=\"center\"\n                            fill=\"#1A8A09\"\n                        />\n                        <Text\n                            x={this.centerCanvas.x - 80}\n                            y={this.centerCanvas.y + this.innerRadius.y + 45}\n                            width={160}\n                            text={this.props.zoomName}\n                            fontSize={16}\n                            fontFamily={'Kodchasan'}\n                            align=\"center\"\n                            fill=\"#1A8A09\"\n                        />\n                        <Line\n                            points={[this.centerCanvas.x + 90, this.centerCanvas.y + this.innerRadius.y + 30, this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 30]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        <Line\n                            points={[this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 10, this.centerCanvas.x + this.innerRadius.x, this.centerCanvas.y + this.innerRadius.y + 50]}\n                            stroke=\"#d55\"\n                            strokeWidth={1}\n                        />\n                        {/* <MyPortal>\n                            <button id=\"portal-button\" disabled={true}>{HelperConst.showNum(HelperConst.spaceZoomLevels[this.zoomShown])}</button>\n                        </MyPortal> */}\n\n\n                    </Layer>\n                </Stage>\n\n            </div>\n        )\n    }\n}","// import { Decimal } from 'decimal.js';\nimport './styles/fonts.css';\nimport HelperConst from './HelperConst';\nconst Decimal = require('decimal.js');\nconst mylog = HelperConst.DebugLog;\n\nexport default class ComputeFunc {\n\n    static getPct(value, pct) {\n        const numType = typeof (value);\n        // mylog(\"Decimal:\",value instanceof Decimal);\n        // mylog(\"typeof value:\",numType);\n        if (value instanceof Decimal) {\n            return value.times(pct / 100).floor();\n        } else if (numType === \"number\") {\n            return Math.floor(value * (pct / 100));\n        }\n    }\n\n    static availMaxUpgrade(owned, max) {\n        const maxPoss = owned + max;\n        if (maxPoss >= 100) {\n            const maxCheck = Math.floor(maxPoss / 100) * 100;\n            return (maxCheck <= owned) ? maxCheck + 100 : maxCheck;\n        } else if (maxPoss >= 75) {\n            return (owned >= 75) ? 100 : 75;\n        } else if (maxPoss >= 50) {\n            return (owned >= 50) ? 75 : 50;\n        } else {\n            return (owned >= 25) ? 50 : 25;\n        }\n    }\n\n    static getTotalMilestoneIdx(num) {\n        // mylog(\"testing new milestone:\", num);\n        let retIdx = -1;\n        HelperConst.busBuyMilestones.forEach((milestone, idx) => {\n            // mylog(\"num:\",num,\" milestone:\",milestone);\n            if (num >= milestone) { retIdx = idx; }\n        });\n        const num100s = Math.floor(num / 100);\n        return (retIdx + num100s);\n    }\n\n    static getTotalMilestone(idx) {\n        const hardcodeMax = HelperConst.busBuyMilestones.length - 1;\n        if (idx <= hardcodeMax) { return HelperConst.busBuyMilestones[idx] };\n        const diff = (idx - hardcodeMax);\n        return (100 * diff);\n    }\n\n    static getTotalMilestonesAttained(fromIdx, toIdx) {\n        let milestones = [];\n        for (let c = fromIdx + 1; c <= toIdx; c++) {\n            milestones.push([this.getTotalMilestone(c)]);\n        }\n        return milestones;\n    }\n\n    static getOwnedMilestonesAttained(fromCt, toCt) {\n        const from25s = Math.floor(fromCt / 25) > 2 ? 2 : Math.floor(fromCt / 25);\n        const to25s = Math.floor(toCt / 25) > 2 ? 2 : Math.floor(toCt / 25);\n        const from100s = Math.floor(fromCt / 100);\n        const to100s = Math.floor(toCt / 100);\n        let retArr = [];\n        if (from25s < to25s) {\n            for (let n = from25s + 1; n <= to25s; n++) {\n                retArr.push(n * 25);\n            }\n        }\n        if (from100s < to100s) {\n            for (let n = from100s + 1; n <= to100s; n++) {\n                retArr.push(n * 100);\n            }\n        }\n        return retArr;\n    }\n\n    static buyPct(num, resource) {\n        const pct = resource.div(num).times(100).toNumber()\n        return pct > 100 ? 100 : pct;\n    }\n\n    static earnPct(item, timeAdj) {\n        if (timeAdj < 0.2 || (timeAdj - item.timeCounter) < 0.1) {\n            return 100;\n        }\n        return (item.timeCounter / timeAdj) * 100;\n    }\n\n    static computeNextPayoutValueMoney(item, busStat, prestige, buyNum) {\n        const nextOwned = busStat.owned + buyNum;\n        const num25s = Math.floor(nextOwned / 25);\n        // 25, 50, 75, 100, 200, ...\n        const mult25 = num25s > 3 ? 3 : num25s;\n        const mult100 = Math.floor(nextOwned / 100);\n        const prestigeMultiplier = prestige.num.times(prestige.val).div(100).plus(1);\n        let revenue = new Decimal(\n            item.incomeBase\n                .times(nextOwned)\n                .times(Math.pow(2, mult25))\n                .times(Math.pow(4, mult100))\n                .times(busStat.payoutAdj)\n                .times(prestigeMultiplier)\n        );\n        return revenue;\n    }\n\n    static computePayoutValueMoney(item, busStat, prestige) {\n        return this.computeNextPayoutValueMoney(item, busStat, prestige, 0);\n    }\n\n\n    static computePayoutValueKnowledge(item, busStat, prestige) {\n        return item.incomeBase\n            .times(busStat.owned)\n            .times(busStat.payoutAdj);\n    }\n\n    static computeEarningPerSec(item, busStat, prestige) {\n        if (item.incomeType === \"money\") {\n            return this.computePayoutValueMoney(item, busStat, prestige).div(busStat.timeAdj);\n        } else {\n            return this.computePayoutValueKnowledge(item, busStat, prestige).div(busStat.timeAdj);\n        }\n    }\n\n    static computeTotalEarningPerSec(items, userSettings) {\n        let revenue = new Decimal(0);\n        items.forEach((item) => {\n            revenue = revenue.plus(this.computeEarningPerSec(item, userSettings.busStats[item.id], userSettings.prestige));\n        });\n        return revenue;\n    }\n\n    static getPayoutMoney(item, busStat, prestige) {\n        if (!item.payout) { return new Decimal(0) };\n        return this.computePayoutValueMoney(item, busStat, prestige);\n    }\n\n    static getPayoutKnowledge(item, busStat, prestige) {\n        return this.computePayoutValueKnowledge(item, busStat, prestige);\n    }\n\n    static getPayout(item, busStat, prestige) {\n        return item.incomeType === \"money\"\n            ? this.getPayoutMoney(item, busStat, prestige)\n            : this.getPayoutKnowledge(item, busStat, prestige);\n    }\n\n    static totalPayout(items, busStats, prestige) {\n        let revenue = new Decimal(0);\n\n        items.forEach((item) => {\n            revenue = revenue.plus(ComputeFunc.getPayout(item, busStats[item.id], prestige));\n        });\n        return revenue;\n    }\n\n    static getEarningPerTick(revenue, timeInterval) {\n        return revenue.times(timeInterval / 1000);\n    }\n\n    static getEarningPct(revenue, totalRevenue) {\n        return revenue.div(totalRevenue).times(100).toFixed(2);\n    }\n\n    static calcPrestigeEarned(revenue) {\n        return Decimal.sqrt(revenue.div(Math.pow(10, 9))).times(150).floor();\n    }\n\n    static calcPrestigeEarnedFromMax(maxEarnings) {\n        return maxEarnings.div(Math.pow(10, 12)).times(8).plus(1).sqrt().minus(1).div(2);\n    }\n\n    static getCost(item, busStat, purchaseAmt, resource) {\n\n        const maxbuys = this.maxBuy(item, busStat, resource);\n        // mylog(maxbuys);\n        let numBuy = 0;\n\n        switch (purchaseAmt) {\n            case \"Max\":\n            case \"Max OCD\":\n            case \"Max Upg\":\n            case \"PrimeTime\":\n                numBuy = maxbuys[purchaseAmt];\n                break;\n            default:\n                numBuy = purchaseAmt;\n                break;\n        }\n\n        return {\n            num: parseInt(numBuy, 10),\n            cost: item.costBase.times(\n                Math.pow(item.costCoef, busStat.owned) * (Math.pow(item.costCoef, numBuy) - 1)\n            ).div(item.costCoef - 1),\n        }\n    }\n\n    static maxBuy(item, itemStat, resource) {\n        // mylog(\"resource is \", typeof (resource), \", \", resource.times(1).toFixed());\n        const max = parseInt(new Decimal(\n            resource\n                .times(item.costCoef - 1)\n                .div(\n                    item.costBase.times(\n                        Math.pow(item.costCoef, itemStat.owned))\n                )\n        ).plus(1).log(item.costCoef).floor(), 10);\n\n        const maxUpg = this.availMaxUpgrade(itemStat.owned, max) - itemStat.owned;\n\n        let maxOcd = (Math.floor((max + itemStat.owned) / 25) * 25)\n            - itemStat.owned;\n        maxOcd = maxOcd > 0 ? maxOcd : 25 - (itemStat.owned % 25);\n        // mylog(\"maxOcd:\", maxOcd, \" owned remainder:\", (item.owned % 25));\n\n        const primes = this.primeFactors();\n        let primeTime = 0;\n\n        // console.time('primeidx');\n        const myMaxPrime = itemStat.owned + max;\n        for (const idx in primes) {\n            if (primes[idx] <= itemStat.owned) continue;\n            if (primes[idx] <= myMaxPrime) primeTime = primes[idx];\n            if (primes[idx] > myMaxPrime) {\n                if (primeTime === 0) primeTime = primes[idx];\n                break;\n            };\n        }\n        primeTime -= itemStat.owned;\n        // console.timeEnd('primeidx');\n\n        return ({\n            Max: max > 0 ? max : 1,\n            \"Max OCD\": maxOcd,\n            \"Max Upg\": maxUpg,\n            PrimeTime: primeTime,\n        });\n    }\n\n    static nextPrime(num) {\n        const primes = this.primeFactors();\n        for (const idx in primes) {\n            if (primes[idx] > num) {\n                return primes[idx];\n            }\n        }\n    }\n\n    static primeFactors() {\n        if (this.primes) {\n            return this.primes;\n        }\n        var max = 25000;\n        var primesFwd = [];\n        mylog(\"creating primes\");\n        console.time('prime creation');\n        var store = [], i, j;\n        for (i = 2; i <= max; ++i) {\n            if (!store[i]) {\n                primesFwd.push(i);\n                for (j = i << 1; j <= max; j += i) {\n                    store[j] = true;\n                }\n            }\n        }\n        // this.primes = primesFwd.reverse();\n        this.primes = primesFwd;\n        console.timeEnd('prime creation');\n        mylog(\"primes length: \" + this.primes.length);\n        return this.primes;\n    }\n\n    static convertDistanceToSpace(d) {\n        const numLevels = HelperConst.spaceZoomLevels.length;\n        for (let n = 0; n < numLevels; n++) {\n            const dist = HelperConst.spaceZoomLevels[n];\n            if (dist.gt(d)) return { idx: n, dist: dist, name: HelperConst.spaceZoomLevelNames[n] };\n        }\n        const baseE9 = HelperConst.spaceZoomLevels[numLevels - 1].log(\"1e9\").floor().toNumber();\n        const dFloor = d.log(\"1e9\").floor().toNumber();\n        const diff = dFloor - baseE9;\n        // const numE10 = numLevels + dFloor.toNumber() - lvlE10;\n        // mylog(\"dFloor:\",dFloor,\"baseE9:\",baseE9);\n\n        return { idx: numLevels + diff, dist: new Decimal(\"1e9\").pow(dFloor + 1), name: \"Dark Unknown\" };\n    }\n\n\n\n}","import React from 'react';\nimport ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport './styles/fonts.css';\nimport './styles/neon.scss';\n// const mylog = HelperConst.DebugLog;\nconst Decimal = require('decimal.js');\n\nexport default class Income extends React.Component {\n\n\n    render() {\n        const revenue = ComputeFunc.computeTotalEarningPerSec(this.props.businesses, this.props.userSettings);\n        // const learning = ComputeFunc.computeTotalEarningPerSec(this.props.probes, this.props.prestige);\n        const learning = new Decimal(0);\n\n        return (\n            <div className=\"header-wrapper\">\n\n                <div className=\"income\">\n\n                    <div className=\"income-header\">\n                        Money:\n                    </div>\n                    <div className=\"income-money\">\n                        {HelperConst.moneySymbolSpan()}{HelperConst.showNum(this.props.userSettings.money)}\n                    </div>\n                    <div className=\"income-earning\">\n                        (+ {HelperConst.moneySymbolSpan()}{HelperConst.showNum(revenue)}/s)\n                    </div>\n\n\n                    <div className=\"income-header\">\n                        Knowledge:\n                    </div>\n                    <div className=\"income-knowledge\">\n                        {HelperConst.knowledgeSymbolSpan()}{HelperConst.showNum(this.props.userSettings.knowledge)}\n                    </div>\n                    <div className=\"income-learning\">\n                        (+ {HelperConst.knowledgeSymbolSpan()}{HelperConst.showNum(learning)}/s)\n                    </div>\n\n                </div>\n\n                <div className=\"title-wrapper\">\n                    <div className=\"von\">von</div>\n                    <div className=\"text-effect\">\n                        <h1 className=\"neon\" data-text=\"NEUMANN\">NEUMANN</h1>\n                        <div className=\"gradient\"></div>\n                        <div className=\"spotlight\"></div>\n                    </div>\n                </div>\n\n                <div className=\"prestige\">\n                    <div className=\"prestige-header\">\n                        Prestige:\n                    </div>\n                    <div className=\"prestige-units\">\n                        {HelperConst.prestigeSymbolSpan()}{HelperConst.showInt(this.props.userSettings.prestige.num)}\n                    </div>\n                    <div className=\"prestige-earning\">\n                        (+ {HelperConst.prestigeSymbolSpan()}{HelperConst.showInt(this.props.userSettings.prestigeNext)})\n                    </div>\n\n                    <div className=\"probe-header\">\n                        Distance:\n                    </div>\n                    <div className=\"probe-distance\">\n                        {HelperConst.showNum(this.props.userSettings.probe.distance)} km\n                    </div>\n                    <div className=\"probe-rate\">\n                        {HelperConst.showNum(this.props.userSettings.probe.getDistPerSec())} km/s\n                    </div>\n\n                </div>\n\n            </div>\n        );\n\n    }\n\n\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport update from 'immutability-helper';\n// import styled from 'styled-components';\nimport { Motion, spring } from 'react-motion';\nimport ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport './styles/fonts.css';\n// const mylog = HelperConst.DebugLog;\n\n\nexport default class Business extends React.Component {\n\n    static overlayCt = 0;\n\n    static applyMultiplier(bus, mult) {\n        return update(bus, {\n            upgradeMult: { $set: bus.upgradeMult * mult },\n        })\n    }\n\n    static getAdjustedTimeBase(bus, milestoneIdx) {\n        if (milestoneIdx >= 0) {\n            return bus.timeBase / Math.pow(2, milestoneIdx);\n        }\n        return bus.timeBase;\n    }\n\n    static getPosition(reactRef) {\n        return ReactDOM\n            .findDOMNode(reactRef.current)\n            .getBoundingClientRect();\n    }\n\n    getDomRef(name) {\n        const idx = this.props.domRefs.findIndex(ref => ref.name === name);\n        if (idx < 0) return undefined;\n        const ref = this.props.domRefs[idx].domRef;\n        return ref;\n    }\n\n    genOverlays(bus) {\n        let textClass = \"overlay-text \";\n        return (\n            bus.overlays.map((o, idx) => {\n                // mylog(\"showing overlay for:\", bus.name);\n                let ovClass = textClass;\n                const domLeft = parseInt(this.getDomRef(bus.name).current.offsetLeft, 10);\n                const domTop = parseInt(this.getDomRef(bus.name).current.offsetTop, 10);\n                // mylog(\"domLeft:\", domLeft, \" domTop:\", domTop);\n                let curLeft = domLeft + 80;\n                let curTop = domTop - 15;\n                if (o.counter > o.expire) {\n                    ovClass += \"expired \";\n                }\n                let topChg = 0;\n                let leftChg = 0;\n                switch (o.ovType) {\n                    case \"ownedBonus\":\n                        leftChg = 100;\n                        break;\n                    default:\n                        topChg = -40;\n                        break;\n                }\n                return (\n                    <Motion key={\"overlay-text \" + o.id}\n                        defaultStyle={{\n                            top: curTop,\n                            left: curLeft,\n                            opacity: 1,\n                        }}\n                        style={{\n                            top: spring(curTop + topChg + o.yTarget),\n                            left: spring(curLeft + leftChg + o.xTarget),\n                            opacity: spring(0, { stiffness: 15, damping: 14 }),\n                        }}\n                    >\n\n                        {style => (\n                            <div\n                                key={\"overlay-text \" + o.id}\n                                className={ovClass + \"rainbow_text_animated \"}\n                                style={{\n                                    top: style.top,\n                                    left: style.left,\n                                    opacity: style.opacity,\n                                }} >{o.text}</div>\n                        )}\n\n                    </Motion>\n\n\n                );\n\n            })\n        )\n    }\n\n\n    render() {\n        const sources = this.props.businesses.reduce((result, item) => {\n            if (this.props.userSettings.busStats[item.id].revealed) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n\n        const totalEarningPerSec = ComputeFunc.computeTotalEarningPerSec(this.props.businesses, this.props.userSettings);\n\n\n        const rows = sources.map((item) => {\n            const b = this.props.userSettings.busStats[item.id];\n            const n = item.name;\n            const myCost = ComputeFunc.getCost(item, this.props.userSettings.busStats[item.id], this.props.purchaseAmt, this.props.userSettings.money);\n            // mylog(myCost);\n            const nextPayout = ComputeFunc.computeNextPayoutValueMoney(item, this.props.userSettings.busStats[item.id], this.props.userSettings.prestige, myCost.num);\n\n            const buyPct = ComputeFunc.buyPct(myCost.cost, this.props.userSettings.money);\n            const buyPctStyle = { width: buyPct + '%' };\n            const earnPct = ComputeFunc.earnPct(item, b.timeAdj);\n            const earnPctStyle = { width: earnPct + '%' };\n\n            let bgClass = \"money \";\n            let buttonClass = \"\";\n            let costClass = \"\";\n            let buttonDisabled = false;\n            if (this.props.userSettings.money.gte(myCost.cost)) {\n                buttonClass = \"business-buy canAfford \";\n                costClass = \"cost-wrapper canAfford \";\n            } else {\n                buttonClass = \"business-buy cannotAfford \";\n                buttonDisabled = true;\n                costClass = \"cost-wrapper cannotAfford \";\n            }\n\n            const myEarningPerSec = ComputeFunc.computeEarningPerSec(item, this.props.userSettings.busStats[item.id],this.props.userSettings.prestige);\n            let curPayout = ComputeFunc.computePayoutValueMoney(item, this.props.userSettings.busStats[item.id], this.props.userSettings.prestige);\n            const myPayout = curPayout.gt(0) ? curPayout : nextPayout;\n            const myEarningPct = ComputeFunc.getEarningPct(myEarningPerSec, totalEarningPerSec);\n\n\n\n            const overlayItems = this.genOverlays(item);\n            // mylog(\"overlayItems:\",overlayItems);\n\n            return (\n                <div key={n + \"business\"} className={\"business \" + bgClass} ref={this.getDomRef(n)} >\n                    <div className=\"overlays-wrapper\">\n                        {overlayItems}\n                    </div>\n                    <div className={\"business-buy-progress \" + bgClass}>\n                        <div className={\"business-buy-progress-pct \" + bgClass} style={buyPctStyle}>\n                            <span ></span>\n                        </div>\n                    </div>\n                    <div className={\"business-earn-progress \" + bgClass}>\n                        <div className={\"business-earn-progress-pct \" + bgClass} style={earnPctStyle}>\n                            <span ></span>\n                        </div>\n                    </div>\n                    <button\n                        key={n + \"button\"}\n                        className={buttonClass + bgClass}\n                        onClick={() => this.props.onClick(item)}\n                        disabled={buttonDisabled}>\n                        <span\n                            className=\"buyMultiple\">{myCost.num}{HelperConst.multiplySymbolSpan()}\n                        </span> {n}\n                    </button>\n                    <div key={n + \"owned\"} className=\"business-owned\">{HelperConst.showInt(b.owned)}</div>\n\n                    <div key={n + \"cost-wrapper\"} className={costClass}>\n                        <div key={n + \"cost-money\"} className=\"business-cost-money\">{HelperConst.moneySymbolSpan()}{HelperConst.showNum(myCost.cost)}</div>\n                    </div>\n\n                    <div key={n + \"earning-wrapper\"} className=\"earning-wrapper\">\n                        <div key={n + \"revenue-total\"} className=\"business-revenue-total\">+{HelperConst.moneySymbolSpan()}{HelperConst.showNum(myPayout)}</div>\n                    </div>\n\n                    <div key={n + \"earning-pct-wrapper\"} className=\"earning-pct-wrapper\">\n                        <div key={n + \"earning-pct\"} className=\"earning-pct\">{myEarningPct}%</div>\n                    </div>\n                </div>\n            );\n        });\n\n\n        return (\n            <div className=\"business-container\">\n                {rows}\n            </div>\n        )\n    };\n};\n\n","\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\nconst Decimal = require('decimal.js');\n\nexport default class Probe {\n    constructor(value, pSpeed, pQuality, pCombat) {\n        this.value = value;\n        this.speed = pSpeed;\n        this.quality = pQuality;\n        this.combat = pCombat;\n        this.number = new Decimal(0);\n        this.losses = new Decimal(0);\n        this.distance = new Decimal(0);\n    }\n\n    increment(num) {\n        this.number = this.number.plus(num);\n    }\n    decrement(num) {\n        this.number = this.number.minus(num);\n        this.losses = this.losses.plus(num);\n    }\n    goFarther(dist) {\n        this.distance = this.distance.plus(dist);\n    }\n\n    getDistPerSec() {\n        return this.value.times(this.speed);\n    }\n\n    getDistPerTick(timeMultiplier) {\n        return this.getDistPerSec().times(timeMultiplier);\n    }\n\n    update(timeMultiplier) {\n        this.goFarther(this.getDistPerTick(timeMultiplier));\n    }\n\n}","// import React from 'react';\nconst Decimal = require('decimal.js');\n\nexport default function BusinessInit() {\n\n    return ([\n        {\n            id: 0,\n            name: \"Mental Math\",\n            desc: \"desc1\",\n            owned: 1,\n            incomeType: \"money\",\n            incomeBase: new Decimal(1),\n            costType: \"money\",\n            costBase: new Decimal(4.8076),\n            costCoef: 1.04,\n            timeBase: 1,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(0),\n            overlays: [],\n        }, {\n            id: 1,\n            name: \"Research Review\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(60),\n            costType: \"money\",\n            costBase: new Decimal(120),\n            costCoef: 1.05,\n            timeBase: 2,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(84),\n            overlays: [],\n        }, {\n            id: 2,\n            name: \"Publish Articles\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(660),\n            costType: \"money\",\n            costBase: new Decimal(1400),\n            costCoef: 1.06,\n            timeBase: 4,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(98015),\n            overlays: [],\n        }, {\n            id: 3,\n            name: \"University Lectures\",\n            desc: \"desc1\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(7400),\n            costType: \"money\",\n            costBase: new Decimal(15000),\n            costCoef: 1.07,\n            timeBase: 8,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(10500),\n            overlays: [],\n        }, {\n            id: 4,\n            name: \"Publish Papers\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(82000),\n            costType: \"money\",\n            costBase: new Decimal(175000),\n            costCoef: 1.08,\n            timeBase: 12,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(122500),\n            overlays: [],\n        }, {\n            id: 5,\n            name: \"Game Theory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(900000),\n            costType: \"money\",\n            costBase: new Decimal(1700000),\n            costCoef: 1.09,\n            timeBase: 20,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(1190000),\n            overlays: [],\n        }, {\n            id: 6,\n            name: \"Self-Replication Study\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(10000000),\n            costType: \"money\",\n            costBase: new Decimal(17000000),\n            costCoef: 1.10,\n            timeBase: 30,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(11900000),\n            overlays: [],\n        }, {\n            id: 7,\n            name: \"Manhattan Project\",\n            desc: \"desc1\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(100000000),\n            costType: \"money\",\n            costBase: new Decimal(170000000),\n            costCoef: 1.11,\n            timeBase: 40,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(119000000),\n            overlays: [],\n        }, {\n            id: 8,\n            name: \"Research Laboratory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(1000000000),\n            costType: \"money\",\n            costBase: new Decimal(1700000000),\n            costCoef: 1.12,\n            timeBase: 60,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(1000000000),\n            overlays: [],\n        }, {\n            id: 9,\n            name: \"Government Advisory\",\n            desc: \"desc2\",\n            owned: 0,\n            incomeType: \"money\",\n            incomeBase: new Decimal(10000000000),\n            costType: \"money\",\n            costBase: new Decimal(17000000000),\n            costCoef: 1.14,\n            timeBase: 90,\n            timeCounter: 0,\n            payout: false,\n            initialVisible: new Decimal(9000000000),\n            overlays: [],\n        }\n    ]);\n\n}","// import { Decimal } from 'decimal.js';\nconst Decimal = require('decimal.js');\n\nexport default function UpgradeInit() {\n\n    return ([\n        {\n            id: 0,\n            name: \"New Shoes\",\n            watchType: \"money\",\n            watchValue: new Decimal(100),\n            costType: \"money\",\n            costValue: new Decimal(500),\n            rewardType: \"upgradeMult\",\n            rewardTarget: 0,\n            rewardValue: 10,\n        }, {\n            id: 1,\n            name: \"Demographics\",\n            watchType: \"knowledge\",\n            watchValue: new Decimal(1),\n            costType: \"knowledge\",\n            costValue: new Decimal(30),\n            rewardType: \"upgradeMult\",\n            rewardTarget: 1,\n            rewardValue: 10,\n        }\n\n    ]);\n}","import React from 'react';\nimport BusinessInit from './BusinessInit';\n// import ProbeInit from './ProbeInit';\nimport UpgradeInit from './UpgradeInit';\nimport Probe from '../Probe';\nconst Decimal = require('decimal.js');\n\nexport default class NeumannInit extends React.Component {\n\n    static freshState = () => ({\n        businesses: BusinessInit(),\n        upgrades: UpgradeInit(),\n        announcements: [],\n        version: \"0.0.1\",\n    })\n\n    static userSettings = () => ({\n        money: new Decimal(0),\n        knowledge: new Decimal(0),\n        probe: new Probe(new Decimal(0), 0, 0, 0),\n        prestige: { num: new Decimal(0), val: 5 },\n        prestigeNext: new Decimal(0),\n        lifetimeEarnings: new Decimal(0),\n        lifetimeLearning: new Decimal(0),\n        curMaxMoney: new Decimal(0),\n        curTotalClicks: 0,\n        buyMilestone: 0,\n        busStats: {\n            0: {owned: 1, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            1: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            2: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            3: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            4: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            5: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            6: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            7: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            8: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n            9: {owned: 0, revealed: false, timeAdj: 1, payoutAdj: 1, },\n        },\n        upgStats: {\n            0: {purchased: false, revealed: false },\n            1: {purchased: false, revealed: false },\n        }\n \n\n    })\n\n}","import React from 'react';\nimport HelperConst from './HelperConst';\nimport ComputeFunc from './ComputeFunc';\nimport './styles/fonts.css';\nimport ScrollBar  from 'react-scrollbars-custom';\nconst mylog = HelperConst.DebugLog;\n\nexport default class Upgrades extends React.Component {\n\n    componentDidMount() {\n        mylog(\"upgrades didmount\");\n    }\n\n    componentWillUnmount() {\n        mylog(\"upgrades willunmount\");\n    }\n\n    render() {\n        const sources = this.props.upgrades.reduce((result, item) => {\n            const u = this.props.userSettings.upgStats[item.id];\n            // mylog(\"u:\",u);\n            if (!u.purchased && u.revealed) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n        // mylog(\"sources:\",sources);\n\n        const rows = sources.map(item => {\n            const u = this.props.userSettings.upgStats[item.id];\n            if (u.purchased || !u.revealed) { return \"\"; };\n\n            let n = item.name;\n            let buyClass = \"\";\n            let buttonDisabled = true;\n\n            let buyPct = 0;\n            let bgClass = \"\";\n\n            if (item.costType === \"money\") {\n                bgClass = \"money \";\n                buyPct = ComputeFunc.buyPct(item.costValue, this.props.userSettings.money);\n\n                if (this.props.userSettings.money.gte(item.costValue)) {\n                    buyClass += \"canAfford \";\n                    buttonDisabled = false;\n                } else {\n                    buyClass += \"cannotAfford \";\n                }\n            }\n            if (item.costType === \"knowledge\") {\n                bgClass = \"knowledge \";\n                buyPct = ComputeFunc.buyPct(item.costValue, this.props.userSettings.knowledge);\n\n                if (this.props.userSettings.knowledge.gte(item.costValue)) {\n                    buyClass += \"canAfford \";\n                    buttonDisabled = false;\n                } else {\n                    buyClass += \"cannotAfford \";\n                }\n            }\n            let costSymbol = \"\"\n            switch (item.costType) {\n                case \"knowledge\":\n                    costSymbol = HelperConst.knowledgeSymbolSpan();\n                    break;\n                default:\n                    costSymbol = HelperConst.moneySymbolSpan();\n                    break;\n            }\n\n            let bgAnim = buyPct<100 ? \"upgAnim \" : \"\";\n            const buyPctStyle = { width: buyPct + '%' }\n\n            return (\n                <div key={n + \"upgrade\"} className={\"upgrade \"+bgClass} >\n                    <div className={\"upgrade-buy-progress \" + bgClass}>\n                        <div className={\"upgrade-buy-progress-pct \" + bgClass + bgAnim} style={buyPctStyle}>\n                            <span ></span>\n                        </div>\n                    </div>\n                    <button\n                        key={n + \"button\"}\n                        className={\"upgrade-buy \" + buyClass + bgClass}\n                        onClick={() => this.props.onClick(item)}\n                        disabled={buttonDisabled}>\n                        {n}\n                    </button>\n                    <div key={n + \"upgrade-reward\"} className=\"upgrade-reward\">\n                        {this.props.businesses[item.rewardTarget].name} x{item.rewardValue}\n                    </div>\n                    <div key={n + \"upgrade-cost-wrapper\"} className={\"upgrade-cost-wrapper \" + buyClass +bgClass} >\n                        {costSymbol}{HelperConst.showNum(item.costValue)}\n                    </div>\n                </div >\n            )\n\n        });\n\n        return (\n                <ScrollBar permanentTrackY={true} className=\"upgrade-container\">\n                    {rows}\n                </ScrollBar>\n        )\n\n    }\n\n}","import React from 'react';\n// import ComputeFunc from './ComputeFunc';\n// import HelperConst from './HelperConst';\nimport './styles/fonts.css';\nimport './styles/colors.scss';\n// import HelperConst from './HelperConst';\n// const mylog = HelperConst.DebugLog;\n\n\nexport default class Announce extends React.Component {\n\n    render() {\n        const rows = this.props.announcements.map((item, index) => {\n            const annClass = (item.ack) ? \"announce-fadeout\" : \"\"\n            return (\n                <div\n                    className={\"announcement \" + annClass}\n                    key={item.id}\n                    onClick={() => this.props.onClick(item)}                >\n                    <span className=\"announce-text\">{item.text}</span>\n                </div>\n            )\n        })\n\n        return (\n            <div className=\"announce-container\" >\n                {rows}\n            </div>\n        )\n    }\n\n}","import React from 'react';\nimport Slider from 'rc-slider';\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst MyRange = createSliderWithTooltip(Slider.Range);\nconst MySlider = createSliderWithTooltip(Slider);\n\nexport default class Sliders {\n\n    static sliderMarks = {\n        0: '0',\n        25: '25%',\n        50: '50%',\n        75: '75%',\n        100: '100%'\n    };\n\n    static getRangeValues(n) {\n        if (n === 2) {\n            return ({\n                probeSpendPct: 100,\n                rangeCt: 2,\n                distribRange: [0, 50, 100],\n                handleStyle: [\n                    { backgroundColor: 'gold', border: '0', height: '0px', width: '0px', },\n                    { backgroundColor: 'gold', border: '0', },\n                    { backgroundColor: 'cyan', border: '0', height: '0px', width: '0px', },\n                ],\n                trackStyle: [\n                    { backgroundColor: 'gold' },\n                    { backgroundColor: 'cyan' },\n                ],\n                railStyle: { backgroundColor: 'blue' },\n\n            })\n        } else if (n === 3) {\n            return ({\n                probeSpendPct: 100,\n                rangeCt: 3,\n                distribRange: [0, 33, 66, 100],\n                handleStyle: [\n                    { backgroundColor: 'gold', border: '0', height: '0px', width: '0px', },\n                    { backgroundColor: 'gold', border: '0', },\n                    { backgroundColor: 'cyan', border: '0', },\n                    { backgroundColor: 'red', border: '0', height: '0px', width: '0px', },\n                ],\n                trackStyle: [\n                    { backgroundColor: 'gold' },\n                    { backgroundColor: 'cyan' },\n                    { backgroundColor: 'red' },\n                ],\n                railStyle: { backgroundColor: 'red' },\n            })\n        }\n    }\n\n    static getSlider(props, sliderCallback) {\n        return (\n            <MySlider\n                // count={1}\n                min={5}\n                max={100}\n                value={props.probeSpendPct}\n                marks={this.sliderMarks}\n                step={5}\n                onChange={sliderCallback}\n                defaultValue={5}\n                trackStyle={[\n                    { backgroundColor: '#1A8A09' },\n                    { backgroundColor: '#555' },\n                ]}\n                handleStyle={[\n                    // { backgroundColor: '#1A8A09', border: '0', },\n                    { backgroundColor: '#1A8A09', border: '0', },\n                    { backgroundColor: '#555', border: '0', },\n                ]}\n                dotStyle={{\n                    backgroundColor: '#bbb',\n                    border: '0',\n                    width: '4px',\n                }}\n                activeDotStyle={{\n                    backgroundColor: '#1A8A09',\n                    border: '0',\n                    width: '4px',\n                }}\n                allowCross={false}\n                // pushable={true}\n                tipFormatter={value => value + \"%\"}\n                tipProps={{ placement: 'bottom' }}\n            />\n        )\n    }\n\n    static getRange(props, rangeCallback) {\n        return (\n            <MyRange\n                count={props.rangeSettings.rangeCt}\n                min={0}\n                max={100}\n                step={2}\n                marks={this.sliderMarks}\n                onChange={rangeCallback}\n                defaultValue={props.rangeSettings.distribRange}\n                value={props.rangeSettings.distribRange}\n                trackStyle={props.rangeSettings.trackStyle}\n                handleStyle={props.rangeSettings.handleStyle}\n                railStyle={props.rangeSettings.railStyle}\n                dotStyle={{\n                    backgroundColor: '#bbb',\n                    border: '0',\n                    width: '4px',\n                }}\n                allowCross={false}\n                pushable={false}\n                tipFormatter={value => value + \"%\"}\n                tipProps={{ placement: 'bottom' }}\n            />\n        )\n    }\n\n}","import React from 'react';\n// import ReactDOM from 'react-dom'\nimport update from 'immutability-helper';\nimport Dropdown from 'react-dropdown';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n// import Slider from 'rc-slider';\n\n// import { compress as lzStringCompress, decompress as lzStringDecompresss } from 'lz-string';\nimport { compress as lzStringCompress } from 'lz-string';\n\nimport './styles/fonts.css';\nimport './styles/index.scss';\nimport './styles/dropdown.scss';\nimport './styles/effects.scss';\nimport './styles/space.scss';\nimport 'rc-slider/assets/index.css';\n\nimport Space from './Space';\nimport Income from './Income';\nimport Business from './Business.js';\nimport Probe from './Probe.js';\nimport NeumannInit from './objInit/NeumannInit';\nimport ComputeFunc from './ComputeFunc';\nimport HelperConst from './HelperConst';\nimport Upgrades from './Upgrades';\nimport Announce from './Announce';\nimport Sliders from './Sliders';\n\nconst Decimal = require('decimal.js');\nconst mylog = HelperConst.DebugLog;\n\n// =====================================================\nexport default class Neumann extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = { ...NeumannInit.freshState() };\n        this.userSettings = { ...NeumannInit.userSettings() };\n\n        this.timeInterval = 100;\n        this.timeMultiplier = this.timeInterval / 1000;\n\n        this.announceCt = 0;\n        this.overlayCt = 0;\n\n        this.gameIntervalId = null;\n        this.prestigeIntervalId = null;\n        this.gameSaveIntervalId = null;\n\n        this.domRefs = [];\n        this.purchaseAmt = \"1\";\n        this.tabIndex = 0;\n\n        // this.probe = new Probe(new Decimal(0), 0, 0, 0);\n        this.zoomLevel = 0;\n        this.zoomName = HelperConst.spaceZoomLevelNames[0];\n        this.mapDistance = HelperConst.spaceZoomLevels[0];\n\n        this.sliderInfo = {\n            rangeSettings: Sliders.getRangeValues(2),\n            probePcts: [50, 50, 0],\n            probeSpendPct: 100,\n        }\n\n        // this._business = React.createRef();\n        this.populateBusDomRefs = this.populateDomRefs.bind(this);\n        this.restart = this.restart.bind(this);\n        this.resetAll = this.resetAll.bind(this);\n        this.pause = this.pause.bind(this);\n        this.resume = this.resume.bind(this);\n        this.saveGame = this.saveGame.bind(this);\n        this.prestige = this.prestige.bind(this);\n        this.updatePrestigeEarned = this.updatePrestigeEarned.bind(this);\n        this.updateGame = this.updateGame.bind(this);\n        this.clickBusiness = this.clickBusiness.bind(this);\n        this.clickUpgrade = this.clickUpgrade.bind(this);\n        this.clickAnnouncement = this.clickAnnouncement.bind(this);\n        this.purchaseAmtDropDownHandler = this.purchaseAmtDropDownHandler.bind(this);\n        this.announce = this.announce.bind(this);\n        this.probeTestNextZoom = this.probeTestNextZoom.bind(this);\n        this.sliderChange = this.sliderChange.bind(this);\n        this.rangeChange = this.rangeChange.bind(this);\n        this.purchaseProbe = this.purchaseProbe.bind(this);\n\n\n        /* cheats */\n        this.prestigeCheat = this.prestigeCheat.bind(this);\n        this.cheatPrestigeVal = \"1e9\";\n\n    }\n\n    setTitle() {\n        document.title = \"NEUMANN $\"\n            + HelperConst.showNum(this.userSettings.money)\n            + \" \" + this.state.version;\n    }\n\n    componentDidMount() {\n        mylog(\"game didmount\");\n        this.resetAll();\n\n        mylog(HelperConst.purchaseOptsSpecial);\n        mylog(HelperConst.spaceZoomLevels.map(n => HelperConst.showInt(n)));\n    }\n\n    componentWillUnmount() {\n        mylog(\"game willunmount\");\n        clearInterval(this.gameIntervalId);\n        clearInterval(this.prestigeIntervalId);\n        clearInterval(this.gameSaveIntervalId);\n    }\n\n    componentDidUpdate() {\n        // mylog(\"game didupdate\");\n\n    }\n\n    populateDomRefs() {\n        this.state.businesses.forEach((bus) => {\n            mylog(\"creating domRef for\", bus.name);\n            this.domRefs.push({ name: bus.name, domRef: React.createRef() });\n        });\n        this.probeDivRef = React.createRef();\n        this.pulseRef = null;\n        this.innerEllipseRef = null;\n        this.outerEllipseRef = null;\n        this.centerPlanetRef = null;\n        mylog(\"populated domRefs:\", this.domRefs);\n    }\n\n    resetAll() {\n        this.pause();\n        this.setState((state, props) => ({\n            ...NeumannInit.freshState()\n        }));\n        this.userSettings = { ...NeumannInit.userSettings() };\n        this.announceCt = 0;\n        this.populateDomRefs();\n        this.outerEllipseMoving = false;\n        this.pulseMoving = false;\n        this.zoomLevel = 0;\n        this.zoomName = HelperConst.spaceZoomLevelNames[0];\n        this.mapDistance = HelperConst.spaceZoomLevels[0];\n        this.resume();\n    }\n\n    restart() {\n        this.pause();\n        this.setState((state, props) => ({\n            ...NeumannInit.freshState()\n        }));\n        this.userSettings = { ...NeumannInit.userSettings() };\n        this.populateDomRefs();\n        this.zoomLevel = 0;\n        this.zoomName = HelperConst.spaceZoomLevelNames[0];\n        this.mapDistance = HelperConst.spaceZoomLevels[0];\n        this.resume();\n    }\n\n    pause() {\n        if (this.gameIntervalId) {\n            clearInterval(this.gameIntervalId);\n            delete (this.gameIntervalId);\n        }\n        if (this.prestigeIntervalId) {\n            clearInterval(this.prestigeIntervalId);\n            delete (this.prestigeIntervalId)\n        }\n        if (this.gameSaveIntervalId) {\n            clearInterval(this.gameSaveIntervalId);\n            delete (this.gameSaveIntervalId)\n        }\n    }\n\n    resume() {\n        if (!this.gameIntervalId) {\n            this.gameIntervalId = setInterval(this.updateGame, this.timeInterval);\n        }\n        if (!this.prestigeIntervalId) {\n            this.prestigeIntervalId = setInterval(this.updatePrestigeEarned, 1000);\n        }\n        if (!this.gameSaveIntervalId) {\n            // this.gameSaveIntervalId = setInterval(this.saveGame, 10000);\n        }\n\n    }\n\n    loadGame() {\n\n    }\n\n    saveGame() {\n        const saveString = lzStringCompress(JSON.stringify(this.state));\n        mylog(\"saveString length:\", saveString.length);\n        localStorage.setItem('neumann_game_save_time', Date.now());\n        localStorage.setItem('neumann_game_save', saveString);\n        // mylog(\"saveString:\",saveString);\n        // mylog(\"retrieve jeff cookie:\", cookie.load('jeff'));\n        // // mylog(\"retrieve money cookie:\", cookie.load('money'));\n        // mylog(\"retrieve businesses cookie:\", cookie.load('businesses'));\n\n        this.announce(\"game saved\");\n    }\n\n    updatePrestigeEarned() {\n        // const newPrestigeNext = ComputeFunc.calcPrestigeEarned(this.userSettings.lifetimeEarnings);\n        const newPrestigeNext = ComputeFunc.calcPrestigeEarnedFromMax(this.userSettings.curMaxMoney).minus(this.userSettings.prestige.num);\n        if (newPrestigeNext.gt(0) && !newPrestigeNext.eq(this.userSettings.prestigeNext)) {\n            // mylog(\"newPrestigeNext:\",newPrestigeNext.toFixed(9),\"prestigeNext:\",this.userSettings.prestigeNext.toFixed(9));\n            this.setState({\n                prestigeNext: newPrestigeNext,\n            })\n        }\n        // mylog(\"maxMoney:\",this.userSettings.curMaxMoney.toFixed());\n        // mylog(\"lifetime:\",this.userSettings.lifetimeEarnings.toFixed(),\"  newprestige:\",newPrestigeNext.toFixed());\n        // mylog(Decimal.sqrt(this.userSettings.lifetimeEarnings.div(Math.pow(10, 6))).times(150));\n    }\n\n    prestige() {\n        if (this.userSettings.prestigeNext.gt(0)) {\n            this.updatePrestigeEarned();\n            const newPrestige = this.userSettings.prestige.num.plus(this.userSettings.prestigeNext);\n            this.restart();\n            this.setState((state) => ({\n                prestige: { num: newPrestige, val: state.prestige.val },\n            }));\n        }\n    }\n\n    purchaseAmtDropDownHandler(amt) {\n        this.updatePurchaseAmt(amt.value);\n    }\n\n    updatePurchaseAmt(amt) {\n        mylog(\"received new purchaseAmt:\", amt);\n        if (HelperConst.purchaseOpts.indexOf(amt) !== -1 && this.purchaseAmt !== amt) {\n            this.purchaseAmt = amt;\n            mylog(\"new purchaseAmt:\", amt);\n        }\n        // mylog(this.state.businesses);\n        // mylog(this.state.businesses[0]);\n        // mylog(ComputeFunc.maxBuy(this.state.businesses[0], this.userSettings.money).max25);\n    }\n\n    prestigeCheat() {\n        mylog(\"CHEAT: adding\", this.cheatPrestigeVal, \"prestige\");\n        this.userSettings.prestige.num = this.userSettings.prestige.num.plus(this.cheatPrestigeVal);\n    }\n\n\n    incrementBusinessCounters() {\n        let changed = false;\n        const newBusinesses = this.state.businesses.map(item => {\n            let b = this.userSettings.busStats[item.id];\n            let newItem = { ...item };\n            if (b.owned === 0) {\n                if (b.revealed && item.timeCounter !== 0) {\n                    newItem.timeCounter = 0;\n                    changed = true;\n                    mylog(\"resetting \", item.name, \" to timeCounter \", newItem.timeCounter);\n                }\n            } else {\n                newItem.payout = false;\n                newItem.timeCounter = newItem.timeCounter + this.timeMultiplier;\n                if (newItem.timeCounter >= b.timeAdj) {\n                    newItem.payout = true;\n                    newItem.timeCounter = 0;\n                }\n                changed = true;\n                // mylog(newItem.name, \" timeCounter:\", newItem.timeCounter, \" payout:\",newItem.payout);\n            }\n\n            // overlays\n            const activeOverlays = newItem.overlays.filter(o => o.counter < o.expire);\n            // const activeOverlays = newItem.overlays.filter(o => o.counter >= 0);\n\n            newItem.overlays = activeOverlays.map((o, i) => {\n                o.counter = o.counter + this.timeMultiplier;\n                // mylog(\"o.counter: #\" + i, o.counter);\n                return o;\n            })\n            // newItem.overlays.length > 0 && mylog(item.name,\"overlays:\", newItem.overlays.length);\n            return newItem;\n        });\n        if (changed) {\n            this.setState((state) => ({\n                businesses: newBusinesses,\n            }))\n        }\n    }\n\n    incrementProbeDistance() {\n        this.userSettings.probe.update(this.timeMultiplier);\n        // this.setState((state, props) => ({\n        //     probeDistance: state.probeDistance.plus(this.mapDistance.times(.001))\n        // }));\n        // const conv = ComputeFunc.convertDistanceToSpace(this.state.probeDistance);\n        // mylog(\"convertDistanceToSpace:\",conv.idx,conv.dist.toNumber());\n\n        const conv = ComputeFunc.convertDistanceToSpace(this.userSettings.probe.distance);\n        this.mapDistance = conv.dist;\n        this.zoomLevel = conv.idx;\n        this.zoomName = conv.name;\n    }\n\n    incrementAnnouncementCounters() {\n        const valid = this.state.announcements.reduce((result, item) => {\n            if (!item.ack || (item.ack && item.counter < item.fadeout)) {\n                result.push(item);\n            }\n            return result;\n        }, []);\n        // mylog(\"valid:\", valid);\n        const newAnnouncements = valid.map(item => {\n            let newAnn = { ...item };\n            newAnn.counter += this.timeMultiplier;\n            if (newAnn.counter >= newAnn.expire) {\n                newAnn.ack = true;\n                newAnn.counter = 0;\n            }\n            return newAnn;\n        });\n        // mylog(\"newAnnouncements:\", newAnnouncements);\n        this.setState((state) => ({\n            announcements: newAnnouncements,\n        }))\n    }\n\n\n    clickBusiness(bus) {\n        mylog(\"business click \", bus.name);\n        const busCost = ComputeFunc.getCost(bus, this.userSettings.busStats[bus.id], this.purchaseAmt, this.userSettings.money);\n        this.userSettings.money = this.userSettings.money.minus(busCost.cost);\n        let b = this.userSettings.busStats[bus.id];\n        b.owned += busCost.num;\n        mylog(bus.name, \"owned set to\", b.owned);\n\n        // add overlays\n        let newBusinesses = this.state.businesses.map(item => {\n            b = this.userSettings.busStats[item.id];\n            let newItem = { ...item };\n            if (newItem.id === bus.id) {\n                let bonusArr = [];\n                const ownedMilestones = ComputeFunc.getOwnedMilestonesAttained(b.owned, b.owned + busCost.num);\n                let busMult = 1;\n                ownedMilestones.forEach((milestone) => {\n                    busMult *= 2;\n                });\n                (busMult > 1) && bonusArr.push(this.genOverlayObj(\"X\" + busMult + \"!\", \"ownedBonus\"));\n                newItem.overlays = this.genOverlayArr(item.overlays, \"+\" + busCost.num).concat(bonusArr);\n                mylog(\"adding\", busCost.num, \"to\", newItem.name);\n\n            }\n            return newItem;\n        });\n        /* for overlays */\n        this.setState((state, props) => ({\n            businesses: newBusinesses,\n        }))\n\n        /* total buy milestones */\n        const curIdx = ComputeFunc.getTotalMilestoneIdx(this.userSettings.buyMilestone);\n        const newLowest = Object.keys(this.userSettings.busStats).reduce((min, bus) =>\n            this.userSettings.busStats[bus].owned < min ? this.userSettings.busStats[bus].owned : min,\n            Number.MAX_SAFE_INTEGER);\n        const newIdx = ComputeFunc.getTotalMilestoneIdx(newLowest);\n        // mylog(\"newIdx:\",newIdx,\" curIdx:\",curIdx);\n\n        /* apply time modifiers if new total milestone reached */\n        if (newIdx > curIdx) {\n            this.userSettings.buyMilestone = ComputeFunc.getTotalMilestone(newIdx);\n            mylog(\"new owned milestone:\", this.userSettings.buyMilestone);\n            // update adjusted cycle time\n            this.state.businesses.forEach((item, idx) => {\n                this.userSettings.busStats[item.id].timeAdj = Business.getAdjustedTimeBase(item, newIdx);\n                mylog(this.state.businesses[idx].name, \"timeAdjusted now\", this.userSettings.busStats[item.id].timeAdj);\n            });\n            ComputeFunc.getTotalMilestonesAttained(curIdx, newIdx).forEach((num) => {\n                this.announce(\"All businesses at \" + num + \"! Speed Doubled!\");\n            })\n\n        }\n\n\n    }\n\n    clickUpgrade(upg) {\n        mylog(\"upgrade click \", upg.name);\n        this.userSettings.upgStats[upg.id].purchased = true;\n\n        switch (upg.costType) {\n            case \"money\":\n                this.userSettings.money = this.userSettings.money.minus(upg.costValue);\n                break;\n            case \"knowledge\":\n                this.userSettings.knowledge = this.userSettings.knowledge.minus(upg.costValue);\n                break;\n            default:\n                break;\n        }\n\n        switch (upg.rewardType) {\n            case \"upgradeMult\":\n                this.userSettings.busStats[upg.rewardTarget].payoutAdj *= upg.rewardValue;\n                this.addOverlay(upg.rewardTarget, \"x\" + upg.rewardValue)\n                mylog(this.state.businesses[upg.rewardTarget].name, \"received multiplier\", upg.rewardValue);\n                break;\n            default:\n                mylog(\"unknown rewardType\");\n                break;\n        }\n\n    }\n\n    clickAnnouncement(a) {\n        mylog(\"announcement click \", a.id, a.text);\n        const idx = this.state.announcements.findIndex(atest => atest.id === a.id);\n        this.setState({\n            announcements: update(this.state.announcements, {\n                [idx]: {\n                    ack: { $set: true },\n                    counter: { $set: 0 },\n                }\n            }),\n        });\n\n\n    }\n\n    announce(text) {\n        mylog(\"announce \", text);\n        const today = new Date();\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds() + \".\" + today.getMilliseconds();\n        this.setState((state) => ({\n            announcements: [...state.announcements, {\n                id: this.announceCt++,\n                createTime: time,\n                text: text,\n                counter: 0,\n                expire: 3,\n                fadeout: 0.4,\n                ack: false,\n            },],\n        }))\n    }\n\n    genOverlayObj(text, ovType = \"generic\") {\n        const xAdj = Math.floor((Math.random() * 40)) - 20;\n        const yAdj = Math.floor((Math.random() * 20)) - 10;\n        return {\n            id: \"overlay\" + this.overlayCt++,\n            expire: 1,\n            counter: 0,\n            ovType: ovType,\n            xTarget: xAdj,\n            yTarget: yAdj,\n            text: text,\n        }\n    }\n\n    genOverlayArr(origOverlay, text, ovType = \"generic\") {\n        mylog(\"addOverlay called:\", text);\n        return [...origOverlay, this.genOverlayObj(text, ovType)].slice(-4);\n    }\n\n    addOverlay(busIdx, text) {\n        const bus = this.state.businesses[busIdx];\n        mylog(\"addOverlay click \", text, bus.name);\n        this.setState((state, props) => ({\n            businesses: update(state.businesses, {\n                [busIdx]: {\n                    overlays: {\n                        $set: this.genOverlayArr(bus.overlays, text),\n                    }\n                },\n            }),\n        }));\n    }\n\n    changeTabs(idx) {\n        this.tabIndex = idx;\n    }\n\n    probeTestNextZoom() {\n        mylog(\"clicked probeTestNextZoom:\", ComputeFunc.getSpaceZoomLevelIdx(this.userSettings.probe.distance) + 1);\n        // this.setState((state, props) => ({\n        //     probeDistance: ComputeFunc.getSpaceZoomLevel(this.zoomLevel)\n        // }));\n    }\n\n    sliderChange(value) {\n        mylog(\"slider change:\", value);\n        this.sliderInfo.probeSpendPct = value;\n    }\n    rangeChange(value) {\n        // mylog(\"range change:\", value);\n        if (this.sliderInfo.rangeSettings.rangeCt === 2) {\n            this.sliderInfo.rangeSettings.distribRange = [0, value[1], 100];\n        } else if (this.sliderInfo.rangeSettings.rangeCt === 3) {\n            this.sliderInfo.rangeSettings.distribRange = [0, value[1], value[2], 100];\n        }\n        this.sliderInfo.probePcts = this.reportRangePcts();\n        // mylog(\"fixed range:\", this.distribRange);\n    }\n    reportRangePcts() {\n        let pSpeedPct, pQualityPct, pCombatPct = 0;\n        if (this.sliderInfo.rangeSettings.rangeCt === 2) {\n            pSpeedPct = Math.floor(this.sliderInfo.rangeSettings.distribRange[1]);\n            pQualityPct = 100 - pSpeedPct;\n\n        } else if (this.sliderInfo.rangeSettings.rangeCt === 3) {\n            pSpeedPct = Math.floor(this.sliderInfo.rangeSettings.distribRange[1]);\n            pQualityPct = Math.floor(this.sliderInfo.rangeSettings.distribRange[2] - pSpeedPct);\n            pCombatPct = 100 - (pSpeedPct + pQualityPct);\n        }\n        return [pSpeedPct, pQualityPct, pCombatPct];\n    }\n\n    purchaseProbe() {\n        const pCost = ComputeFunc.getPct(this.userSettings.money, this.sliderInfo.probeSpendPct);\n        const pcts = this.reportRangePcts();\n        mylog(\"probe cost:\", pCost.toNumber());\n        mylog(\"probe attrs - pSpeed:\", pcts[0], \"pQuality:\", pcts[1], \"pCombat:\", pcts[2]);\n        this.userSettings.probe = new Probe(pCost, pcts[0], pcts[1], pcts[2])\n\n        // test change to 3 settings\n        this.sliderInfo.rangeSettings = Sliders.getRangeValues(3);\n        this.sliderInfo.probePcts = this.reportRangePcts();\n    }\n\n    updateGame() {\n        this.incrementBusinessCounters();\n        this.incrementProbeDistance();\n        this.incrementAnnouncementCounters();\n\n        const payoutMoneyThisTick = ComputeFunc.totalPayout(this.state.businesses, this.userSettings.busStats, this.userSettings.prestige);\n        this.userSettings.lifetimeEarnings = this.userSettings.lifetimeEarnings.plus(payoutMoneyThisTick);\n        // mylog(\"payoutMoneyThisTick:\",payoutMoneyThisTick.toFixed());\n\n        // const payoutKnowledgeThisTick = ComputeFunc.totalPayout(this.state.probes, this.userSettings.prestige);\n        const payoutKnowledgeThisTick = new Decimal(0);\n\n        /* reveal businesses if money reached */\n        this.state.businesses.forEach(item => {\n            let b = this.userSettings.busStats[item.id];\n            if (!b.revealed) {\n                if (item.costType === \"money\" && item.initialVisible.lte(this.userSettings.money)) {\n                    b.revealed = true;\n                    mylog(\"revealed business\", item.name);\n                };\n                if (item.costType === \"knowledge\" && item.initialVisible.lte(this.userSettings.knowledge)) {\n                    b.revealed = true;\n                    mylog(\"revealed business\", item.name);\n                };\n            }\n        })\n        /* reveal upgrades if resource reached */\n        this.state.upgrades.forEach(item => {\n            let u = this.userSettings.upgStats[item.id];\n            if (!u.revealed) {\n                if (item.watchType === \"money\" && item.watchValue.lte(this.userSettings.money)) {\n                    u.revealed = true;\n                    mylog(\"revealed upgrade\", item.name);\n                };\n                if (item.watchType === \"knowledge\" && item.watchValue.lte(this.userSettings.knowledge)) {\n                    u.revealed = true;\n                    mylog(\"revealed upgrade\", item.name);\n                };\n            }\n        });\n\n        this.userSettings.money = this.userSettings.money.plus(payoutMoneyThisTick);\n        if (this.userSettings.money.gt(this.userSettings.curMaxMoney)) {\n            this.userSettings.curMaxMoney = this.userSettings.money;\n        }\n        this.userSettings.knowledge = this.userSettings.knowledge.plus(payoutKnowledgeThisTick);\n\n        this.setTitle();\n    }\n\n    render() {\n        let probeattribs;\n        if (this.sliderInfo.rangeSettings.rangeCt === 2) {\n            probeattribs =\n                <div className=\"probe-attribs\">\n                    <div className=\"probe-attrib speed-header\">Speed</div>\n                    <div className=\"probe-attrib quality-header\">Quality</div>\n                    <div></div>\n                    <div className=\"probe-attrib probe-speed\">{this.sliderInfo.probePcts[0]}%</div>\n                    <div className=\"probe-attrib probe-quality\">{this.sliderInfo.probePcts[1]}%</div>\n                    <div></div>\n                </div>\n        } else {\n            probeattribs =\n                <div className=\"probe-attribs\">\n                    <div className=\"probe-attrib speed-header\">Speed</div>\n                    <div className=\"probe-attrib quality-header\">Quality</div>\n                    <div className=\"probe-attrib combat-header\">Combat</div>\n                    <div className=\"probe-attrib probe-speed\">{this.sliderInfo.probePcts[0]}%</div>\n                    <div className=\"probe-attrib probe-quality\">{this.sliderInfo.probePcts[1]}%</div>\n                    <div className=\"probe-attrib probe-combat\">{this.sliderInfo.probePcts[2]}%</div>\n                </div>\n        }\n        let debugButtons;\n        if (HelperConst.DEBUG) {\n            debugButtons =\n                <div className=\"debugButtons\">\n                    <button className=\"testbutton pause-button\" onClick={this.pause}>Pause</button>\n                    <button className=\"testbutton pause-button\" onClick={this.resume}>Resume</button>\n                    <button className=\"testbutton reset-button\" onClick={this.resetAll}>RESET</button>\n                    <button\n                        className=\"testbutton prestige-button\"\n                        disabled={this.userSettings.prestigeNext.gt(0) ? false : true}\n                        onClick={this.prestige}>Prestige</button>\n                    <button className=\"testbutton test-give-prestige\"\n                        onClick={this.prestigeCheat}>+{this.cheatPrestigeVal} prestige</button>\n                    {/* <button className=\"testbutton announce-button\" onClick={() => this.announce(\"great job winning!  oh boy this is just super.\")}>Announce</button>\n                    <button className=\"testbutton overlay-button\" onClick={() => this.addOverlay(0, \"X2\")}>Odd Jobs Overlay</button>\n                    <button className=\"testbutton overlay-button\" onClick={() => this.addOverlay(1, \"X2\")}>Newspaper Overlay</button>\n                    <button className=\"testbutton ref-button\" onClick={() => mylog(\"domRef:\", this.state.businesses[0].domRef)}>Odd Job domRef</button>\n                    <button className=\"testbutton ref-button\" onClick={() => mylog(\"domRef2:\", this.state.businesses[1].domRef)}>Newspaper domRef</button>\n                    <button className=\"testbutton ref-button\" onClick={() => mylog(\"getRect:\", Business.getPosition(this.state.businesses[0].domRef))}>getRect</button> */}\n\n                    <button className=\"testbutton save-button\" onClick={this.saveGame}>SAVE</button>\n                    <h3>Zoom Index: {this.zoomLevel}</h3><br />\n                    <button\n                        className=\"testbutton space-button\"\n                        onClick={this.probeTestNextZoom}>\n                        Space Zoom\n                    </button>\n\n                </div>\n        }\n\n\n        return (\n            <div id=\"wrapper\">\n                <div id=\"header\">\n\n                    <Income\n                        knowledge={this.userSettings.knowledge}\n                        businesses={this.state.businesses}\n                        userSettings={this.userSettings}\n                    />\n\n                </div>\n\n                <Tabs\n                    className=\"react-tabs-container\"\n                    selectedIndex={this.tabIndex}\n                    onSelect={idx => this.changeTabs(idx)}>\n\n                    <div id=\"tabs\">\n                        <TabList className=\"tab-list\">\n                            <Tab className=\"tab-list-item\">Businesses</Tab>\n                            <Tab className=\"tab-list-item\">Probes</Tab>\n                        </TabList>\n                    </div>\n\n                    <TabPanel className=\"react-tabs__tab-panel main-tab-panel\">\n\n                        <div className=\"left-sidebar\">\n\n                            <Upgrades\n                                upgrades={this.state.upgrades}\n                                businesses={this.state.businesses}\n                                userSettings={this.userSettings}\n                                onClick={this.clickUpgrade}\n                            />\n\n                        </div>\n                        <div id=\"right-sidebar\">\n\n\n                            <div className=\"purchaseAmts\">\n\n                                <span className=\"buyx-prefix\">Buy {HelperConst.multiplySymbol}</span>\n                                <Dropdown\n                                    options={HelperConst.purchaseOpts}\n                                    onChange={this.purchaseAmtDropDownHandler}\n                                    value={this.purchaseAmt}\n                                    placeholder=\"Select an option\" />\n                            </div>\n\n                            {debugButtons}\n                        </div>\n\n                        <div id=\"content\">\n                            <div className=\"container\">\n\n                                <Business\n                                    businesses={this.state.businesses}\n                                    userSettings={this.userSettings}\n                                    purchaseAmt={this.purchaseAmt}\n                                    onClick={this.clickBusiness}\n                                    domRefs={this.domRefs}\n                                />\n\n\n                            </div>\n\n                        </div>\n\n                    </TabPanel>\n\n                    <TabPanel className=\"react-tabs__tab-panel probe-tab-panel\">\n\n                        <div id=\"right-sidebar\">\n\n                            {debugButtons}\n\n                            <span className=\"probe-prod-span\">Probe Production</span>\n                            <div className=\"sliderHeader\">Fund: ${HelperConst.showNum(ComputeFunc.getPct(this.userSettings.money, this.sliderInfo.probeSpendPct))}</div>\n                            <div className=\"sliderContainer\">\n                                {Sliders.getSlider(this.sliderInfo, this.sliderChange)}\n\n                            </div>\n                            <div className=\"sliderHeader\">Distribute Funds</div>\n                            <div className=\"sliderContainer\">\n                                {Sliders.getRange(this.sliderInfo, this.rangeChange)}\n\n                            </div>\n                            {probeattribs}\n                            <button className=\"testbutton purchase-button\" onClick={this.purchaseProbe}>Purchase Probe</button>\n                        </div>\n\n                        <Space\n                            probe={this.userSettings.probe}\n                            mapDistance={this.mapDistance}\n                            timeMultiplier={this.timeMultiplier}\n                            zoomLevel={this.zoomLevel}\n                            zoomName={this.zoomName}\n                        />\n\n                    </TabPanel>\n\n                </Tabs>\n\n                <div id=\"footer\">\n\n                    v. 0.0.1\n\n                </div>\n\n                <div id=\"announcements\">\n                    <Announce\n                        announcements={this.state.announcements}\n                        onClick={this.clickAnnouncement}\n                    />\n                </div>\n            </div>\n\n        )\n    }\n\n\n\n\n}\n\n// =====================================================\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Neumann from './Neumann';\n\n\n// =====================================================\n\n\n// =====================================================\n\nReactDOM.render(<Neumann />, document.getElementById(\"root\"));\n\n"],"sourceRoot":""}