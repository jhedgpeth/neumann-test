(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},27:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),i=a.n(r),o=a(26),c=a(14),u=a(5),l=a(2),m=a(4),d=a(7),p=a(6),y=a(3),h=a(8),g=a(15),w=a.n(g),v=a(21),b=a.n(v),f=(a(11),a(33),a(34),a(13)),k=a(12),E=a(40),N=function(){function e(){Object(l.a)(this,e)}return Object(m.a)(e,null,[{key:"moneySymbolSpan",value:function(){return s.a.createElement("span",{className:"moneySymbol"},this.moneySymbol)}},{key:"knowledgeSymbolSpan",value:function(){return s.a.createElement("span",{className:"knowledgeSymbol"},this.knowledgeSymbol)}},{key:"prestigeSymbolSpan",value:function(){return s.a.createElement("span",{className:"prestigeSymbol"},this.prestigeSymbol)}},{key:"multiplySymbolSpan",value:function(){return s.a.createElement("span",{className:"multiplySymbol"},this.multiplySymbol)}},{key:"showNum",value:function(t){return e.myFormatterNum().format(t)}},{key:"showInt",value:function(t){return e.myFormatterInt().format(t)}},{key:"myNumCfg",value:function(){return{backend:"decimal.js",sigfigs:4,maxSmall:100,format:"engineering",Decimal:k}}},{key:"myIntCfg",value:function(){return{backend:"decimal.js",sigfigs:4,maxSmall:0,format:"engineering",Decimal:k}}},{key:"myFormatterNum",value:function(){return this.myNumFormat||(console.log("entered defining area"),this.myNumFormat=new E.Formatter(e.myNumCfg())),this.myNumFormat}},{key:"myFormatterInt",value:function(){return this.myIntFormat||(this.myIntFormat=new E.Formatter(e.myIntCfg())),this.myIntFormat}}]),e}();N.moneySymbol="$",N.knowledgeSymbol="\u29a8",N.prestigeSymbol="\u039b",N.multiplySymbol="\u2a2f",N.thumbsUpSymbol="\ud83d\udc4d",N.purchaseOpts=["1","10","25","100","Max","Max OCD","Max Upg","PrimeTime"],N.purchaseOptsNum=N.purchaseOpts.filter(function(e){return e.match(/\d/)}),N.purchaseOptsSpecial=N.purchaseOpts.filter(function(e){return!e.match(/\d/)}),N.timeMilestones=[1,10,25,50];var S=a(12),T=function(){function e(){Object(l.a)(this,e)}return Object(m.a)(e,null,[{key:"availMaxUpgrade",value:function(e,t){var a=e+t;if(a>=100){var n=100*Math.floor(a/100);return n<=e?n+100:n}return a>=50?e>=50?100:50:e>=25?50:25}},{key:"timeMilestoneIdx",value:function(e){var t=-1;N.timeMilestones.forEach(function(a,n){e>=a&&(t=n)});var a=Math.floor(e/100);return t+a}},{key:"getMilestone",value:function(e){var t=N.timeMilestones.length-1;return e<=t?N.timeMilestones[e]:100*(e-t)}},{key:"affordable",value:function(e,t,a){return!("money"!==e.watchType||!e.watchValue.lte(t))||(!("knowledge"!==e.watchType||!e.watchValue.lte(a))||void 0)}},{key:"buyPct",value:function(e,t){var a=t.div(e).times(100).toNumber();return a>100?100:a}},{key:"earnPct",value:function(e){return e.timeAdjusted<.2||e.timeAdjusted-e.timeCounter<.1?100:e.timeCounter/e.timeAdjusted*100}},{key:"computePayoutValueMoney",value:function(e,t){var a=Math.floor(e.owned/25),n=a>2?2:a,s=Math.floor(e.owned/100),r=t.num.times(t.val).div(100).plus(1);return new S(e.incomeBase.times(e.owned).times(Math.pow(2,n)).times(Math.pow(2,s)).times(e.upgradeMult).times(r))}},{key:"computePayoutValueKnowledge",value:function(e,t){return e.incomeBase.times(e.owned).times(e.upgradeMult)}},{key:"computeEarningPerSec",value:function(e,t){return"money"===e.incomeType?this.computePayoutValueMoney(e,t).div(e.timeAdjusted):this.computePayoutValueKnowledge(e,t).div(e.timeAdjusted)}},{key:"computeTotalEarningPerSec",value:function(e,t){var a=this,n=new S(0);return e.forEach(function(e){n=n.plus(a.computeEarningPerSec(e,t))}),n}},{key:"getPayoutMoney",value:function(e,t){return e.payout?this.computePayoutValueMoney(e,t):new S(0)}},{key:"getPayoutKnowledge",value:function(e,t){return this.computePayoutValueKnowledge(e,t)}},{key:"getPayout",value:function(e,t){return"money"===e.incomeType?this.getPayoutMoney(e,t):this.getPayoutKnowledge(e,t)}},{key:"totalPayout",value:function(t,a){var n=new S(0);return t.forEach(function(t){n=n.plus(e.getPayout(t,a))}),n}},{key:"getEarningPerTick",value:function(e,t){return e.times(t/1e3)}},{key:"getEarningPct",value:function(e,t){return e.div(t).times(100).toFixed(2)}},{key:"calcPrestigeEarned",value:function(e){return S.sqrt(e.div(Math.pow(10,9))).times(150).floor()}},{key:"getCost",value:function(e,t,a){var n=this.maxBuy(e,a),s=0;switch(t){case"Max":case"Max OCD":case"Max Upg":case"PrimeTime":s=n[t];break;default:s=t}return{num:parseInt(s,10),cost:e.costBase.times(Math.pow(e.costCoef,e.owned)*(Math.pow(e.costCoef,s)-1)).div(e.costCoef-1)}}},{key:"maxBuy",value:function(e,t){var a=parseInt(new S(t.times(e.costCoef-1).div(e.costBase.times(Math.pow(e.costCoef,e.owned)))).plus(1).log(e.costCoef).floor(),10),n=this.availMaxUpgrade(e.owned,a)-e.owned,s=25*Math.floor((a+e.owned)/25)-e.owned;s=s>=0?s:25-e.owned;var r=this.primeFactors(),i=0,o=e.owned+a;for(var c in r)if(o>=r[c]&&(i=r[c]),r[c]>o)break;return{Max:a>0?a:1,"Max OCD":s,"Max Upg":n,PrimeTime:i-=e.owned}}},{key:"nextPrime",value:function(e){var t=this.primeFactors();for(var a in t)if(t[a]>e)return t[a]}},{key:"primeFactors",value:function(){if(this.primes)return this.primes;var e=[];console.log("creating primes"),console.time("prime creation");var t,a,n=[];for(t=2;t<=25e3;++t)if(!n[t])for(e.push(t),a=t<<1;a<=25e3;a+=t)n[a]=!0;return this.primes=e,console.timeEnd("prime creation"),console.log("primes length: "+this.primes.length),this.primes}}]),e}(),j=(a(37),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=T.computeTotalEarningPerSec(this.props.businesses,this.props.prestige),t=T.computeTotalEarningPerSec(this.props.probes,this.props.prestige),a=this.props.prestige.num.times(this.props.prestige.val);return s.a.createElement("div",{className:"header-wrapper"},s.a.createElement("div",{className:"income"},s.a.createElement("div",{className:"income-header"},"Money:"),s.a.createElement("div",{className:"income-money"},N.moneySymbolSpan(),N.showNum(this.props.money)),s.a.createElement("div",{className:"income-earning"},"(+ ",N.moneySymbolSpan(),N.showNum(e),"/s)"),s.a.createElement("div",{className:"income-header"},"Knowledge:"),s.a.createElement("div",{className:"income-knowledge"},N.knowledgeSymbolSpan(),N.showNum(this.props.knowledge)),s.a.createElement("div",{className:"income-learning"},"(+ ",N.knowledgeSymbolSpan(),N.showNum(t),"/s)")),s.a.createElement("div",{className:"text-effect"},s.a.createElement("h1",{className:"neon","data-text":"NEUMANN"},"NEUMANN"),s.a.createElement("div",{className:"gradient"}),s.a.createElement("div",{className:"spotlight"})),s.a.createElement("div",{className:"prestige"},s.a.createElement("div",{className:"prestige-header"},"Prestige:"),s.a.createElement("div",{className:"prestige-units"},N.prestigeSymbolSpan(),N.showInt(this.props.prestige.num)),s.a.createElement("div",{className:"prestige-earning"},"(+ ",N.prestigeSymbolSpan(),N.showInt(this.props.prestigeNext),")"),s.a.createElement("div",{className:"prestige-header"},N.moneySymbolSpan(),"Boost:"),s.a.createElement("div",{className:"prestige-boost"},N.showInt(a),"%")))}}]),t}(s.a.Component)),C=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.businesses.reduce(function(e,t){return t.revealed&&e.push(t),e},[]),a=T.computeTotalEarningPerSec(this.props.businesses,this.props.prestige),n=t.map(function(t){var n=t.name,r=T.getCost(t,e.props.purchaseAmt,e.props.money),i={width:T.buyPct(r.cost,e.props.money)+"%"},o={width:T.earnPct(t)+"%"},c="",u="",l=!1;e.props.money.gte(r.cost)?(c="business-buy canAfford ",u="cost-wrapper canAfford "):(c="business-buy cannotAfford ",l=!0,u="cost-wrapper cannotAfford ");var m=T.computeEarningPerSec(t,e.props.prestige),d=T.computePayoutValueMoney(t,e.props.prestige),p=T.getEarningPct(m,a);return s.a.createElement("div",{key:n+"business",className:"business money "},s.a.createElement("div",{className:"business-buy-progress money "},s.a.createElement("div",{className:"business-buy-progress-pct money ",style:i},s.a.createElement("span",null))),s.a.createElement("div",{className:"business-earn-progress money "},s.a.createElement("div",{className:"business-earn-progress-pct money ",style:o},s.a.createElement("span",null))),s.a.createElement("button",{key:n+"button",className:c+"money ",onClick:function(){return e.props.onClick(t)},disabled:l},s.a.createElement("span",{className:"buyMultiple"},r.num,N.multiplySymbolSpan())," ",n),s.a.createElement("div",{key:n+"owned",className:"business-owned"},N.showInt(t.owned)),s.a.createElement("div",{key:n+"cost-wrapper",className:u},s.a.createElement("div",{key:n+"cost-money",className:"business-cost-money"},N.moneySymbolSpan(),N.showNum(r.cost))),s.a.createElement("div",{key:n+"earning-wrapper",className:"earning-wrapper"},s.a.createElement("div",{key:n+"revenue-total",className:"business-revenue-total"},"+",N.moneySymbolSpan(),N.showNum(d))),s.a.createElement("div",{key:n+"earning-pct-wrapper",className:"earning-pct-wrapper"},s.a.createElement("div",{key:n+"earning-pct",className:"earning-pct"},p,"%")))});return s.a.createElement("div",{className:"business-container"},n)}}],[{key:"applyMultiplier",value:function(e,t){return w()(e,{upgradeMult:{$set:e.upgradeMult*t}})}},{key:"getAdjustedTimeBase",value:function(e,t){var a=T.timeMilestoneIdx(t);return a>=0?e.timeBase/Math.pow(2,a):e.timeBase}}]),t}(s.a.Component),O=a(12);var A=a(12);var M=a(12);var V=a(12),I=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(s.a.Component);I.freshState=function(){return Object(u.a)({},I.coreObjOnly(),{purchaseAmt:"1",prestige:{num:new V(0),val:5},lifetimeEarnings:new V(0),lifetimeLearning:new V(0),tabIndex:0})},I.coreObjOnly=function(){return{money:new V(1),knowledge:new V(0),businesses:[{name:"Odd Jobs",desc:"desc1",owned:1,incomeType:"money",incomeBase:new O(1),costType:"money",costBase:new O(4),costCoef:1.07,timeBase:.6,timeAdjusted:.6,timeCounter:0,payout:!1,initialVisible:new O(1),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Newspaper Delivery",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(20),costType:"money",costBase:new O(60),costCoef:1.15,timeBase:3,timeAdjusted:3,timeCounter:0,payout:!1,initialVisible:new O(60),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Car Wash",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(90),costType:"money",costBase:new O(720),costCoef:1.14,timeBase:6,timeAdjusted:6,timeCounter:0,payout:!1,initialVisible:new O(540),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Pizza Delivery",desc:"desc1",owned:0,incomeType:"money",incomeBase:new O(360),costType:"money",costBase:new O(8640),costCoef:1.13,timeBase:12,timeAdjusted:12,timeCounter:0,payout:!1,initialVisible:new O(4320),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Donut Shop",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(2160),costType:"money",costBase:new O(103680),costCoef:1.12,timeBase:24,timeAdjusted:24,timeCounter:0,payout:!1,initialVisible:new O(51840),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Shrimp Boat",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(6480),costType:"money",costBase:new O(1244160),costCoef:1.11,timeBase:96,timeAdjusted:96,timeCounter:0,payout:!1,initialVisible:new O(622080),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Hockey Team",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(19440),costType:"money",costBase:new O(14929920),costCoef:1.1,timeBase:384,timeAdjusted:384,timeCounter:0,payout:!1,initialVisible:new O(7464960),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Movie Studio",desc:"desc1",owned:0,incomeType:"money",incomeBase:new O(58320),costType:"money",costBase:new O(179159040),costCoef:1.09,timeBase:1536,timeAdjusted:1536,timeCounter:0,payout:!1,initialVisible:new O(89579520),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Bank",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(174960),costType:"money",costBase:new O(2149908480),costCoef:1.08,timeBase:6144,timeAdjusted:6144,timeCounter:0,payout:!1,initialVisible:new O(1074954240),upgradeMult:1,upgradeAdd:0,revealed:!1},{name:"Oil Company",desc:"desc2",owned:0,incomeType:"money",incomeBase:new O(804816),costType:"money",costBase:new O(25798901760),costCoef:1.07,timeBase:36864,timeAdjusted:36864,timeCounter:0,payout:!1,initialVisible:new O(29668737024),upgradeMult:1,upgradeAdd:0,revealed:!1}],probes:[{name:"Probe1",desc:"desc1",owned:1,incomeType:"knowledge",incomeBase:new A(.05),costType:"knowledge",costBase:new A(4),costCoef:1.07,timeBase:1,timeAdjusted:1,initialVisible:new A(1),upgradeMult:1,upgradeAdd:0,revealed:!1}],upgrades:[{name:"New Shoes",watchType:"money",watchValue:new M(100),costType:"money",costValue:new M(500),rewardType:"upgradeMult",rewardTarget:"Odd Jobs",rewardValue:10,revealed:!1,purchased:!1},{name:"Auto Juicer",watchType:"money",watchValue:new M(1e3),costType:"money",costValue:new M(1e4),rewardType:"upgradeMult",rewardTarget:"Odd Jobs",rewardValue:10,revealed:!1,purchased:!1},{name:"Demographics",watchType:"knowledge",watchValue:new M(1),costType:"knowledge",costValue:new M(30),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1},{name:"Sweet Ride",watchType:"money",watchValue:new M(1e3),costType:"money",costValue:new M(1e4),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1},{name:"Advertising",watchType:"knowledge",watchValue:new M(30),costType:"knowledge",costValue:new M(200),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1},{name:"Bicycle with Basket",watchType:"money",watchValue:new M(1e4),costType:"money",costValue:new M(1e6),rewardType:"upgradeMult",rewardTarget:"Odd Jobs",rewardValue:10,revealed:!1,purchased:!1},{name:"Helper",watchType:"money",watchValue:new M(1e7),costType:"money",costValue:new M(1e8),rewardType:"upgradeMult",rewardTarget:"Odd Jobs",rewardValue:10,revealed:!1,purchased:!1},{name:"Demographics2",watchType:"knowledge",watchValue:new M(1e3),costType:"knowledge",costValue:new M(3e3),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1},{name:"Sweet Ride2",watchType:"money",watchValue:new M(1e7),costType:"money",costValue:new M(25e6),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1},{name:"Advertising2",watchType:"knowledge",watchValue:new M(1e4),costType:"knowledge",costValue:new M(25e3),rewardType:"upgradeMult",rewardTarget:"Newspaper Delivery",rewardValue:10,revealed:!1,purchased:!1}],prestigeNext:new V(0),timeMilestone:0,announcements:[]}};var B=a(24),P=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("upgrades didmount")}},{key:"componentWillUnmount",value:function(){console.log("upgrades willunmount")}},{key:"render",value:function(){var e=this,t=this.props.upgrades.reduce(function(e,t){return!t.purchased&&t.revealed&&e.push(t),e},[]).map(function(t){if(t.purchased||!t.revealed)return"";var a=t.name,n="",r=!0,i=0,o="";"money"===t.costType&&(o="money ",i=T.buyPct(t.costValue,e.props.money),e.props.money.gte(t.costValue)?(n+="canAfford ",r=!1):n+="cannotAfford "),"knowledge"===t.costType&&(o="knowledge ",i=T.buyPct(t.costValue,e.props.knowledge),e.props.knowledge.gte(t.costValue)?(n+="canAfford ",r=!1):n+="cannotAfford ");var c="";switch(t.costType){case"knowledge":c=N.knowledgeSymbolSpan();break;default:c=N.moneySymbolSpan()}var u=i<100?"upgAnim ":"",l={width:i+"%"};return s.a.createElement("div",{key:a+"upgrade",className:"upgrade "+o},s.a.createElement("div",{className:"upgrade-buy-progress "+o},s.a.createElement("div",{className:"upgrade-buy-progress-pct "+o+u,style:l},s.a.createElement("span",null))),s.a.createElement("button",{key:a+"button",className:"upgrade-buy "+n+o,onClick:function(){return e.props.onClick(t)},disabled:r},a),s.a.createElement("div",{key:a+"upgrade-reward",className:"upgrade-reward"},t.rewardTarget," x",t.rewardValue),s.a.createElement("div",{key:a+"upgrade-cost-wrapper",className:"upgrade-cost-wrapper "+n+o},c,N.showNum(t.costValue)))});return s.a.createElement(B.a,{permanentTrackY:!0,className:"upgrade-container"},t)}}]),t}(s.a.Component),x=(a(38),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.announcements.map(function(t,a){var n=t.ack?"announce-fadeout":"";return s.a.createElement("div",{className:"announcement "+n,key:t.id,onClick:function(){return e.props.onClick(t)}},s.a.createElement("span",{className:"announce-text"},t.text))});return s.a.createElement("div",{className:"announce-container"},t)}}]),t}(s.a.Component)),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state=Object(u.a)({},I.freshState()),a.timeInterval=100,a.timeMultiplier=a.timeInterval/1e3,a.announceCt=0,a.restart=a.restart.bind(Object(y.a)(a)),a.resetAll=a.resetAll.bind(Object(y.a)(a)),a.pause=a.pause.bind(Object(y.a)(a)),a.resume=a.resume.bind(Object(y.a)(a)),a.prestige=a.prestige.bind(Object(y.a)(a)),a.updatePrestigeEarned=a.updatePrestigeEarned.bind(Object(y.a)(a)),a.updateGame=a.updateGame.bind(Object(y.a)(a)),a.clickBusiness=a.clickBusiness.bind(Object(y.a)(a)),a.clickUpgrade=a.clickUpgrade.bind(Object(y.a)(a)),a.clickAnnouncement=a.clickAnnouncement.bind(Object(y.a)(a)),a.purchaseAmtDropDownHandler=a.purchaseAmtDropDownHandler.bind(Object(y.a)(a)),a.announce=a.announce.bind(Object(y.a)(a)),a.prestigeCheat=a.prestigeCheat.bind(Object(y.a)(a)),a.cheatPrestigeVal="1e9",a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("game didmount"),this.resetAll(),this.cleanState=Object(u.a)({},this.state),delete this.cleanState.purchaseAmt,console.log(N.purchaseOptsSpecial)}},{key:"componentWillUnmount",value:function(){console.log("game willunmount"),clearInterval(this.gameIntervalId),clearInterval(this.prestigeIntervalId)}},{key:"componentDidUpdate",value:function(){}},{key:"resetAll",value:function(){this.pause(),this.setState(function(e){return Object(u.a)({},I.freshState())}),this.announceCt=0,this.resume()}},{key:"restart",value:function(){this.pause(),this.setState(this.cleanState),this.setState(function(e){return Object(u.a)({},I.coreObjOnly())}),this.resume()}},{key:"pause",value:function(){this.gameIntervalId&&(clearInterval(this.gameIntervalId),delete this.gameIntervalId),this.prestigeIntervalId&&(clearInterval(this.prestigeIntervalId),delete this.prestigeIntervalId)}},{key:"resume",value:function(){this.gameIntervalId||(this.gameIntervalId=setInterval(this.updateGame,this.timeInterval)),this.prestigeIntervalId||(this.prestigeIntervalId=setInterval(this.updatePrestigeEarned,1e3)),this.bonusitvl=setInterval(this.announce("testing"),7e3)}},{key:"updatePrestigeEarned",value:function(){var e=T.calcPrestigeEarned(this.state.lifetimeEarnings);e!==this.state.prestigeNext&&this.setState({prestigeNext:e})}},{key:"prestige",value:function(){if(this.state.prestigeNext.gt(0)){this.updatePrestigeEarned();var e=this.state.prestige.num.plus(this.state.prestigeNext);this.restart(),this.setState(function(t){return{prestige:{num:e,val:t.prestige.val}}})}}},{key:"purchaseAmtDropDownHandler",value:function(e){this.updatePurchaseAmt(e.value)}},{key:"updatePurchaseAmt",value:function(e){console.log("received new purchaseAmt:",e),-1!==N.purchaseOpts.indexOf(e)&&this.state.purchaseAmt!==e&&(this.setState({purchaseAmt:e}),console.log("new purchaseAmt:",e))}},{key:"prestigeCheat",value:function(){var e=this;console.log("CHEAT: adding",this.cheatPrestigeVal,"prestige"),this.setState(function(t){return{prestige:{num:t.prestige.num.plus(e.cheatPrestigeVal),val:t.prestige.val}}})}},{key:"incrementBusinessCounters",value:function(){var e=this,t=!1,a=this.state.businesses.map(function(a){var n=Object(u.a)({},a);return 0===a.owned?a.revealed&&0!==a.timeCounter&&(n.timeCounter=0,t=!0,console.log("resetting ",a.name," to timeCounter ",n.timeCounter)):(n.payout=!1,n.timeCounter=n.timeCounter+e.timeMultiplier,n.timeCounter>=n.timeAdjusted&&(n.payout=!0,n.timeCounter=0),t=!0),n});t&&this.setState(function(e){return{businesses:a}})}},{key:"incrementAnnouncementCounters",value:function(){var e=this,t=this.state.announcements.reduce(function(e,t){return(!t.ack||t.ack&&t.counter<t.fadeout)&&e.push(t),e},[]).map(function(t){var a=Object(u.a)({},t);return a.counter+=e.timeMultiplier,a.counter>=a.expire&&(a.ack=!0,a.counter=0),a});this.setState(function(e){return{announcements:t}})}},{key:"updateGame",value:function(){var e=this;this.incrementBusinessCounters(),this.incrementAnnouncementCounters();var t=T.totalPayout(this.state.businesses,this.state.prestige),a=this.state.lifetimeEarnings.plus(t),n=T.totalPayout(this.state.probes,this.state.prestige),s=this.state.businesses.map(function(t){var a=Object(u.a)({},t);return t.revealed||("money"===t.costType&&t.initialVisible.lte(e.state.money)&&(a.revealed=!0,console.log("revealed business",t.name)),"knowledge"===t.costType&&t.initialVisible.lte(e.state.knowledge)&&(a.revealed=!0,console.log("revealed business",t.name))),a}),r=this.state.upgrades.map(function(t){var a=Object(u.a)({},t);return t.revealed||("money"===t.watchType&&t.watchValue.lte(e.state.money)&&(a.revealed=!0,console.log("revealed upgrade",t.name)),"knowledge"===t.watchType&&t.watchValue.lte(e.state.knowledge)&&(a.revealed=!0,console.log("revealed upgrade",t.name))),a});this.setState({money:this.state.money.plus(t),knowledge:this.state.knowledge.plus(n),businesses:s,upgrades:r,lifetimeEarnings:a})}},{key:"clickBusiness",value:function(e){console.log("business click ",e.name);var t=T.getCost(e,this.state.purchaseAmt,this.state.money),a=this.state.businesses.map(function(a){var n=Object(u.a)({},a);return n.name===e.name&&(n.owned+=t.num,console.log("adding",t.num,"to",n.name)),n});console.log(e.name,"owned set to",e.owned+t.num);var n=this.state.timeMilestone,s=T.timeMilestoneIdx(this.state.timeMilestone),r=a.reduce(function(e,t){return t.owned<e?t.owned:e},Number.MAX_SAFE_INTEGER),i=T.timeMilestoneIdx(r);i>s&&(n=T.getMilestone(i),console.log("new owned milestone:",n),a=a.map(function(e){var t=Object(u.a)({},e);return t.timeAdjusted=C.getAdjustedTimeBase(e,n),console.log(t.name,"timeAdjusted now",t.timeAdjusted),t})),this.setState(function(e,s){return{businesses:a,money:e.money.minus(t.cost),timeMilestone:n}})}},{key:"clickUpgrade",value:function(e){console.log("upgrade click ",e.name);var t=this.state.upgrades.findIndex(function(t){return t.name===e.name});switch(this.setState({upgrades:w()(this.state.upgrades,Object(c.a)({},t,{purchased:{$set:!0}}))}),e.costType){case"money":this.setState({money:this.state.money.minus(e.costValue)});break;case"knowledge":this.setState({knowledge:this.state.knowledge.minus(e.costValue)})}switch(e.rewardType){case"upgradeMult":var a=this.state.businesses.findIndex(function(t){return t.name===e.rewardTarget});this.setState({businesses:w()(this.state.businesses,Object(c.a)({},a,{$set:C.applyMultiplier(this.state.businesses[a],e.rewardValue)}))}),console.log(this.state.businesses[a].name,"received multiplier",e.rewardValue);break;default:console.log("unknown rewardType")}}},{key:"clickAnnouncement",value:function(e){console.log("announcement click ",e.id,e.text);var t=this.state.announcements.findIndex(function(t){return t.id===e.id});this.setState({announcements:w()(this.state.announcements,Object(c.a)({},t,{ack:{$set:!0},counter:{$set:0}}))})}},{key:"announce",value:function(e){var t=this;console.log("announce ",e);var a=new Date,n=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"."+a.getMilliseconds();this.setState(function(a){return{announcements:[].concat(Object(o.a)(a.announcements),[{id:t.announceCt++,createTime:n,text:e,counter:0,expire:3,fadeout:.4,ack:!1}])}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"wrapper"},s.a.createElement("div",{id:"header"},s.a.createElement(j,{money:this.state.money,knowledge:this.state.knowledge,businesses:this.state.businesses,probes:this.state.probes,prestige:this.state.prestige,prestigeNext:this.state.prestigeNext})),s.a.createElement(f.d,{className:"react-tabs-container",selectedIndex:this.state.tabIndex,onSelect:function(t){return e.setState({tabIndex:t})}},s.a.createElement("div",{id:"tabs"},s.a.createElement(f.b,{className:"tab-list"},s.a.createElement(f.a,{className:"tab-list-item"},"Businesses"),s.a.createElement(f.a,{className:"tab-list-item"},"Probes"))),s.a.createElement(f.c,{className:"react-tabs__tab-panel main-tab-panel"},s.a.createElement("div",{className:"left-sidebar"},s.a.createElement(P,{upgrades:this.state.upgrades,businesses:this.state.businesses,money:this.state.money,knowledge:this.state.knowledge,onClick:this.clickUpgrade})),s.a.createElement("div",{id:"right-sidebar"},s.a.createElement("div",{className:"purchaseAmts"},s.a.createElement("span",{className:"buyx-prefix"},"Buy ",N.multiplySymbol),s.a.createElement(b.a,{options:N.purchaseOpts,onChange:this.purchaseAmtDropDownHandler,value:this.state.purchaseAmt,placeholder:"Select an option"})),s.a.createElement("button",{className:"pause-button",onClick:this.pause},"Pause"),s.a.createElement("button",{className:"pause-button",onClick:this.resume},"Resume"),s.a.createElement("button",{className:"reset-button",onClick:this.resetAll},"RESET"),s.a.createElement("button",{className:"prestige-button",disabled:!this.state.prestigeNext.gt(0),onClick:this.prestige},"Prestige"),s.a.createElement("button",{className:"announce-button",onClick:function(){return e.announce("great job winning!")}},"Announce")),s.a.createElement("div",{id:"content"},s.a.createElement("div",{className:"container"},s.a.createElement(C,{businesses:this.state.businesses,purchaseAmt:this.state.purchaseAmt,money:this.state.money,prestige:this.state.prestige,onClick:this.clickBusiness})))),s.a.createElement(f.c,{className:"react-tabs__tab-panel probe-tab-panel"},s.a.createElement("div",{id:"right-sidebar"},s.a.createElement("div",{className:"purchaseAmts"},s.a.createElement("span",{className:"buyx-prefix"},"Buy ",N.multiplySymbol),s.a.createElement(b.a,{options:N.purchaseOpts,onChange:this.purchaseAmtDropDownHandler,value:this.state.purchaseAmt,placeholder:"Select an option"})),s.a.createElement("button",{className:"pause-button",onClick:this.pause},"Pause"),s.a.createElement("button",{className:"pause-button",onClick:this.resume},"Resume"),s.a.createElement("button",{className:"reset-button",onClick:this.resetAll},"RESET"),s.a.createElement("button",{className:"prestige-button",disabled:!this.state.prestigeNext.gt(0),onClick:this.prestige},"Prestige")),s.a.createElement("div",{id:"probecontent"},s.a.createElement("div",{className:"probecontainer"},"text for panel 2")))),s.a.createElement("div",{id:"footer"},"footer"),s.a.createElement("div",{id:"announcements"},s.a.createElement(x,{announcements:this.state.announcements,onClick:this.clickAnnouncement})))}}]),t}(s.a.Component);i.a.render(s.a.createElement(D,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.1b725a88.chunk.js.map