(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,s){e.exports=s.p+"static/media/test.c6bffac5.mp3"},130:function(e,t,s){e.exports=s.p+"static/media/tink.fa6eafba.mp3"},131:function(e,t,s){e.exports=s.p+"static/media/blipple.41e46365.mp3"},132:function(e,t,s){e.exports=s.p+"static/media/thump.1429ce0b.mp3"},133:function(e,t,s){e.exports=s.p+"static/media/concentrate.1aa08639.mp3"},134:function(e,t,s){e.exports=s.p+"static/media/unconcentrate.5e1be365.mp3"},135:function(e,t,s){e.exports=s.p+"static/media/probe_launch.43be7626.mp3"},136:function(e,t,s){e.exports=s.p+"static/media/probe_fail.8371e855.mp3"},137:function(e,t,s){e.exports=s(268)},151:function(e,t,s){},152:function(e,t,s){},153:function(e,t,s){},154:function(e,t,s){},155:function(e,t,s){},206:function(e,t,s){},267:function(e,t,s){},268:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),i=s(12),r=s.n(i),o=s(95),u=s(52),l=s(27),c=s(9),d=s(10),p=s(16),m=s(15),h=s(7),g=s(17),b=s(91),v=s.n(b),y=s(53),f=s.n(y),S=s(54),w=s.n(S),E=s(123),k=s.n(E),O=s(24),M=(s(36),s(151),s(152),s(153),s(154),s(155),s(156),s(19)),C=s(21),N=s(269),x=function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,null,[{key:"moneySymbolSpan",value:function(){return n.a.createElement("span",{className:"moneySymbol"},this.moneySymbol)}},{key:"knowledgeSymbolSpan",value:function(){return n.a.createElement("span",{className:"knowledgeSymbol"},this.knowledgeSymbol)}},{key:"prestigeSymbolSpan",value:function(){return n.a.createElement("span",{className:"prestigeSymbol"},this.prestigeSymbol)}},{key:"multiplySymbolSpan",value:function(){return n.a.createElement("span",{className:"multiplySymbol"},this.multiplySymbol)}},{key:"concentrateSymbolSpan",value:function(){return n.a.createElement("span",{className:"concentrateSymbol"},this.concentrateSymbol)}},{key:"onoffswitch",value:function(e,t,s){if(e)return n.a.createElement("div",{className:"onoffswitch"},n.a.createElement("input",{type:"checkbox",name:"onoffswitch",className:"onoffswitch-checkbox",id:"toggle"+e,onChange:s,checked:t}),n.a.createElement("label",{className:"onoffswitch-label",htmlFor:"toggle"+e},n.a.createElement("span",{className:"onoffswitch-inner"}),n.a.createElement("span",{className:"onoffswitch-switch"})))}},{key:"DebugLog",value:function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];e.DEBUG&&console.log.apply(console,arguments)}},{key:"showNum",value:function(t){return e.myFormatterNum().format(t).toLowerCase()}},{key:"showInt",value:function(t){return e.myFormatterInt().format(t).toLowerCase()}},{key:"myNumCfg",value:function(){return{backend:"decimal.js",sigfigs:4,maxSmall:100,format:"engineering",Decimal:C}}},{key:"myIntCfg",value:function(){return{backend:"decimal.js",sigfigs:4,maxSmall:0,format:"engineering",Decimal:C}}},{key:"myFormatterNum",value:function(){return this.myNumFormat||(this.myNumFormat=new N.Formatter(e.myNumCfg())),this.myNumFormat}},{key:"myFormatterInt",value:function(){return this.myIntFormat||(this.myIntFormat=new N.Formatter(e.myIntCfg())),this.myIntFormat}},{key:"modalHelp",value:function(){return n.a.createElement("p",null,"This is the help text.",n.a.createElement("br",null),n.a.createElement("br",null),"You click businesses, earn money, and see where that can take you...",n.a.createElement("br",null),n.a.createElement("br",null),"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")}},{key:"welcomeBack",value:function(e,t,s){var a=e.days,i=e.hours,r=e.minutes,o=e.seconds,u="";t.gt(0)&&(u=n.a.createElement("span",null,"You earned ",n.a.createElement("b",null,this.moneySymbolSpan(),this.showNum(t)),n.a.createElement("br",null)));var l="";return s.gt(0)&&(l=n.a.createElement("span",null,"Your probe(s) travelled ",n.a.createElement("b",null,this.showNum(s))," kilometers")),n.a.createElement("p",null,"You were gone for ",n.a.createElement("b",null,a),"d ",n.a.createElement("b",null,i),"h ",n.a.createElement("b",null,r),"m ",n.a.createElement("b",null,o),"s",n.a.createElement("br",null),u,l)}}]),e}();x.DEBUG=!0,x.moneySymbol="$",x.knowledgeSymbol="\u29a8",x.prestigeSymbol="\u039b",x.multiplySymbol="\u2a2f",x.thumbsUpSymbol="\ud83d\udc4d\ufe0e",x.concentrateSymbol="\ud83d\ude2c\ufe0e",x.purchaseOpts=["1","10","25","100","Max","Max OCD","Max Upg","PrimeTime"],x.purchaseOptsNum=x.purchaseOpts.filter(function(e){return e.match(/\d/)}),x.purchaseOptsSpecial=x.purchaseOpts.filter(function(e){return!e.match(/\d/)}),x.busBuyMilestones=[10,25,50],x.vonNeumannWiki=n.a.createElement("a",{href:"https://google.com"},"google");var T=s(21),j=s.n(T),R=x.DebugLog,I=function(e){function t(e){var s;Object(c.a)(this,t),(s=Object(p.a)(this,Object(m.a)(t).call(this,e))).centerCanvas={x:400,y:250},s.pulseRadius={x:0,y:0},s.centerRadius={x:0,y:0},s.innerRadius={x:300,y:150},s.outerRadius={x:3*s.innerRadius.x,y:3*s.innerRadius.y},s.moonLocation={x:s.centerCanvas.x+130,y:s.centerCanvas.y-135},s.probeCount={x:50,y:25},s.probeStatus={x:500,y:25};var a=t.convertDistanceToSpace(s.props.probe.distance);return s.mapDistance=a.dist,s.zoomLevel=a.idx,s.zoomName=a.name,s.planetColors={earth:[.1,"#1A8A09",.65,"#163bb5",.75,"#333"],sun:[.4,"#fadf98",.8,"#B1954D",1,"#333"],sunsmall:[.4,"#fadf98",1,"#B1954D"]},s.setPlanetSize(),s.zoomDuration=.25,s.zoomShown=s.zoomLevel,s.pulseColor="#222",s.pulseColorCt=0,s.starClass="stars starpause",R("init mapDistance:",s.mapDistance,"zoomLevel:",s.zoomLevel,"zoomShown:",s.zoomShown,"zoomName:",s.zoomName),s}return Object(g.a)(t,e),Object(d.a)(t,[{key:"setPlanetSize",value:function(){0===this.zoomLevel?(this.planetRadius=10,this.planetColorStops=this.planetColors.earth):1===this.zoomLevel?(this.planetRadius=10,this.planetColorStops=this.planetColors.sun):2===this.zoomLevel?(this.planetRadius=3,this.planetColorStops=this.planetColors.sunsmall):this.planetRadius=0}},{key:"resetProbeZoom",value:function(){this.outerEllipseRef&&this.outerEllipseRef.setAttrs({radiusX:this.outerRadius.x,radiusY:this.outerRadius.y}),this.innerEllipseRef&&this.innerEllipseRef.setAttrs({radiusX:this.innerRadius.x,radiusY:this.innerRadius.y}),this.centerEllipseRef&&this.centerEllipseRef.setAttrs({radiusX:this.centerRadius.x,radiusY:this.centerRadius.y}),this.setPlanetSize(),this.pulsePause=!1,this.starClass="stars starpause"}},{key:"probeOuterZoomFinished",value:function(){this.outerEllipseMoving=!1,!this.innerEllipseMoving&&this.resetProbeZoom()}},{key:"probeInnerZoomFinished",value:function(){this.innerEllipseMoving=!1,!this.outerEllipseMoving&&this.resetProbeZoom()}},{key:"calcProbePulseRadius",value:function(){var e=this.props.probe.distance.div(this.mapDistance),t=e.times(this.innerRadius.x).floor().toNumber();t<this.planetRadius+2&&(t=this.planetRadius+2);var s=e.times(this.innerRadius.y).floor().toNumber();return s<this.planetRadius+2&&(s=this.planetRadius+2),{x:t,y:s}}},{key:"processSpaceMap",value:function(){var e=this;if(this.props.probe.distance.eq(0)?this.zoomLevel=t.convertDistanceToSpace(this.props.probe.distance.plus(this.props.probe.getDistPerTick(this.props.timeMultiplier))).idx:this.zoomLevel=t.convertDistanceToSpace(this.props.probe.distance).idx,this.pulseRef){var s=this.props.probe.distance.eq(0)||this.zoomLevel!==this.zoomShown||this.outerEllipseMoving||this.innerEllipseMoving?{x:0,y:0}:this.calcProbePulseRadius();this.pulseRef.setAttrs({radiusX:s.x,radiusY:s.y})}if(this.pulseColorCt=this.pulseColorCt+this.props.timeMultiplier,this.pulseColor="rgba(85,85,0,"+((Math.sin(this.pulseColorCt)+1)/4+.5).toFixed(1)+")",this.zoomLevel!==this.zoomShown&&this.outerEllipseRef&&this.innerEllipseRef&&this.centerEllipseRef&&!this.outerEllipseMoving&&!this.innerEllipseMoving){var a,n,i,r,o,u;R("before reset.  zoomShown:",this.zoomShown,"zoomLevel:",this.zoomLevel),this.resetProbeZoom(),this.zoomLevel>this.zoomShown?(a=this.innerRadius.x,n=this.innerRadius.y,i=0,r=0,o=0,u=0,this.starClass="stars starzoom",this.zoomShown+=1):(a=this.outerRadius.x,n=this.outerRadius.y,i=this.outerRadius.x,r=this.outerRadius.y,o=this.innerRadius.x,u=this.innerRadius.y,this.starClass="stars starshrink",this.zoomShown-=1),this.setPlanetSize(),this.outerEllipseMoving||(R("ring anim starting"),this.outerEllipseMoving=!0,this.outerEllipseRef.to({duration:this.zoomDuration,radiusX:a,radiusY:n,onFinish:function(){e.probeOuterZoomFinished()}}),this.innerEllipseMoving=!0,this.innerEllipseRef.to({duration:this.zoomDuration,radiusX:i,radiusY:r,onFinish:function(){e.probeInnerZoomFinished()}}),this.centerPlanetRef.to({duration:this.zoomDuration,radius:this.planetRadius}),this.centerEllipseRef.to({duration:this.zoomDuration,radiusX:o,radiusY:u}));var l=t.getSpaceInfoForIndex(this.zoomShown);this.mapDistance=l.dist,this.zoomName=l.name}}},{key:"generateSpaceRender",value:function(){var e=this,t="";switch(this.zoomShown){case 0:t="earth";break;case 1:case 2:t="sun"}var s=[];return s.push(n.a.createElement(M.Ellipse,{key:"outerEllipse",id:"outerEllipse",x:this.centerCanvas.x,y:this.centerCanvas.y,radiusX:this.outerRadius.x,radiusY:this.outerRadius.y,stroke:"#d55",dash:[5,5],ref:function(t){e.outerEllipseRef=t},listening:!1})),s.push(n.a.createElement(M.Ellipse,{key:"innerEllipse",id:"innerEllipse",x:this.centerCanvas.x,y:this.centerCanvas.y,radiusX:this.innerRadius.x,radiusY:this.innerRadius.y,stroke:"#d55",dash:[5,5],ref:function(t){e.innerEllipseRef=t},listening:!1})),s.push(n.a.createElement(M.Ellipse,{key:"centerEllipse",id:"centerEllipse",x:this.centerCanvas.x,y:this.centerCanvas.y,radiusX:this.centerRadius.x,radiusY:this.centerRadius.y,stroke:"#d55",dash:[5,5],ref:function(t){e.centerEllipseRef=t},onMouseOver:this.props.onMouseOver,"data-tip":"space-center-ellipse"})),this.props.probe.finished||s.push(n.a.createElement(M.Ellipse,{key:"pulse",id:"pulse",x:this.centerCanvas.x,y:this.centerCanvas.y,radiusX:this.pulseRadius.x,radiusY:this.pulseRadius.y,stroke:this.pulseColor,fill:"rgba(85,85,85,0.2)",ref:function(t){e.pulseRef=t},onMouseOver:this.props.onMouseOver,"data-tip":"space-pulse"})),s.push(n.a.createElement(M.Circle,{key:"centerPlanet",id:"centerPlanet",x:this.centerCanvas.x,y:this.centerCanvas.y,radius:this.planetRadius,fillRadialGradientStartPoint:{x:-5,y:-5},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:-5,y:-5},fillRadialGradientEndRadius:2*this.planetRadius,fillRadialGradientColorStops:this.planetColorStops,ref:function(t){e.centerPlanetRef=t},onMouseOver:this.props.onMouseOver,"data-tip":"space-"+t})),0===this.zoomShown&&s.push(n.a.createElement(M.Circle,{key:"moon",id:"moon",x:this.moonLocation.x,y:this.moonLocation.y,radius:5,fillRadialGradientStartPoint:{x:-5,y:-5},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:-5,y:-5},fillRadialGradientEndRadius:8,fillRadialGradientColorStops:[.4,"#ddd",.9,"#aaa",1,"#333"],onMouseOver:this.props.onMouseOver,"data-tip":"space-moon"})),this.zoomShown>2&&s.push(n.a.createElement(n.a.Fragment,{key:"crossHairFragment"},n.a.createElement(M.Line,{key:"crossHair1",points:[this.centerCanvas.x-5,this.centerCanvas.y,this.centerCanvas.x+5,this.centerCanvas.y],stroke:"#d55",strokeWidth:1}),n.a.createElement(M.Line,{key:"crossHair2",points:[this.centerCanvas.x,this.centerCanvas.y-5,this.centerCanvas.x,this.centerCanvas.y+5],stroke:"#d55",strokeWidth:1}))),s}},{key:"generateStatusText",value:function(){var e=[];return(this.props.userSettings.probeQualityShown||this.props.probe.qualityLoss.gt(0))&&e.push(n.a.createElement(M.Text,{key:"probe-failure",x:this.probeStatus.x,y:this.probeStatus.y,width:200,text:"Probe failures: "+x.showInt(this.props.probe.qualityLoss),fontSize:16,fontFamily:"Kodchasan",align:"center",fill:"gold",onMouseOver:this.props.onMouseOver,"data-tip":"space-failures"})),(this.props.userSettings.probeCombatShown||this.props.probe.combatLoss.gt(0))&&e.push(n.a.createElement(M.Text,{key:"probe-combat-loss",x:this.probeStatus.x,y:this.probeStatus.y+16,width:200,text:"Combat losses: "+x.showInt(this.props.probe.combatLoss),fontSize:16,fontFamily:"Kodchasan",align:"center",fill:"red",onMouseOver:this.props.onMouseOver,"data-tip":"space-combat-loss"})),e}},{key:"render",value:function(){this.processSpaceMap();var e=this.generateSpaceRender(),t=this.generateStatusText();return n.a.createElement("div",{id:"probecontent",ref:this.probeDivRef},n.a.createElement("div",{className:this.starClass}),n.a.createElement("div",{className:this.starClass}),n.a.createElement("div",{className:this.starClass}),n.a.createElement("div",{className:this.starClass}),n.a.createElement("div",{className:this.starClass}),n.a.createElement(M.Stage,{width:794,height:538,className:"dynamic-layer",onMouseOver:this.props.onMouseOver,"data-tip":"space-stage-"+this.zoomShown},n.a.createElement(M.Layer,{hitGraphEnabled:!0},e),n.a.createElement(M.Layer,{className:"static-layer",hitGraphEnabled:!0},n.a.createElement(M.Line,{points:[this.centerCanvas.x-this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+10,this.centerCanvas.x-this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+50],stroke:"#d55",strokeWidth:1}),n.a.createElement(M.Line,{points:[this.centerCanvas.x+110,this.centerCanvas.y+this.innerRadius.y+30,this.centerCanvas.x+this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+30],stroke:"#d55",strokeWidth:1}),n.a.createElement(M.Line,{points:[this.centerCanvas.x-this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+30,this.centerCanvas.x-110,this.centerCanvas.y+this.innerRadius.y+30],stroke:"#d55",strokeWidth:1}),n.a.createElement(M.Line,{points:[this.centerCanvas.x+this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+10,this.centerCanvas.x+this.innerRadius.x,this.centerCanvas.y+this.innerRadius.y+50],stroke:"#d55",strokeWidth:1}),n.a.createElement(M.Text,{x:this.centerCanvas.x-100,y:this.centerCanvas.y+this.innerRadius.y+24,width:200,text:"Zoom #"+this.zoomShown+": "+x.showInt(this.mapDistance)+" km",fontSize:16,fontFamily:"Kodchasan",fontStyle:"bold",align:"center",fill:"#1A8A09",onMouseOver:this.props.onMouseOver,"data-tip":"space-zoom"}),n.a.createElement(M.Text,{x:this.centerCanvas.x-100,y:this.centerCanvas.y+this.innerRadius.y+45,width:200,text:this.zoomName,fontSize:16,fontFamily:"Kodchasan",align:"center",fill:"#1A8A09",onMouseOver:this.props.onMouseOver,"data-tip":"space-name"})),n.a.createElement(M.Layer,{className:"status-layer",hitGraphEnabled:!0},n.a.createElement(M.Text,{x:this.probeCount.x,y:this.probeCount.y,width:200,text:" Probes: "+x.showInt(this.props.probe.getLiveNumber()),fontSize:16,fontFamily:"Kodchasan",align:"left",fill:"white",onMouseOver:this.props.onMouseOver,"data-tip":"space-probe-count"}),t)))}}],[{key:"getSpaceInfoForIndex",value:function(e){var s=t.spaceZoomLevels.length;if(e<s)return{idx:e,dist:t.spaceZoomLevels[e],name:t.spaceZoomLevelNames[e]};var a=t.spaceZoomLevels[s-1].log("1e9").floor().toNumber(),n=e-s;return{idx:e,dist:new j.a("1e9").pow(a+n+1),name:"Dark Unknown"}}},{key:"convertDistanceToSpace",value:function(e){for(var s=t.spaceZoomLevels.length,a=0;a<s;a++){var n=t.spaceZoomLevels[a];if(n.gt(e))return{idx:a,dist:n,name:this.spaceZoomLevelNames[a]}}var i=t.spaceZoomLevels[s-1].log("1e9").floor().toNumber(),r=e.log("1e9").floor().toNumber()-i,o=new j.a("1e9").pow(i+r+1);return R("newDist:",x.showNum(o)),{idx:s+r,dist:new j.a("1e9").pow(i+r+1),name:"Dark Unknown"}}}]),t}(n.a.Component);I.spaceZoomLevels=[new j.a("768e3"),new j.a("1.556e9"),new j.a("287.46e9"),new j.a("15e12"),new j.a("950e15"),new j.a("111e18"),new j.a("440e24")],I.spaceZoomLevelNames=["Moon","Jupiter","Solar System","Oort Cloud","Milky Way","Galaxy NGC 4945","Edge of Observable Universe"];s(206);var P=s(55),A=s(21),L=x.DebugLog,B=function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,null,[{key:"getPct",value:function(e,t){var s=typeof e;return e instanceof A?e.times(t/100).floor():"number"===s?Math.floor(e*(t/100)):void 0}},{key:"availMaxUpgrade",value:function(e,t){var s=e+t;if(s>=100){var a=100*Math.floor(s/100);return a<=e?a+100:a}return s>=75?e>=75?100:75:s>=50?e>=50?75:50:e>=25?50:25}},{key:"getTotalMilestoneIdx",value:function(e){var t=-1;x.busBuyMilestones.forEach(function(s,a){e>=s&&(t=a)});var s=Math.floor(e/100);return t+s}},{key:"getTotalMilestone",value:function(e){var t=x.busBuyMilestones.length-1;return e<=t?x.busBuyMilestones[e]:100*(e-t)}},{key:"getTotalMilestonesAttained",value:function(e,t){for(var s=[],a=e+1;a<=t;a++)s.push([this.getTotalMilestone(a)]);return s}},{key:"getOwnedMilestonesAttained",value:function(e,t){var s=Math.floor(e/25)>3?3:Math.floor(e/25),a=Math.floor(t/25)>3?3:Math.floor(t/25),n=Math.floor(e/100),i=Math.floor(t/100),r=[];if(s<a)for(var o=s+1;o<=a;o++)r.push(25*o);if(n<i)for(var u=n+1;u<=i;u++)r.push(100*u);return L("owned milestones:",r),r}},{key:"buyPct",value:function(e,t){var s=t.div(e).times(100).toNumber();return s>100?100:s}},{key:"earnPct",value:function(e,t){return t<.2||t-e.timeCounter<.1?100:e.timeCounter/t*100}},{key:"getEarningPerTick",value:function(e,t){return e.times(t/1e3)}},{key:"getEarningPct",value:function(e,t){return e.div(t).times(100).toFixed(2)}},{key:"calcPrestigeEarnedFromLearning",value:function(e){return e.log(1.99).floor()}},{key:"getCost",value:function(e,t,s,a){var n=this.maxBuy(e,t,a),i=0;switch(s){case"Max":case"Max OCD":case"Max Upg":case"PrimeTime":i=n[s];break;default:i=s}return{num:parseInt(i,10),cost:e.costBase.times(Math.pow(e.costCoef,t.owned)*(Math.pow(e.costCoef,i)-1)).div(e.costCoef-1)}}},{key:"maxBuy",value:function(e,t,s){var a=parseInt(new A(s.times(e.costCoef-1).div(e.costBase.times(Math.pow(e.costCoef,t.owned)))).plus(1).log(e.costCoef).floor(),10),n=this.availMaxUpgrade(t.owned,a)-t.owned,i=25*Math.floor((a+t.owned)/25)-t.owned;i=i>0?i:25-t.owned%25;var r=this.primeFactors(),o=0,u=t.owned+a;for(var l in r)if(!(r[l]<=t.owned)&&(r[l]<=u&&(o=r[l]),r[l]>u)){0===o&&(o=r[l]);break}return{Max:a>0?a:1,"Max OCD":i,"Max Upg":n,PrimeTime:o-=t.owned}}},{key:"nextPrime",value:function(e){var t=this.primeFactors();for(var s in t)if(t[s]>e)return t[s]}},{key:"primeFactors",value:function(){if(this.primes)return this.primes;var e=[];L("creating primes"),console.time("prime creation");var t,s,a=[];for(t=2;t<=25e3;++t)if(!a[t])for(e.push(t),s=t<<1;s<=25e3;s+=t)a[s]=!0;return this.primes=e,console.timeEnd("prime creation"),L("primes length: "+this.primes.length),this.primes}},{key:"convertMillis",value:function(e){var t,s,a,n,i=function(e){return e<10?"0".concat(e):e};return n=Math.floor(e/1e3),a=Math.floor(n/60),n%=60,s=Math.floor(a/60),a%=60,t=Math.floor(s/24),s%=24,{days:i(t),hours:i(s),minutes:i(a),seconds:i(n)}}},{key:"randomEllipsePoint",value:function(e,t){var s=Math.random()*(2*Math.PI),a=Math.random();return{x:Math.sqrt(a)*Math.cos(s)*(e/2),y:Math.sqrt(a)*Math.sin(s)*(t/2)}}}]),e}(),D=s(21),V=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"getDomRef",value:function(e){var t=this.props.domRefs.findIndex(function(t){return t.name===e});if(!(t<0))return this.props.domRefs[t].domRef}},{key:"genOverlays",value:function(e){var t=this;return e.overlays.map(function(s,a){var i="overlay-text ",r=parseInt(t.getDomRef(e.name).current.offsetLeft,10)+80,o=parseInt(t.getDomRef(e.name).current.offsetTop,10)-15;s.counter>s.expire&&(i+="expired ");var u=0,l=0;switch(s.ovType){case"ownedBonus":l=100;break;default:u=-40}return n.a.createElement(P.Motion,{key:"overlay-text "+s.id,defaultStyle:{top:o,left:r,opacity:1},style:{top:Object(P.spring)(o+u+s.yTarget),left:Object(P.spring)(r+l+s.xTarget),opacity:Object(P.spring)(0,{stiffness:15,damping:14})}},function(e){return n.a.createElement("div",{key:"overlay-text "+s.id,className:i+"rainbow_text_animated ",style:{top:e.top,left:e.left,opacity:e.opacity}},s.text)})})}},{key:"render",value:function(){var e=this,s=this.props.businesses.reduce(function(t,s){return e.props.userSettings.busStats[s.id].revealed&&t.push(s),t},[]),a=t.computeTotalEarningPerSec(this.props.businesses,this.props.userSettings,this.props.concentrate),i=s.map(function(s){var i=e.props.userSettings.busStats[s.id],r=s.name,o=B.getCost(s,e.props.userSettings.busStats[s.id],e.props.purchaseAmt,e.props.userSettings.money),u=t.computeNextPayoutValue(s,e.props.userSettings,o.num),l={width:B.buyPct(o.cost,e.props.userSettings.money)+"%"},c={width:B.earnPct(s,i.timeAdj)+"%"},d="",p="",m=!1;e.props.userSettings.money.gte(o.cost)?(d="business-buy canAfford ",p="cost-wrapper canAfford "):(d="business-buy cannotAfford ",m=!0,p="cost-wrapper cannotAfford ");var h=t.computeEarningPerSec(s,e.props.userSettings,e.props.concentrate),g=t.computeNextPayoutValue(s,e.props.userSettings,0),b=g.gt(0)?g:u,v=B.getEarningPct(h,a),y=e.genOverlays(s);return n.a.createElement("div",{key:s.id+"business",className:"business money ",ref:e.getDomRef(r)},n.a.createElement("div",{className:"overlays-wrapper"},y),n.a.createElement("div",{className:"business-buy-progress money ",onMouseOver:e.props.onMouseOver,"data-tip":"business-buy-"+s.id},n.a.createElement("div",{className:"business-buy-progress-pct money ",style:l,onMouseOver:e.props.onMouseOver,"data-tip":"business-buy-"+s.id},n.a.createElement("span",null))),n.a.createElement("div",{className:"business-earn-progress money ",onMouseOver:e.props.onMouseOver,"data-tip":"earn-progress-"+s.id},n.a.createElement("div",{className:"business-earn-progress-pct money ",style:c,onMouseOver:e.props.onMouseOver,"data-tip":"earn-progress-"+s.id},n.a.createElement("span",null))),n.a.createElement("button",{key:s.id+"button",className:d+"money ",onClick:function(){return e.props.onClick(s)},disabled:m,onMouseOver:e.props.onMouseOver,"data-tip":"business-buy-"+s.id},n.a.createElement("span",{className:"buyMultiple"},o.num,x.multiplySymbolSpan())," ",r),n.a.createElement("div",{key:s.id+"owned",className:"business-owned",onMouseOver:e.props.onMouseOver,"data-tip":"business-owned"},x.showInt(i.owned)),n.a.createElement("div",{key:s.id+"cost-wrapper",className:p},n.a.createElement("div",{key:s.id+"cost-money",className:"business-cost-money",onMouseOver:e.props.onMouseOver,"data-tip":"business-cost"},x.moneySymbolSpan(),x.showNum(o.cost))),n.a.createElement("div",{key:s.id+"earning-wrapper",className:"earning-wrapper"},n.a.createElement("div",{key:s.id+"revenue-total",className:"business-revenue-total",onMouseOver:e.props.onMouseOver,"data-tip":"business-revenue"},"+",x.moneySymbolSpan(),x.showNum(b))),n.a.createElement("div",{key:s.id+"earning-pct-wrapper",className:"earning-pct-wrapper"},n.a.createElement("div",{key:s.id+"earning-pct",className:"earning-pct",onMouseOver:e.props.onMouseOver,"data-tip":"business-pct"},v,"%")))});return n.a.createElement("div",{className:"business-container"},i)}}],[{key:"computeNextPayoutValue",value:function(e,t,s){var a=t.busStats[e.id].owned+s,n=Math.floor(a/25),i=n>3?3:n,r=Math.floor(a/100),o=t.prestige.num.times(t.prestige.val).div(100).plus(1);return new D(e.incomeBase.times(a).times(Math.pow(2,i)).times(Math.pow(4,r)).times(t.busStats[e.id].payoutAdj).times(o))}},{key:"computeEarningPerSec",value:function(e,t,s){return this.computeNextPayoutValue(e,t,0).div(t.busStats[e.id].timeAdj).times(s.time>0?t.concentrate.mult:1)}},{key:"computeTotalEarningPerSec",value:function(e,t,s){var a=this,n=new D(0);return e.forEach(function(e){n=n.plus(a.computeEarningPerSec(e,t,s))}),n}},{key:"getPayout",value:function(e,t){return this.computeNextPayoutValue(e,t,0).times(e.payout)}},{key:"getAllPayouts",value:function(e,t){var s=this,a=new D(0);return e.forEach(function(e){a=a.plus(s.getPayout(e,t))}),a}},{key:"applyMultiplier",value:function(e,t){return f()(e,{upgradeMult:{$set:e.upgradeMult*t}})}},{key:"getAdjustedTimeBase",value:function(e,t){return t>=0?e.timeBase/Math.pow(2,t):e.timeBase}},{key:"getPosition",value:function(e){return r.a.findDOMNode(e.current).getBoundingClientRect()}}]),t}(n.a.Component);V.overlayCt=0;var F=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=V.computeTotalEarningPerSec(this.props.businesses,this.props.userSettings,this.props.concentrate),t=this.props.userSettings.probe.getLearningPerSec(),s=[],a=[];return(this.props.userSettings.prestige.num.gt(0)||this.props.userSettings.prestigeNext.gt(0))&&a.push(n.a.createElement(n.a.Fragment,{key:"prestige-header"},n.a.createElement("div",{className:"prestige-header"},"Prestige:"),n.a.createElement("div",{className:"prestige-units",onMouseOver:this.props.onMouseOver,"data-tip":"prestige-units"},x.prestigeSymbolSpan(),x.showInt(this.props.userSettings.prestige.num)),n.a.createElement("div",{className:"prestige-earning",onMouseOver:this.props.onMouseOver,"data-tip":"prestige-earning"},"(+ ",x.prestigeSymbolSpan(),x.showInt(this.props.userSettings.prestigeNext),")"))),this.props.userSettings.featureEnabled[5e3]&&this.props.userSettings.probe.value.gt(0)&&(s.push(n.a.createElement(n.a.Fragment,{key:"learning-header"},n.a.createElement("div",{className:"learning-header"},"Knowledge:"),n.a.createElement("div",{className:"learning-knowledge",onMouseOver:this.props.onMouseOver,"data-tip":"learning-knowledge"},x.knowledgeSymbolSpan(),x.showNum(this.props.userSettings.knowledge)),n.a.createElement("div",{className:"learning-learning",onMouseOver:this.props.onMouseOver,"data-tip":"learning-learning"},"(+ ",x.knowledgeSymbolSpan(),x.showNum(t),"/s)"))),a.push(n.a.createElement(n.a.Fragment,{key:"probe-header"},n.a.createElement("div",{className:"probe-header"},"Distance:"),n.a.createElement("div",{className:"probe-distance",onMouseOver:this.props.onMouseOver,"data-tip":"probe-distance"},x.showNum(this.props.userSettings.probe.distance)," km"),n.a.createElement("div",{className:"probe-rate",onMouseOver:this.props.onMouseOver,"data-tip":"probe-rate"},"+",x.showNum(this.props.userSettings.probe.getDistPerSec())," km/s")))),n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("div",{className:"income"},n.a.createElement("div",{className:"income-header"},"Money:"),n.a.createElement("div",{className:"income-money",onMouseOver:this.props.onMouseOver,"data-tip":"income-money"},x.moneySymbolSpan(),x.showNum(this.props.userSettings.money)),n.a.createElement("div",{className:"income-earning",onMouseOver:this.props.onMouseOver,"data-tip":"income-earning"},"(+ ",x.moneySymbolSpan(),x.showNum(e),"/s)"),s),n.a.createElement("div",{className:"title-wrapper",onMouseOver:this.props.onMouseOver,"data-tip":"title-wrapper"},n.a.createElement("div",{className:"von"},"von"),n.a.createElement("div",{className:"text-effect"},n.a.createElement("h1",{className:"neon","data-text":"NEUMANN"},"NEUMANN"),n.a.createElement("div",{className:"gradient"}),n.a.createElement("div",{className:"spotlight",onMouseOver:this.props.onMouseOver,"data-tip":"title"}))),n.a.createElement("div",{className:"prestige"},a))}}]),t}(n.a.Component),z=x.DebugLog,G=s(21),H=function(){function e(t,s,a,n,i){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];Object(c.a)(this,e),this.value=s,this.speed=a,this.quality=n,this.combat=i,this.number=t,this.qualityLoss=new G(0),this.combatLoss=new G(0),this.distance=new G(0),this.finished=r,z("new probe. number:",x.showInt(this.number),"  finished?",this.finished)}return Object(d.a)(e,[{key:"increment",value:function(e){this.number=this.number.plus(e)}},{key:"goFarther",value:function(e){this.distance=this.distance.plus(e)}},{key:"getDistPerSec",value:function(){if(this.finished)return G(0);if(this.distPerSec)return this.distPerSec;var e=Math.pow(1+(this.speed-5)/100,2);return this.distPerSec=this.value.div("1e3").sqrt().times(e).div(2),this.distPerSec}},{key:"getDistPerTick",value:function(e){return this.getDistPerSec().times(e)}},{key:"getLosses",value:function(){return G(0)}},{key:"getLearned",value:function(e){return e.times(this.getLiveNumber().sqrt()).div("768e3").times(10).floor().div(10)}},{key:"getLearningPerSec",value:function(){return this.finished?G(0):this.getDistPerSec().times(this.getLiveNumber().sqrt()).div("768e3").times(1e3).floor().div(1e3)}},{key:"getLearningPerTick",value:function(e){return this.getLearningPerSec().times(e)}},{key:"getLiveNumber",value:function(){return this.number.minus(this.qualityLoss.floor()).minus(this.combatLoss.floor())}},{key:"updateNumber",value:function(){this.number.gt(0)&&(this.distance.gt("768e3")&&(this.number=G(2).pow(this.distance.ln().minus(12.551545012129809).floor())),this.qualityLoss=this.qualityLoss.plus(.005))}}]),e}(),q=s(21);var U=s(21);var _=s(67),Z=_.a.createSliderWithTooltip,W=Z(_.a.Range),Y=Z(_.a),X=function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,null,[{key:"getRangeValues",value:function(e){return 1===e?{probeSpendPct:25,rangeCt:1,distribRange:[0,100]}:2===e?{probeSpendPct:25,rangeCt:2,distribRange:[0,50,100],handleStyle:[{backgroundColor:"gold",border:"0",height:"0px",width:"0px"},{backgroundColor:"gold",border:"0"},{backgroundColor:"cyan",border:"0",height:"0px",width:"0px"}],trackStyle:[{backgroundColor:"gold"},{backgroundColor:"cyan"}],railStyle:{backgroundColor:"blue"}}:3===e?{probeSpendPct:25,rangeCt:3,distribRange:[0,33,66,100],handleStyle:[{backgroundColor:"gold",border:"0",height:"0px",width:"0px"},{backgroundColor:"gold",border:"0"},{backgroundColor:"cyan",border:"0"},{backgroundColor:"red",border:"0",height:"0px",width:"0px"}],trackStyle:[{backgroundColor:"gold"},{backgroundColor:"cyan"},{backgroundColor:"red"}],railStyle:{backgroundColor:"red"}}:void 0}},{key:"getSlider",value:function(e,t){return n.a.createElement(Y,{min:5,max:100,value:e.probeSpendPct,marks:this.sliderMarks,step:5,onChange:t,defaultValue:5,trackStyle:[{backgroundColor:"#1A8A09"},{backgroundColor:"#555"}],handleStyle:[{backgroundColor:"#1A8A09",border:"0"},{backgroundColor:"#555",border:"0"}],dotStyle:{backgroundColor:"#bbb",border:"0",width:"4px"},activeDotStyle:{backgroundColor:"#1A8A09",border:"0",width:"4px"},allowCross:!1,tipFormatter:function(e){return e+"%"},tipProps:{placement:"bottom"}})}},{key:"getRange",value:function(e,t){return n.a.createElement(W,{count:e.rangeSettings.rangeCt,min:0,max:100,step:2,marks:this.sliderMarks,onChange:t,defaultValue:e.rangeSettings.distribRange,value:e.rangeSettings.distribRange,trackStyle:e.rangeSettings.trackStyle,handleStyle:e.rangeSettings.handleStyle,railStyle:e.rangeSettings.railStyle,dotStyle:{backgroundColor:"#bbb",border:"0",width:"4px"},allowCross:!1,pushable:!1,tipFormatter:function(e){return e+"%"},tipProps:{placement:"bottom"}})}}]),e}();X.sliderMarks={0:{style:{fontWeight:"bold",color:"#ddd"},label:"0"},25:{style:{fontWeight:"bold",color:"#ddd"},label:"25%"},50:{style:{fontWeight:"bold",color:"#ddd"},label:"50%"},75:{style:{fontWeight:"bold",color:"#ddd"},label:"75%"},100:{style:{fontWeight:"bold",color:"#ddd"},label:"100%"}};var Q=s(21),$=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),t}(n.a.Component);$.freshState=function(){return{businesses:[{id:0,name:"Mental Math",desc:"desc1",owned:1,incomeType:"money",incomeBase:new q(1),costType:"money",costBase:new q(5/1.13),costCoef:1.13,timeBase:1,timeCounter:0,payout:0,initialVisible:new q(0),overlays:[]},{id:1,name:"Research Review",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q(40),costType:"money",costBase:new q(120),costCoef:1.14,timeBase:1,timeCounter:0,payout:0,initialVisible:new q(40),overlays:[]},{id:2,name:"Publish Articles",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q(160),costType:"money",costBase:new q(1400),costCoef:1.14,timeBase:4,timeCounter:0,payout:0,initialVisible:new q(460),overlays:[]},{id:3,name:"University Lectures",desc:"desc1",owned:0,incomeType:"money",incomeBase:new q(777),costType:"money",costBase:new q("28e3"),costCoef:1.14,timeBase:4,timeCounter:0,payout:0,initialVisible:new q("9.8e3"),overlays:[]},{id:4,name:"Author Books",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q(3902),costType:"money",costBase:new q("562e3"),costCoef:1.14,timeBase:12,timeCounter:0,payout:0,initialVisible:new q("187e3"),overlays:[]},{id:5,name:"Game Theory",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q(19400),costType:"money",costBase:new q("11.2e6"),costCoef:1.14,timeBase:12,timeCounter:0,payout:0,initialVisible:new q("3.7e6"),overlays:[]},{id:6,name:"Self-Replication Study",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q("97.7e3"),costType:"money",costBase:new q("224e6"),costCoef:1.14,timeBase:45,timeCounter:0,payout:0,initialVisible:new q("74.7e6"),overlays:[]},{id:7,name:"Manhattan Project",desc:"desc1",owned:0,incomeType:"money",incomeBase:new q("487e3"),costType:"money",costBase:new q("4.49e9"),costCoef:1.14,timeBase:45,timeCounter:0,payout:0,initialVisible:new q("1.5e9"),overlays:[]},{id:8,name:"Research Laboratory",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q("2.45e6"),costType:"money",costBase:new q("90.18e9"),costCoef:1.14,timeBase:450,timeCounter:0,payout:0,initialVisible:new q("30e9"),overlays:[]},{id:9,name:"Government Advisory",desc:"desc2",owned:0,incomeType:"money",incomeBase:new q("16.4e6"),costType:"money",costBase:new q("1.811e12"),costCoef:1.12,timeBase:900,timeCounter:0,payout:0,initialVisible:new q("905e9"),overlays:[]}],upgrades:[{id:0,name:"0/1",watchType:"money",watchValue:new U("2e3"),costType:"money",costValue:new U("10.38e3"),rewardType:"upgradeMult",rewardTarget:0,rewardValue:5},{id:100,name:"1/1",watchType:"money",watchValue:new U("70e3"),costType:"money",costValue:new U("207.6e3"),rewardType:"upgradeMult",rewardTarget:1,rewardValue:5},{id:200,name:"2/1",watchType:"money",watchValue:new U("1.2e6"),costType:"money",costValue:new U("4.17e6"),rewardType:"upgradeMult",rewardTarget:2,rewardValue:5},{id:300,name:"3/1",watchType:"money",watchValue:new U("28e6"),costType:"money",costValue:new U("83e6"),rewardType:"upgradeMult",rewardTarget:3,rewardValue:5},{id:400,name:"4/1",watchType:"money",watchValue:new U("550e6"),costType:"money",costValue:new U("1.66e9"),rewardType:"upgradeMult",rewardTarget:4,rewardValue:5},{id:500,name:"5/1",watchType:"money",watchValue:new U("11e9"),costType:"money",costValue:new U("33.3e9"),rewardType:"upgradeMult",rewardTarget:5,rewardValue:5},{id:600,name:"6/1",watchType:"money",watchValue:new U("223e9"),costType:"money",costValue:new U("668.6e9"),rewardType:"upgradeMult",rewardTarget:6,rewardValue:5},{id:700,name:"7/1",watchType:"money",watchValue:new U("4.1e12"),costType:"money",costValue:new U("13.43e12"),rewardType:"upgradeMult",rewardTarget:7,rewardValue:5},{id:800,name:"8/1",watchType:"money",watchValue:new U("21e12"),costType:"money",costValue:new U("63.1e12"),rewardType:"upgradeMult",rewardTarget:8,rewardValue:5},{id:900,name:"9/1",watchType:"money",watchValue:new U("400e12"),costType:"money",costValue:new U("1.27e15"),rewardType:"upgradeMult",rewardTarget:9,rewardValue:5},{id:5e3,name:"New Technology",watchType:"businessOwned",watchTarget:0,watchValue:1,costType:"money",costValue:new U("100"),rewardType:"enableFeature",rewardTarget:"Satellite"},{id:5001,name:"New Technology",watchType:"businessOwned",watchTarget:0,watchValue:1,costType:"money",costValue:new U("100"),rewardType:"enableFeature",rewardTarget:"Self-Replication Machinery"},{id:5002,name:"New Technology",watchType:"businessOwned",watchTarget:6,watchValue:100,costType:"money",costValue:new U("1e12"),rewardType:"enableFeature",rewardTarget:"Nano Technology"},{id:5003,name:"New Technology",watchType:"businessOwned",watchTarget:0,watchValue:1,costType:"money",costValue:new U("100"),rewardType:"enableFeature",rewardTarget:"Quality Control"},{id:5004,name:"New Technology",watchType:"businessOwned",watchTarget:0,watchValue:1,costType:"money",costValue:new U("100"),rewardType:"enableFeature",rewardTarget:"Combat"},{id:1e4,name:"New Ability",watchType:"businessOwned",watchTarget:0,watchValue:1,costType:"money",costValue:new U("100"),rewardType:"enableFeature",rewardTarget:"Probe Autobuy"}],announcements:[],modals:[],version:"0.0.1",concentrate:{time:0},concentrateClass:"concIdle",tipText:"",gameSavedObj:{content:n.a.createElement("div",{id:"savegame"}),countdown:0}}},$.userSettings=function(){return{money:new Q(0),knowledge:new Q(0),probe:new H(new Q(0),new Q(0),0,0,0,!0),probeQualityShown:!1,probeCombatShown:!1,prestige:{num:new Q(0),val:10},prestigeNext:new Q(0),lifetimeEarnings:new Q(0),lifetimeLearning:new Q(0),lifetimeDistance:new Q(0),curMaxMoney:new Q(0),curTotalClicks:0,buyMilestone:0,busStats:{0:{owned:1,revealed:!1,timeAdj:-1,payoutAdj:1}},upgStats:{},featureEnabled:{},toggles:{overlays:!0,sound:!0},concentrate:{mult:2},sliderInfo:{rangeSettings:X.getRangeValues(1),probePcts:[50,50,0],probeSpendPct:25}}};var K=s(127),J=x.DebugLog,ee=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){J("upgrades didmount")}},{key:"componentWillUnmount",value:function(){J("upgrades willunmount")}},{key:"render",value:function(){var e=this,t=this.props.upgrades.reduce(function(t,s){var a=e.props.userSettings.upgStats[s.id];return!a.purchased&&a.revealed&&t.push(s),t},[]).map(function(t){var s=e.props.userSettings.upgStats[t.id];if(s.purchased||!s.revealed)return"";var a,i=t.name,r="",o=!0,u=0,l="",c="",d=e.props.onClick;switch(l="enableFeature"===t.rewardType?"feature ":"knowledge"===t.costType?"knowledge ":"money ","money"===t.costType?(c=x.moneySymbolSpan(),u=B.buyPct(t.costValue,e.props.userSettings.money),e.props.userSettings.money.gte(t.costValue)?(r+="canAfford ",o=!1):r+="cannotAfford "):(c=x.knowledgeSymbolSpan(),u=B.buyPct(t.costValue,e.props.userSettings.knowledge),e.props.userSettings.knowledge.gte(t.costValue)?(r+="canAfford ",o=!1):r+="cannotAfford "),t.rewardType){case"enableFeature":a=t.rewardTarget,d=e.props.enableFeature;break;default:a=e.props.businesses[t.rewardTarget].name+" x"+t.rewardValue}var p=u<100?"upgAnim ":"",m={width:u+"%"};return n.a.createElement("div",{key:t.id+"upgrade",className:"upgrade "+l},n.a.createElement("div",{className:"upgrade-buy-progress "+l},n.a.createElement("div",{className:"upgrade-buy-progress-pct "+l+p,style:m},n.a.createElement("span",null))),n.a.createElement("button",{key:t.id+"button",className:"upgrade-buy "+r+l,onClick:function(){return d(t)},disabled:o},i),n.a.createElement("div",{key:t.id+"upgrade-reward",className:"upgrade-reward"},a),n.a.createElement("div",{key:t.id+"upgrade-cost-wrapper",className:"upgrade-cost-wrapper "+r+l},c,x.showNum(t.costValue)))});return n.a.createElement(K.a,{permanentTrackY:!0,className:"upgrade-container"},t)}}]),t}(n.a.Component),te=(s(267),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.announcements.map(function(t,s){var a=t.ack?"announce-fadeout":"";return n.a.createElement("div",{className:"announcement "+a,key:t.id,onClick:function(){return e.props.onClick(t)}},n.a.createElement("span",{className:"announce-text"},t.text))});return n.a.createElement("div",{className:"announce-container"},t)}}]),t}(n.a.Component)),se=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"settings"},n.a.createElement("div",{className:"toggleHolder"},n.a.createElement("div",{className:"toggleLabel"},"von Visuals"),x.onoffswitch("overlays",this.props.toggles.overlays,this.props.toggleOverlay)),n.a.createElement("div",{className:"toggleHolder"},n.a.createElement("div",{className:"toggleLabel"},"von Sound"),x.onoffswitch("sound",this.props.toggles.sound,this.props.toggleSound)))}}]),t}(n.a.Component),ae=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"logs"},"Some logs")}}]),t}(n.a.Component),ne=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"prestige"},"TODO")}}]),t}(n.a.Component),ie=s(93);function re(){var e=Object(ie.a)([""," ",""]);return re=function(){return e},e}function oe(){var e=Object(ie.a)([""," ",""]);return oe=function(){return e},e}var ue={title:n.a.createElement("p",null,"shiny"),"title-wrapper":n.a.createElement("p",null,"Pronunciation:",n.a.createElement("br",null),"German: fun Noy-mon",n.a.createElement("br",null),"English: von Noy-mun",n.a.createElement("br",null),"Seinfeld: NEWMAN >:(",n.a.createElement("br",null),"Lil John: HWhat"),tooltip:"This window shows tooltip text ...like this.",content:" ","right-sidebar":" ","concentrate-container":"Press this button to get a temporary speed boost for your businesses.",purchaseAmts:n.a.createElement("p",null,n.a.createElement("b",null,"Max"),": can afford",n.a.createElement("br",null),n.a.createElement("b",null,"MaxOCD"),": increment of 25",n.a.createElement("br",null),n.a.createElement("b",null,"MaxUPG"),": next upgrade",n.a.createElement("br",null),n.a.createElement("b",null,"PrimeTime"),": Prime numbers"),"business-owned":"How many you own.","business-pct":"This business' percent of total income","business-cost":"The cost to purchase the chosen amount.","business-revenue":"How much you earn per countdown.","income-money":"The amount of money you have.","income-earning":"Your money income rate.","learning-knowledge":"The amount of knowledge attained.","learning-learning":"Your knowledge learning rate.","prestige-units":"Your current enabled prestige points.","prestige-earning":"The number of points you will attain on your next prestige.","probe-distance":"Total distance traveled by your current/previous probe.","probe-rate":"Velocity of current probe.","probe-buy":"Buy a probe and launch it into SPACE!","probe-replace":"Buy a new probe - DESTROYS current probe!",previousProbe:"Money spent on previous probe.",sliderattribs:"Choose how much of your current money you want to spend on probes.","space-probe-count":"The number of probes currently active, after replication and losses.","space-combat-loss":"The number of probes lost to combat.","space-failures":"The number of probes lost due to systems failure.","space-zoom":"The current represented scale.","space-name":"The name of the current view","space-earth":"You are here-ish.","space-moon":"Our moon (if you live on Earth)","space-sun":"The sun.  So hot right now.","space-stage-0":"Space","space-stage-1":"Space","space-stage-2":n.a.createElement("p",null,"Did the dev just skip some planets?",n.a.createElement("br",null),n.a.createElement("br",null),"You bet Uranus, he did."),"space-stage-3":"You're really out there now.","space-stage-4":"This is super spacey.  Carl Sagan Cosmos spacey.  Way beyond Kevin levels.","space-stage":"Inky blackness all around.","space-pulse":"This represents the area examined by your probes."},le=function(e){return n.a.createElement("p",null,"Countdown is ",n.a.createElement("b",null,arguments.length<=1?void 0:arguments[1])," seconds.",n.a.createElement("br",null),"Payout multiplier (from upgrades) is ",n.a.createElement("b",null,arguments.length<=2?void 0:arguments[2]),".")};var ce=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"tooltip",onMouseOver:this.props.onMouseOver,"data-tip":"tooltip"},n.a.createElement("div",{id:"tooltip-text"},function(e,t){var s,a,n;switch(e){case(e.match(/^business-buy-/)||{}).input:return s=e.match(/^business-buy-(\d+)/)[1],a=t.busStats[s].timeAdj,n=t.busStats[s].payoutAdj,le(oe(),a,n);case(e.match(/^earn-progress-/)||{}).input:return s=e.match(/^earn-progress-(\d+)/)[1],a=t.busStats[s].timeAdj,n=t.busStats[s].payoutAdj,le(re(),a,n);case"space-stage-0":case"space-stage-1":case"space-stage-2":case"space-stage-3":if(ue[e])return ue[e];break;case(e.match(/^space-stage-/)||{}).input:return ue[e]?ue[e]:ue["space-stage"];default:return ue[e]?ue[e]:e}}(this.props.tipText,this.props.userSettings)))}}]),t}(n.a.Component),de=x.DebugLog,pe=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){de("modal didmount"),w.a.setAppElement("#root")}},{key:"render",value:function(){return n.a.createElement(w.a,{isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!1,className:"Modal",overlayClassName:"Modal-Overlay"},n.a.createElement("div",{className:"modal-container"},n.a.createElement("div",{className:"modalHeader"},n.a.createElement("div",{className:"modalTitle"},this.props.title),n.a.createElement("button",{className:"modalButtons fancyButtons helpModalCloseButton",onClick:this.props.remaining?this.props.onRequestNext:this.props.onRequestClose},"CLOSE")),n.a.createElement("div",{className:"modalContent"},this.props.text)))}}]),t}(n.a.Component),me=s(28),he=s.n(me),ge=s(129),be=s.n(ge),ve=s(130),ye=s.n(ve),fe=s(94),Se=s.n(fe),we=s(131),Ee=s.n(we),ke=s(132),Oe=s.n(ke),Me=s(133),Ce=s.n(Me),Ne=s(134),xe=s.n(Ne),Te=s(135),je=s.n(Te),Re=s(136),Ie=s.n(Re),Pe=x.DebugLog,Ae={test:new he.a(be.a,{volume:.1,throttleMs:100}),busbuy:new he.a(ye.a,{volume:.1,throttleMs:100}),busmult:new he.a(Se.a,{volume:.1,throttleMs:100}),powerup:new he.a(Se.a,{volume:.1,throttleMs:100}),tabswitch:new he.a(Ee.a,{volume:.1,throttleMs:100}),toggle:new he.a(Oe.a,{volume:.1,throttleMs:100}),concentrate:new he.a(Ce.a,{volume:.1,throttleMs:100}),unconcentrate:new he.a(xe.a,{volume:.1,throttleMs:100}),probelaunch:new he.a(je.a,{volume:.1,throttleMs:100}),probefail:new he.a(Ie.a,{volume:.1,throttleMs:100})},Le=function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,null,[{key:"playSound",value:function(e){Ae[e]?Ae[e].play():Pe("no sound for",e)}}]),e}(),Be=s(21),De=x.DebugLog,Ve=function(e){function t(e){var s;return Object(c.a)(this,t),(s=Object(p.a)(this,Object(m.a)(t).call(this,e))).state=Object(l.a)({},$.freshState()),s.state.helpModalIsOpen=!1,s.modalTexts=[],s.modalTitle="",s.modalText="",s.userSettings=Object(l.a)({},$.userSettings()),s.timerRunning=!1,s.state.pauseClass="sidebarButtons fancyButtons pause-button ",s.timeInterval=100,s.timeMultiplier=s.timeInterval/1e3,s.lastLoop=Date.now(),s.gameSavedHide=n.a.createElement("div",{id:"savegame"}),s.gameSavedNotify=n.a.createElement("div",{id:"savegame",className:"game-saved"},"Game Saved"),s.gameSavedNotifyAlt=n.a.createElement("div",{id:"savegame",className:"game-saved-alt"},"Game Saved"),s.gameSavedCountdown=4,s.announceCt=0,s.overlayCt=0,s.modalCt=0,s.gameIntervalId=null,s.prestigeIntervalId=null,s.gameSaveIntervalId=null,s.domRefs=[],s.purchaseAmt="1",s.tabIndex=0,s.zoomLevel=0,s.zoomName=I.spaceZoomLevelNames[0],s.mapDistance=I.spaceZoomLevels[0],s.populateBusDomRefs=s.populateInitVals.bind(Object(h.a)(s)),s.restart=s.restart.bind(Object(h.a)(s)),s.resetAll=s.resetAll.bind(Object(h.a)(s)),s.pause=s.pause.bind(Object(h.a)(s)),s.resume=s.resume.bind(Object(h.a)(s)),s.loadGame=s.loadGame.bind(Object(h.a)(s)),s.saveGame=s.saveGame.bind(Object(h.a)(s)),s.decrementSavedGameObj=s.decrementSavedGameObj.bind(Object(h.a)(s)),s.prestige=s.prestige.bind(Object(h.a)(s)),s.updatePrestigeEarned=s.updatePrestigeEarned.bind(Object(h.a)(s)),s.updateGame=s.updateGame.bind(Object(h.a)(s)),s.clickBusiness=s.clickBusiness.bind(Object(h.a)(s)),s.clickUpgrade=s.clickUpgrade.bind(Object(h.a)(s)),s.clickAnnouncement=s.clickAnnouncement.bind(Object(h.a)(s)),s.purchaseAmtDropDownHandler=s.purchaseAmtDropDownHandler.bind(Object(h.a)(s)),s.announce=s.announce.bind(Object(h.a)(s)),s.showModal=s.showModal.bind(Object(h.a)(s)),s.nextModal=s.nextModal.bind(Object(h.a)(s)),s.sliderChange=s.sliderChange.bind(Object(h.a)(s)),s.rangeChange=s.rangeChange.bind(Object(h.a)(s)),s.enableFeature=s.enableFeature.bind(Object(h.a)(s)),s.purchaseProbe=s.purchaseProbe.bind(Object(h.a)(s)),s.getSettingsTab=s.getSettingsTab.bind(Object(h.a)(s)),s.toggleOverlay=s.toggleOverlay.bind(Object(h.a)(s)),s.toggleSound=s.toggleSound.bind(Object(h.a)(s)),s.clickConcentrate=s.clickConcentrate.bind(Object(h.a)(s)),s.decrementConcentrate=s.updateConcentrate.bind(Object(h.a)(s)),s.onMouseOver=s.onMouseOver.bind(Object(h.a)(s)),s.openHelpModal=s.openHelpModal.bind(Object(h.a)(s)),s.closeHelpModal=s.closeHelpModal.bind(Object(h.a)(s)),s.afterOpenHelpModal=s.afterOpenHelpModal.bind(Object(h.a)(s)),s.prestigeCheat=s.prestigeCheat.bind(Object(h.a)(s)),s.moneyCheat=s.moneyCheat.bind(Object(h.a)(s)),s.cheatPrestigeVal="1e9",s}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){De("game didmount"),this.resetAll(),this.loadGame(),De(x.purchaseOptsSpecial),De(I.spaceZoomLevels.map(function(e){return x.showInt(e)})),this.setState(function(e,t){return{isLoaded:!0}}),w.a.setAppElement("#root"),De("init work done")}},{key:"componentWillUnmount",value:function(){De("game willunmount"),clearInterval(this.gameIntervalId),clearInterval(this.prestigeIntervalId),clearInterval(this.gameSaveIntervalId)}},{key:"componentDidUpdate",value:function(){}},{key:"setTitle",value:function(){document.title="NEUMANN $"+x.showNum(this.userSettings.money)+" "+this.state.version}},{key:"playSound",value:function(e){this.userSettings.toggles.sound&&Le.playSound(e)}},{key:"populateInitVals",value:function(){var e=this;De("updating userSettings with bus and upg"),this.state.businesses.forEach(function(t){e.userSettings.busStats[t.id]||(e.userSettings.busStats[t.id]={owned:0,revealed:!1,timeAdj:-1,payoutAdj:1}),e.domRefs.push({name:t.name,domRef:n.a.createRef()})}),this.state.upgrades.forEach(function(t){e.userSettings.upgStats[t.id]||(e.userSettings.upgStats[t.id]={purchased:!1,revealed:!1})}),this.probeDivRef=n.a.createRef(),this.pulseRef=null,this.centerEllipseRef=null,this.innerEllipseRef=null,this.outerEllipseRef=null,this.centerPlanetRef=null,De("populated domRefs:",this.domRefs)}},{key:"stopSaveGameInterval",value:function(){this.gameSaveIntervalId&&(clearInterval(this.gameSaveIntervalId),delete this.gameSaveIntervalId)}},{key:"startSaveGameInterval",value:function(){this.gameSaveIntervalId||(this.gameSaveIntervalId=setInterval(this.saveGame,3e4),De("game intervalId set")),De("save intervalId:",this.gameIntervalId)}},{key:"resetAll",value:function(){this.pause(),this.setState(function(e,t){return Object(l.a)({},$.freshState())}),this.userSettings=Object(l.a)({},$.userSettings()),this.announceCt=0,this.modalCt=0,this.populateInitVals(),this.outerEllipseMoving=!1,this.pulseMoving=!1,this.zoomLevel=0,this.zoomName=I.spaceZoomLevelNames[0],this.mapDistance=I.spaceZoomLevels[0],this.resume()}},{key:"restart",value:function(){this.pause(),this.setState(function(e,t){return Object(l.a)({},$.freshState())}),this.userSettings=Object(l.a)({},$.userSettings()),this.populateInitVals(),this.zoomLevel=0,this.zoomName=I.spaceZoomLevelNames[0],this.mapDistance=I.spaceZoomLevels[0],this.resume()}},{key:"pause",value:function(){this.timerRunning=!1,this.setState(function(e){return{pauseClass:"sidebarButtons fancyButtons  pause-button lit"}}),this.gameIntervalId&&(clearInterval(this.gameIntervalId),delete this.gameIntervalId),this.prestigeIntervalId&&(clearInterval(this.prestigeIntervalId),delete this.prestigeIntervalId),this.stopSaveGameInterval(),De("set timeRunning to",this.timerRunning)}},{key:"resume",value:function(){this.timerRunning=!0,this.setState(function(e){return{pauseClass:"sidebarButtons fancyButtons  pause-button "}}),this.gameIntervalId||(this.gameIntervalId=setInterval(this.updateGame,this.timeInterval)),this.prestigeIntervalId||(this.prestigeIntervalId=setInterval(this.updatePrestigeEarned,1e3)),this.startSaveGameInterval(),this.lastLoop=Date.now(),De("set timeRunning to",this.timerRunning)}},{key:"loadGame",value:function(){De("loadGame"),this.stopSaveGameInterval();var e=new v.a({encodingType:"aes"}),t=e.get("neumann_game_save");if(!t)return De("no save present"),void this.startSaveGameInterval();De("loaded:",t);var s=["money","knowledge","value","number","qualityLoss","combatLoss","distance","distPerSec","num","prestigeNext","lifetimeEarnings","lifetimeLearning","lifetimeDistance","curMaxMoney"];this.userSettings=JSON.parse(t,function(e,t){return s.includes(e)?(De("  new decimal value for",e),new Be(t)):t});var a=Object(l.a)({},this.userSettings.probe);De("building probe from save.  finished:",this.userSettings.probe.finished),this.userSettings.probe=new H(this.userSettings.probe.number,this.userSettings.probe.value,this.userSettings.probe.speed,this.userSettings.probe.quality,this.userSettings.probe.combat,this.userSettings.probe.finished),console.table(this.userSettings.probe),this.userSettings.probe.number=a.number,this.userSettings.probe.qualityLoss=a.qualityLoss,this.userSettings.probe.combatLoss=a.combatLoss,this.userSettings.probe.distance=a.distance,De("userSettings:",this.userSettings),this.populateInitVals(),De("userSettings:",this.userSettings);var n=e.get("neumann_game_save_time");if(n&&Date.now()-n>3e4){var i=Date.now()-n,r=B.convertMillis(i);De("you were gone for",r.days+"d",r.hours+"h",r.minutes+"m",r.seconds+"s");var o=V.computeTotalEarningPerSec(this.state.businesses,this.userSettings,this.state.concentrate).times(Math.floor(i/1e3));De("previous money:",x.showNum(this.userSettings.money)),De("you gained $",x.showNum(o)),this.userSettings.money=this.userSettings.money.plus(o),De("now should have $",x.showNum(this.userSettings.money));var u=Be(0);this.userSettings.probe.finished?De("probe is finished"):(De("probe distance:",x.showNum(this.userSettings.probe.distance)),u=this.userSettings.probe.getDistPerSec().times(Math.floor(i/1e3)),De("probe dist gained:",x.showNum(u)),this.userSettings.probe.goFarther(u)),this.showModal("Welcome Back!",x.welcomeBack(r,o,u))}this.startSaveGameInterval(),this.announce("game loaded")}},{key:"saveGame",value:function(){var e=this;De("saveGame"),console.table(this.userSettings.probe);var t=new v.a({encodingType:"aes"}),s=JSON.stringify(this.userSettings);t.set("neumann_game_save_time",Date.now()),t.set("neumann_game_save",s);var a=this.gameSavedNotify;this.state.gameSavedObj.content===this.gameSavedNotify&&(a=this.gameSavedNotifyAlt),this.setState(function(t,s){return{gameSavedObj:{content:a,countdown:e.gameSavedCountdown}}}),De("game saved")}},{key:"decrementSavedGameObj",value:function(){var e=this;this.state.gameSavedObj.countdown>0&&this.setState(function(t,s){return{gameSavedObj:{content:t.gameSavedObj.content,countdown:t.gameSavedObj.countdown-e.timeMultiplier}}}),this.state.gameSavedObj.countdown<0&&this.setState(function(t,s){return{gameSavedObj:{content:e.gameSavedHide,countdown:0}}})}},{key:"updateConcentrate",value:function(){var e=this,t=this.state.concentrateClass;if(this.state.concentrate.time>0){t="concActive";var s=this.state.concentrate.time-this.timeMultiplier;s<=0&&(s=-10,t="concCooldown",this.playSound("unconcentrate")),this.setState(function(a,n){return{concentrate:{time:s,mult:e.userSettings.concentrate.mult},concentrateClass:t}})}if("concCooldown"===this.state.concentrateClass&&this.state.concentrate.time<0){var a=this.state.concentrate.time+this.timeMultiplier;a>=0&&(a=0,t="concIdle"),this.setState(function(s,n){return{concentrate:{time:a,mult:e.userSettings.concentrate.mult},concentrateClass:t}})}}},{key:"updatePrestigeEarned",value:function(){var e=B.calcPrestigeEarnedFromLearning(this.userSettings.knowledge).minus(this.userSettings.prestigeNext);e.gt(0)&&!e.eq(this.userSettings.prestigeNext)&&(De("newPrestigeNext:",e.toFixed(9),"prestigeNext:",this.userSettings.prestigeNext.toFixed(9)),this.userSettings.prestigeNext=this.userSettings.prestigeNext.plus(e))}},{key:"prestige",value:function(){if(this.userSettings.prestigeNext.gt(0)){this.updatePrestigeEarned();var e=this.userSettings.prestige.num.plus(this.userSettings.prestigeNext);this.restart(),this.setState(function(t){return{prestige:{num:e,val:t.prestige.val}}})}}},{key:"purchaseAmtDropDownHandler",value:function(e){this.updatePurchaseAmt(e.value)}},{key:"updatePurchaseAmt",value:function(e){De("received new purchaseAmt:",e),-1!==x.purchaseOpts.indexOf(e)&&this.purchaseAmt!==e&&(this.purchaseAmt=e,De("new purchaseAmt:",e))}},{key:"prestigeCheat",value:function(){De("CHEAT: adding",this.cheatPrestigeVal,"prestige"),this.userSettings.prestige.num=this.userSettings.prestige.num.plus(this.cheatPrestigeVal)}},{key:"moneyCheat",value:function(){De("CHEAT: adding 100% money"),this.userSettings.money=this.userSettings.money.times(2)}},{key:"incrementBusinessCounters",value:function(){var e=this,t=!1,s=this.state.businesses.map(function(s){var a=e.userSettings.busStats[s.id];-1===a.timeAdj&&(a.timeAdj=s.timeBase);var n=e.state.concentrate.time>0?e.userSettings.concentrate.mult*e.timeMultiplier:e.timeMultiplier,i=Object(l.a)({},s);if(0===a.owned)a.revealed&&0!==s.timeCounter&&(i.timeCounter=0,t=!0,De("resetting ",s.name," to timeCounter ",i.timeCounter));else{if(i.payout=0,i.timeCounter=i.timeCounter+n,i.timeCounter>=a.timeAdj){var r=Math.floor(i.timeCounter/a.timeAdj);i.payout=r,i.timeCounter=i.timeCounter%a.timeAdj}t=!0}var o=i.overlays.filter(function(e){return e.counter<e.expire});return i.overlays=o.map(function(t,s){return t.counter=t.counter+e.timeMultiplier,t}),i});t&&this.setState(function(e,t){return{businesses:s}})}},{key:"updateProbe",value:function(){if(!this.userSettings.probe.finished){this.userSettings.probe.qualityLoss.gt(0)&&!this.userSettings.probeQualityShown&&(this.userSettings.probeQualityShown=!0),this.userSettings.probe.combatLoss.gt(0)&&!this.userSettings.probeCombatShown&&(this.userSettings.probeCombatShown=!0),!this.userSettings.probe.finished&&this.userSettings.probe.getLiveNumber().lt(1)&&(this.announce("All probes lost!"),this.playSound("probefail"),this.userSettings.probe.finished=!0);var e=this.userSettings.probe.distance,t=this.userSettings.probe.getDistPerTick(this.timeMultiplier);this.userSettings.lifetimeDistance=this.userSettings.lifetimeDistance.plus(t),this.userSettings.probe.goFarther(t);var s=this.userSettings.probe.getLearned(this.userSettings.probe.distance).minus(this.userSettings.probe.getLearned(e));s.gt(0)&&(this.userSettings.knowledge=this.userSettings.knowledge.plus(s)),this.userSettings.probe.updateNumber();var a=I.convertDistanceToSpace(this.userSettings.probe.distance);this.mapDistance=a.dist,this.zoomLevel=a.idx,this.zoomName=a.name}}},{key:"incrementAnnouncementCounters",value:function(){var e=this,t=this.state.announcements.reduce(function(e,t){return(!t.ack||t.ack&&t.counter<t.fadeout)&&e.push(t),e},[]).map(function(t){var s=Object(l.a)({},t);return s.counter+=e.timeMultiplier,s.counter>=s.expire&&(s.ack=!0,s.counter=0),s});this.setState(function(e){return{announcements:t}})}},{key:"clickBusiness",value:function(e){var t=this;De("business click ",e.name),this.playSound("busbuy");var s=B.getCost(e,this.userSettings.busStats[e.id],this.purchaseAmt,this.userSettings.money);this.userSettings.money=this.userSettings.money.minus(s.cost);var a=this.userSettings.busStats[e.id],n=this.state.businesses.map(function(a){var n=t.userSettings.busStats[a.id],i=Object(l.a)({},a);if(i.id===e.id){var r=[],o=B.getOwnedMilestonesAttained(n.owned,n.owned+s.num),u=1;o.forEach(function(e){u*=2}),u>1&&(t.playSound("busmult"),t.userSettings.toggles.overlays&&r.push(t.genOverlayObj("X"+u,"ownedBonus"))),t.userSettings.toggles.overlays&&(i.overlays=t.genOverlayArr(a.overlays,"+"+s.num).concat(r)),De("adding",s.num,"to",i.name)}return i});this.userSettings.toggles.overlays&&this.setState(function(e,t){return{businesses:n}}),a.owned+=s.num,De(e.name,"owned set to",a.owned);var i=B.getTotalMilestoneIdx(this.userSettings.buyMilestone),r=Object.keys(this.userSettings.busStats).reduce(function(e,s){return t.userSettings.busStats[s].owned<e?t.userSettings.busStats[s].owned:e},Number.MAX_SAFE_INTEGER),o=B.getTotalMilestoneIdx(r);o>i&&(this.userSettings.buyMilestone=B.getTotalMilestone(o),De("new owned milestone:",this.userSettings.buyMilestone),this.state.businesses.forEach(function(e,s){t.userSettings.busStats[e.id].timeAdj=V.getAdjustedTimeBase(e,o),De(t.state.businesses[s].name,"timeAdjusted now",t.userSettings.busStats[e.id].timeAdj)}),B.getTotalMilestonesAttained(i,o).forEach(function(e){t.announce(x.thumbsUpSymbol+" All businesses at "+e+"! Speed Doubled!")}))}},{key:"enableFeature",value:function(e){switch(De("feature click ",e.name),this.playSound("powerup"),this.userSettings.upgStats[e.id].purchased=!0,this.userSettings.featureEnabled[e.id]=!0,De("feature enabled:",e.rewardTarget),e.id){case 5e3:this.announce(x.thumbsUpSymbol+" SPAAAAACE!  It's bigger on the outside.");break;case 5001:this.announce(x.thumbsUpSymbol+" When a boy robot likes a girl robot...  In space.");break;case 5002:this.announce(x.thumbsUpSymbol+" It feels like I'm building nothing at all!");break;case 5003:this.userSettings.sliderInfo.rangeSettings=X.getRangeValues(2),this.userSettings.sliderInfo.probePcts=this.reportRangePcts(),this.announce(x.thumbsUpSymbol+" Hey, Stanis\u0142aw!  What if we measured things first?");break;case 5004:this.userSettings.sliderInfo.rangeSettings=X.getRangeValues(3),this.userSettings.sliderInfo.probePcts=this.reportRangePcts(),this.announce(x.thumbsUpSymbol+" H-BOMB!  The H is for Hello.");break;case 1e4:this.announce(x.thumbsUpSymbol+" If you put the little drinky-bird over the button like so...")}}},{key:"clickUpgrade",value:function(e){switch(De("upgrade click ",e.name),this.playSound("powerup"),this.userSettings.upgStats[e.id].purchased=!0,e.costType){case"money":this.userSettings.money=this.userSettings.money.minus(e.costValue);break;case"knowledge":this.userSettings.knowledge=this.userSettings.knowledge.minus(e.costValue)}switch(e.rewardType){case"upgradeMult":this.userSettings.busStats[e.rewardTarget].payoutAdj*=e.rewardValue,this.addOverlay(e.rewardTarget,"x"+e.rewardValue,"ownedBonus"),De(this.state.businesses[e.rewardTarget].name,"received multiplier",e.rewardValue);break;default:De("unknown rewardType")}}},{key:"clickAnnouncement",value:function(e){De("announcement click ",e.id,e.text);var t=this.state.announcements.findIndex(function(t){return t.id===e.id});this.setState({announcements:f()(this.state.announcements,Object(u.a)({},t,{ack:{$set:!0},counter:{$set:0}}))})}},{key:"announce",value:function(e){var t=this;De("announce ",e);var s=new Date,a=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"."+s.getMilliseconds();this.setState(function(s){return{announcements:[].concat(Object(o.a)(s.announcements),[{id:t.announceCt++,createTime:a,text:e,counter:0,expire:3,fadeout:.4,ack:!1}])}})}},{key:"showModal",value:function(e,t){console.log("adding modal:",t),this.modalTexts.push({title:e,text:t})}},{key:"clickConcentrate",value:function(){var e=this;De("clickConcentrate"),this.playSound("concentrate"),this.state.concentrate.time<=0&&this.setState(function(t,s){return{concentrate:{time:10,mult:e.userSettings.concentrate.mult}}}),De("concentrate:",this.state.concentrate)}},{key:"genOverlayObj",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic",s=Math.floor(40*Math.random())-20,a=Math.floor(20*Math.random())-10;return{id:"overlay"+this.overlayCt++,expire:1,counter:0,ovType:t,xTarget:s,yTarget:a,text:e}}},{key:"genOverlayArr",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return De("addOverlay called:",t),[].concat(Object(o.a)(e),[this.genOverlayObj(t,s)]).slice(-4)}},{key:"addOverlay",value:function(e,t){var s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";if(this.userSettings.toggles.overlays){var n=this.state.businesses[e];De("addOverlay click ",t,n.name),this.setState(function(i,r){return{businesses:f()(i.businesses,Object(u.a)({},e,{overlays:{$set:s.genOverlayArr(n.overlays,t,a)}}))}})}}},{key:"changeTabs",value:function(e){e!==this.tabIndex&&(this.playSound("tabswitch"),this.tabIndex=e)}},{key:"sliderChange",value:function(e){this.userSettings.sliderInfo.probeSpendPct=e}},{key:"rangeChange",value:function(e){2===this.userSettings.sliderInfo.rangeSettings.rangeCt?this.userSettings.sliderInfo.rangeSettings.distribRange=[0,e[1],100]:3===this.userSettings.sliderInfo.rangeSettings.rangeCt&&(this.userSettings.sliderInfo.rangeSettings.distribRange=[0,e[1],e[2],100]),this.userSettings.sliderInfo.probePcts=this.reportRangePcts()}},{key:"reportRangePcts",value:function(){var e=0,t=0,s=0;return 1===this.userSettings.sliderInfo.rangeSettings.rangeCt?e=100:2===this.userSettings.sliderInfo.rangeSettings.rangeCt?t=100-(e=Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[1])):3===this.userSettings.sliderInfo.rangeSettings.rangeCt&&(s=100-((e=Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[1]))+(t=Math.floor(this.userSettings.sliderInfo.rangeSettings.distribRange[2]-e)))),[e,t,s]}},{key:"purchaseProbe",value:function(){var e=B.getPct(this.userSettings.money,this.userSettings.sliderInfo.probeSpendPct),t=this.reportRangePcts();De("probe cost:",e.toNumber()),De("probe attrs - pSpeed:",t[0],"pQuality:",t[1],"pCombat:",t[2]),this.userSettings.probe=new H(new Be(1),e,t[0],t[1],t[2],!1),this.playSound("probelaunch")}},{key:"getTabList",value:function(){var e=[];return e.push(n.a.createElement(O.a,{className:"tab-list-item",key:"business-tab"},"Business")),this.userSettings.featureEnabled[5e3]&&e.push(n.a.createElement(O.a,{className:"tab-list-item",key:"probe-tab"},"Space")),e.push(n.a.createElement(O.a,{className:"tab-list-item spacer-tab",key:"spacer-tab"})),(this.userSettings.prestige.num.gt(0)||this.userSettings.prestigeNext.gt(0))&&e.push(n.a.createElement(O.a,{className:"tab-list-item prestige-tab",key:"prestige-tab"},"Prestige")),e.push(n.a.createElement(O.a,{className:"tab-list-item log-tab",key:"log-tab"},"Log")),e.push(n.a.createElement(O.a,{className:"tab-list-item settings-tab",key:"settings-tab"},"Settings")),n.a.createElement("div",{id:"tabs"},n.a.createElement(O.b,{className:"tab-list"},e))}},{key:"getSpaceTab",value:function(){var e,t,s,a,i="",r=this.userSettings.probe.finished?"Buy":"REPLACE",o=this.userSettings.probe.finished?"Previous":"Current",u="Spend "+this.userSettings.sliderInfo.probeSpendPct+"%";return this.userSettings.featureEnabled[5001]?(a="",i=n.a.createElement("div",{id:"previousProbe",onMouseOver:this.onMouseOver,"data-tip":"previousProbe"},o," Probe: ",x.moneySymbolSpan(),x.showNum(this.userSettings.probe.value)),e=n.a.createElement("button",{className:"probe-"+r.toLowerCase(),onClick:this.purchaseProbe,onMouseOver:this.onMouseOver,"data-tip":"probe-"+r.toLowerCase()},r," Probe: ",x.moneySymbolSpan(),x.showNum(B.getPct(this.userSettings.money,this.userSettings.sliderInfo.probeSpendPct))),1===this.userSettings.sliderInfo.rangeSettings.rangeCt?(t=n.a.createElement("div",{className:"probe-attribs"}),s=n.a.createElement("div",{className:"sliderattribs",onMouseOver:this.onMouseOver,"data-tip":"sliderattribs"},n.a.createElement("span",{className:"probe-prod-span"},"Probe Production"),n.a.createElement("div",{className:"sliderHeader"},u),n.a.createElement("div",{className:"sliderContainer"},X.getSlider(this.userSettings.sliderInfo,this.sliderChange)))):2===this.userSettings.sliderInfo.rangeSettings.rangeCt?(s=n.a.createElement("div",{className:"sliderattribs",onMouseOver:this.onMouseOver,"data-tip":"sliderattribs"},n.a.createElement("span",{className:"probe-prod-span"},"Probe Production"),n.a.createElement("div",{className:"sliderHeader"},u),n.a.createElement("div",{className:"sliderContainer"},X.getSlider(this.userSettings.sliderInfo,this.sliderChange)),n.a.createElement("div",{className:"sliderHeader"},"Distribute Funds"),n.a.createElement("div",{className:"sliderContainer"},X.getRange(this.userSettings.sliderInfo,this.rangeChange))),t=n.a.createElement("div",{className:"probe-attribs",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs"},n.a.createElement("div",{className:"probe-attrib speed-header",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-speed"},"Speed"),n.a.createElement("div",{className:"probe-attrib quality-header",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-quality"},"Quality"),n.a.createElement("div",null),n.a.createElement("div",{className:"probe-attrib probe-speed",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-speed"},this.userSettings.sliderInfo.probePcts[0],"%"),n.a.createElement("div",{className:"probe-attrib probe-quality",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-quality"},this.userSettings.sliderInfo.probePcts[1],"%"),n.a.createElement("div",null))):(s=n.a.createElement("div",{className:"sliderattribs",onMouseOver:this.onMouseOver,"data-tip":"sliderattribs"},n.a.createElement("span",{className:"probe-prod-span"},"Probe Production"),n.a.createElement("div",{className:"sliderHeader"},u),n.a.createElement("div",{className:"sliderContainer"},X.getSlider(this.userSettings.sliderInfo,this.sliderChange)),n.a.createElement("div",{className:"sliderHeader"},"Distribute Funds"),n.a.createElement("div",{className:"sliderContainer"},X.getRange(this.userSettings.sliderInfo,this.rangeChange))),t=n.a.createElement("div",{className:"probe-attribs",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs"},n.a.createElement("div",{className:"probe-attrib speed-header",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-speed"},"Speed"),n.a.createElement("div",{className:"probe-attrib quality-header",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-quality"},"Quality"),n.a.createElement("div",{className:"probe-attrib combat-header",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-combat"},"Combat"),n.a.createElement("div",{className:"probe-attrib probe-speed",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-speed"},this.userSettings.sliderInfo.probePcts[0],"%"),n.a.createElement("div",{className:"probe-attrib probe-quality",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-quality"},this.userSettings.sliderInfo.probePcts[1],"%"),n.a.createElement("div",{className:"probe-attrib probe-combat",onMouseOver:this.onMouseOver,"data-tip":"probe-attribs-combat"},this.userSettings.sliderInfo.probePcts[2],"%")))):a=n.a.createElement("div",{id:"probe-offline",onMouseOver:this.onMouseOver,"data-tip":"probe-offline"},"[ OFFLINE ]"),this.userSettings.featureEnabled[5e3]?n.a.createElement(O.c,{className:"react-tabs__tab-panel probe-tab-panel"},n.a.createElement("div",{id:"right-sidebar",onMouseOver:this.onMouseOver,"data-tip":"right-sidebar"},a,s,t,e,i,n.a.createElement(ce,{tipText:this.state.tipText,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement(I,{probe:this.userSettings.probe,timeMultiplier:this.timeMultiplier,userSettings:this.userSettings,onMouseOver:this.onMouseOver})):n.a.createElement("div",null)}},{key:"toggleOverlay",value:function(e){this.playSound("toggle"),this.userSettings.toggles.overlays=e.target.checked}},{key:"toggleSound",value:function(e){this.userSettings.toggles.sound=e.target.checked,this.userSettings.toggles.sound&&this.playSound("toggle")}},{key:"getSettingsTab",value:function(){return n.a.createElement(O.c,{className:"react-tabs__tab-panel settings-tab-panel"},n.a.createElement("div",{id:"right-sidebar",onMouseOver:this.onMouseOver,"data-tip":"right-sidebar"},"SETTINGS",n.a.createElement(ce,{tipText:this.state.tipText,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement(se,{toggles:this.userSettings.toggles,toggleOverlay:this.toggleOverlay,toggleSound:this.toggleSound}))}},{key:"getLogTab",value:function(){return n.a.createElement(O.c,{className:"react-tabs__tab-panel log-tab-panel"},n.a.createElement("div",{id:"right-sidebar",onMouseOver:this.onMouseOver,"data-tip":"right-sidebar"},"LOGS",n.a.createElement(ce,{tipText:this.state.tipText,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement(ae,null))}},{key:"getPrestigeTab",value:function(){if(this.userSettings.prestige.num.gt(0)||this.userSettings.prestigeNext.gt(0))return n.a.createElement(O.c,{className:"react-tabs__tab-panel prestige-tab-panel"},n.a.createElement("div",{id:"right-sidebar",onMouseOver:this.onMouseOver,"data-tip":"right-sidebar"},"PRESTIGE",n.a.createElement(ce,{tipText:this.state.tipText,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement(ne,null))}},{key:"onMouseOver",value:function(e){if(e.target&&e.target.dataset){if(e.target.dataset.tip){var t=String(e.target.dataset.tip);this.setState(function(e,s){return{tipText:t}})}}else if(e.target){var s=String(e.target.attrs["data-tip"]);this.setState(function(e,t){return{tipText:s}})}else if(e.relatedTarget&&e.relatedTarget.dataset&&e.relatedTarget.dataset.tip){De("related target tip:",e.relatedTarget.dataset.tip);var a=String(e.relatedTarget.dataset.tip);this.setState(function(e,t){return{tipText:a}})}}},{key:"openHelpModal",value:function(){this.setState(function(e,t){return{helpModalIsOpen:!0}})}},{key:"closeHelpModal",value:function(){De("close Help modal"),this.setState(function(e,t){return{helpModalIsOpen:!1}})}},{key:"afterOpenHelpModal",value:function(){}},{key:"nextModal",value:function(){var e=this.modalTexts.shift();this.modalTitle=e.title,this.modalText=e.text,this.openHelpModal()}},{key:"updateGame",value:function(){var e=this;this.modalTexts.length>0&&!this.state.helpModalIsOpen&&this.nextModal(),this.state.gameSavedObj.content===this.gameSavedNotifyAlt&&this.setState(function(t,s){return{gameSavedObj:{content:e.gameSavedNotify,countdown:e.gameSavedCountdown}}});var t=Date.now(),s=t-this.lastLoop;this.lastLoop=t,this.timeMultiplier=s/1e3,this.fpsPct=Math.floor(100/s*100),this.incrementBusinessCounters(),this.updateProbe(),this.incrementAnnouncementCounters(),this.decrementSavedGameObj(),this.updateConcentrate();var a=V.getAllPayouts(this.state.businesses,this.userSettings);this.userSettings.lifetimeEarnings=this.userSettings.lifetimeEarnings.plus(a);var n=new Be(0);this.state.businesses.forEach(function(t){var s=e.userSettings.busStats[t.id];s.revealed||("money"===t.costType&&t.initialVisible.lte(e.userSettings.money)&&(s.revealed=!0,De("revealed business",t.name)),"knowledge"===t.costType&&t.initialVisible.lte(e.userSettings.knowledge)&&(s.revealed=!0,De("revealed business",t.name)))}),this.state.upgrades.forEach(function(t){var s=e.userSettings.upgStats[t.id];s.revealed||("money"===t.watchType&&t.watchValue.lte(e.userSettings.money)&&(s.revealed=!0,De("revealed upgrade",t.name)),"knowledge"===t.watchType&&t.watchValue.lte(e.userSettings.knowledge)&&(s.revealed=!0,De("revealed upgrade",t.name)),"businessOwned"===t.watchType&&e.userSettings.busStats[t.watchTarget].owned>=t.watchValue&&(s.revealed=!0,De("revealed upgrade",t.name)))}),this.userSettings.money=this.userSettings.money.plus(a),this.userSettings.money.gt(this.userSettings.curMaxMoney)&&(this.userSettings.curMaxMoney=this.userSettings.money),this.userSettings.knowledge=this.userSettings.knowledge.plus(n),this.setTitle()}},{key:"render",value:function(){var e,t=this;return this.state.isLoaded?(x.DEBUG&&(e=n.a.createElement("div",{className:"debugButtons"},n.a.createElement("button",{className:this.state.pauseClass,onClick:this.pause},"Pause"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  pause-button ",onClick:this.resume},"Resume"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  reset-button",onClick:this.resetAll},"RESET"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  prestige-button",disabled:!this.userSettings.prestigeNext.gt(0),onClick:this.prestige},"Prestige"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  test-give-prestige",onClick:this.prestigeCheat},"+",this.cheatPrestigeVal," prestige"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  test-give-money",onClick:this.moneyCheat},"+100% money"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  announce-button",onClick:function(){return t.announce(x.thumbsUpSymbol+" great job winning!  oh boy this is just super.")}},"Announce"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  save-button",onClick:this.saveGame},"SAVE"),n.a.createElement("button",{className:"sidebarButtons fancyButtons  save-button",onClick:this.loadGame},"LOAD"),n.a.createElement("button",{onClick:this.openHelpModal},"Open Modal"))),n.a.createElement("div",{id:"wrapper"},n.a.createElement("div",{id:"header"},n.a.createElement(F,{knowledge:this.userSettings.knowledge,businesses:this.state.businesses,concentrate:this.state.concentrate,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement(O.d,{className:"react-tabs-container",selectedIndex:this.tabIndex,onSelect:function(e){return t.changeTabs(e)}},this.getTabList(),n.a.createElement(O.c,{className:"react-tabs__tab-panel main-tab-panel"},n.a.createElement("div",{id:"left-sidebar"},n.a.createElement(ee,{upgrades:this.state.upgrades,businesses:this.state.businesses,userSettings:this.userSettings,onClick:this.clickUpgrade,enableFeature:this.enableFeature,onMouseOver:this.onMouseOver})),n.a.createElement("div",{id:"right-sidebar",onMouseOver:this.onMouseOver,"data-tip":"right-sidebar"},n.a.createElement("div",{className:"purchaseAmts",onMouseOver:this.onMouseOver,"data-tip":"purchaseAmts"},n.a.createElement("div",{className:"buy-wrapper",onMouseOver:this.onMouseOver,"data-tip":"purchaseAmts"},n.a.createElement("span",{className:"buyx-prefix"},"Buy ",x.multiplySymbol),n.a.createElement(k.a,{options:x.purchaseOpts,onChange:this.purchaseAmtDropDownHandler,value:this.purchaseAmt,placeholder:"Select an option",onMouseOver:this.onMouseOver}))),n.a.createElement("div",{id:"concentrate-container",onMouseOver:this.onMouseOver,"data-tip":"concentrate-container"},n.a.createElement("button",{id:"concentrateButton",className:this.state.concentrateClass,onClick:this.clickConcentrate,disabled:0!==this.state.concentrate.time},"concCooldown"===this.state.concentrateClass?"Wait: "+Math.abs(Math.floor(this.state.concentrate.time)):"concActive"===this.state.concentrateClass?x.concentrateSymbol+" : "+Math.abs(Math.ceil(this.state.concentrate.time)):"Concentrate "+this.userSettings.concentrate.mult+"x Speed")),e,n.a.createElement(ce,{tipText:this.state.tipText,userSettings:this.userSettings,onMouseOver:this.onMouseOver})),n.a.createElement("div",{id:"content",onMouseOver:this.onMouseOver,"data-tip":"content"},n.a.createElement("div",{className:"container"},n.a.createElement(V,{businesses:this.state.businesses,concentrate:this.state.concentrate,userSettings:this.userSettings,purchaseAmt:this.purchaseAmt,onClick:this.clickBusiness,domRefs:this.domRefs,onMouseOver:this.onMouseOver})))),this.getSpaceTab(),n.a.createElement(O.c,{className:"react-tabs__tab-panel spacer-tab-panel"}),this.getPrestigeTab(),this.getLogTab(),this.getSettingsTab()),n.a.createElement("div",{id:"footer"},n.a.createElement("div",{id:"version"},"v. 0.0.1"),n.a.createElement("div",{id:"fps"},"fps:",this.fpsPct,"%"),this.state.gameSavedObj.content),n.a.createElement("div",{id:"announcements"},n.a.createElement(te,{announcements:this.state.announcements,onClick:this.clickAnnouncement})),n.a.createElement(pe,{isOpen:this.state.helpModalIsOpen,onRequestClose:this.closeHelpModal,onRequestNext:this.nextModal,title:this.modalTitle,text:this.modalText,remaining:this.modalTexts.length}))):n.a.createElement("div",{id:"wrapper"})}}]),t}(n.a.Component);r.a.render(n.a.createElement(Ve,null),document.getElementById("root"))},36:function(e,t,s){},94:function(e,t,s){e.exports=s.p+"static/media/powerup.ea2eaf2a.mp3"}},[[137,1,2]]]);
//# sourceMappingURL=main.1173231a.chunk.js.map